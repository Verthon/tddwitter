(()=>{"use strict";var e={90086:function(e,t,s){var n,r,i,l,a={};s.r(a),s.d(a,{Q1:()=>g,nl:()=>p,TM:()=>f,Op:()=>y,jK:()=>h,or:()=>x,Sx:()=>u,nE:()=>m,Y7:()=>j});var o=s(65723),d=s(6269),c=s(71532),u=((K={}).Light="light",K.Dark="dark",K),h=((W={})[W.Success=0]="Success",W[W.Pending=1]="Pending",W[W.Fail=2]="Fail",W),p=((H={})[H.Success=0]="Success",H[H.Pending=1]="Pending",H[H.Updating=2]="Updating",H[H.Fail=3]="Fail",H),m=((q={}).List="list",q.Group="group",q),f=((U={}).Cn="cn",U.En="en",U),x=((V={})[V.BasePadding=20]="BasePadding",V[V.BaseBorderRadius=8]="BaseBorderRadius",V[V.NavBarHeight=54]="NavBarHeight",V),g=((J={}).Red="#e17055",J.Green="#52c41a",J.Yellow="#faad14",J.Blue="#1677ff",J);let j="undefined"==typeof window?0:.85*window.innerWidth>=1100?.85*window.innerWidth:1100,y="";function v(e){return window.localStorage.getItem(`__RSDOCTOR__STORAGE__${e}`)}function A(e,t){try{return window.localStorage.setItem(`__RSDOCTOR__STORAGE__${e}`,t),!0}catch(e){return console.error(e),!1}}function b(){return v("LOCALE")||f.En}function S(){return!!v("VIEWMODE")}d.Ay.use(c.r9).init({lng:b(),resources:{en:{translations:{Overall:"Overall","Compile Analysis":"Compile Analysis","Bundle Alerts":"Bundle Alerts","Help Center":"Help Center",LoadersAnalysis:"Loaders Analysis","Loaders Timeline":"Loaders Timeline","Loaders Analysis":"Loaders Analysis","Rsdoctor Introduction":"Rsdoctor Introduction","Compilation Alerts":"Compilation Alerts","Plugins Analysis":"Plugins Analysis",PluginsAnalysis:"Plugins Analysis",ModuleResolve:"Module Resolve","Bundle Analysis":"Bundle Analysis",BundleSize:"Bundle Size",ViewBundleSize:"View Bundle Size","Module Graph":"Module Graph",TreeShaking:"Tree Shaking","Rule Index":"Rule Index",Resources:"Resources","Project Overall":"Project Overall","Compile Overall":"Compile Overall","Bundle Overall":"Bundle Overall","Expand Omitted":"By default, the reasons tree collapses to the middle of the module introduced by a third party. Click on this icon to view the full tree diagram","Concatenated Tag":"Concatenated Module,hover can display the name of the concatenated main module. Note: the bundled size of the concatenated module is zero, possibly because it is aggregated into the main module.","the file content not changed after transpiled by this loader":"the file content not changed after transpiled by this loader","Output Assets List":"Output Assets List","filter the output assets which size is greater than the input value":"filter the output assets which size is greater than the input value","filter the modules which size is greater than the input value":"filter the modules which size is greater than the input value","After Compile":"After Compile","After Bundle":"After Bundle",CodeModeExplain:"In lite mode or pure stats.json upload, only source code.",DuplicatePakCodeExplain:"There is no code, when in the case of pure stats.json.",AsyncLoaderInfo:"For async loaders, the time cost of each loader is not accurate. For example: mini-css-extract-plugin's loader.",Details:"Details",Expand:"Expand",Collapse:"Collapse"}},cn:{translations:{Overall:"概览","Compile Analysis":"编译分析","Bundle Alerts":"编译预警","Help Center":"帮助中心","Rsdoctor Introduction":"Rsdoctor 介绍","Compilation Alerts":"编译预警","Plugins Analysis":"Plugins 分析",LoadersAnalysis:"Loaders 分析","Loaders Timeline":"Loaders 概览","Loaders Analysis":"Loaders 分析",PluginsAnalysis:"Plugins 分析",ModuleResolve:"Module Resolve 分析","Bundle Analysis":"产物分析",BundleSize:"产物体积分析",ViewBundleSize:"查看包大小","Module Graph":"Module Graph",TreeShaking:"Tree Shaking","Rule Index":"错误索引信息",Resources:"资源","Project Overall":"项目信息概览","Compile Overall":"编译数据概览","Bundle Overall":"产物数据概览","Expand Omitted":" reasons 树会默认折叠中间的第三方引入的模块，点击这个图标可以查看完整树图","Concatenated Tag":"串联模块，hover 上去可以显示聚合成的主模块名称。注：聚合模块 bundled size 为零，有可能是因为被聚合到了主模块中。","the file content not changed after transpiled by this loader":"该文件内容在 loader 处理前后没有发生变化","Output Assets List":"产物文件列表","filter the output assets which size is greater than the input value":"筛选大小大于输入值的产物文件","filter the modules which size is greater than the input value":"筛选大小大于输入值的模块","After Compile":"编译后","After Bundle":"打包后",CodeModeExplain:"Lite 模式下或纯 stats.json 上传的情况下只有 source code.",DuplicatePakCodeExplain:"纯 stats.json 输入的情况下没有代码，可使用 Rsdoctor 插件参与构建会有对应代码。",AsyncLoaderInfo:"对于异步 loader，单个 loader 的耗时可能不准确。例如：mini-css-extract-plugin 的 loader。",Details:"详情",Expand:"展开",Collapse:"收起"}}},fallbackLng:{"zh-CN":["cn"],default:["en"]},debug:!1,ns:["translations"],defaultNS:"translations",keySeparator:!1,interpolation:{escapeValue:!1}});var w=s(22155),C=s(49599),M=s(82943),k=s(25920),D=s(59717),P=s(33342),z=s(93655),I=s(4171),N=s.n(I),E=s(76301);let _=["#F2793D","#F28B24","#F2A200","#F5CC00","#F5E000","#A3D900","#66CC00","#0AC419","#0AC496","#0AC7D1","#00A8E0","#1471F5","#4060FF","#7559FF","#884DFF","#A526FF","#BA39E5","#C700D9","#D900B5","#E50099","#E52E6B","#F24957","#30B2F2","#00BF70","#5959FF","#9F40FF","#528BFF"];var T=((Y={})[Y.Bootstrap=0]="Bootstrap",Y[Y.Compile=1]="Compile",Y[Y.Done=2]="Done",Y[Y.Minify=3]="Minify",Y[Y.Loader=4]="Loader",Y[Y.Normal=5]="Normal",Y);let R={green:[O("#32b26a",.6),O("#5fcf92",.6),O("#8ee2b6",.8),O("#b7e1cd",1),O("#cdeee0",1),O("#e0f7ef",1),O("#c8e6d6",1)],blue:[O("#3498f7",.6),O("#5eb3fa",.6),O("#8ccafc",.8),O("#b3d8f8",1),O("#cde6fa",1),O("#e0f2fd",1),O("#c8e0ef",1)],purple:[O("#a04ddb",.6),O("#b26ef0",.6),O("#c49ff5",.8),O("#d1b3e6",1),O("#e0c8f2",1),O("#f0e6fa",1),O("#d6c8e6",1)],yellow:[O("#ffe066",.6),O("#ffec80",.6),O("#fff599",.8),O("#fff9c4",1),O("#fffbe0",1),O("#fffde7",1),O("#f5f2c8",1)],grey:[O("#7a7a7a",.7),O("#969696",.7),O("#b0b0b0",.8),O("#c8c8c8",1),O("#dcdcdc",1),O("#ededed",1),O("#f7f7f7",1)]};function O(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16);return`rgba(${s}, ${n}, ${r}, ${t})`}let B=["blue","purple","yellow","grey","green"];var L=s(40097),F=s(74861),$=s(67559);let G=(0,w.memo)(e=>{let{loaderData:t,pluginsData:s,formatterFn:n,chartType:r=T.Normal,exts:i=null}=e,l=[],a=[],[d,c]=(0,w.useState)({});return L.Y([M.a,k.a,D.a,P.a,z.a]),(0,w.useEffect)(()=>{if(!t)return;let e=[];t.forEach(t=>{e.unshift(t.n+" total"),e.unshift(t.n)}),t.forEach(function(t,s){var n;if(l.push({name:t.n+" total",value:[e.indexOf(t.n+" total"),t.s,t.e,t.e-t.s],itemStyle:{normal:{color:_[Math.floor(27*Math.random())],opacity:.25}}}),null==t?void 0:t.c)for(let s=0;s<(null==t||null==(n=t.c)?void 0:n.length);s++)l.push({name:t.n,value:[e.indexOf(t.n),t.c[s].s,t.c[s].e,t.c[s].e-t.c[s].s],itemStyle:{normal:{color:_[Math.floor(27*Math.random())],opacity:.25}},ext:t.c[s].ext})}),a=e.map((e,t)=>t%2!=0?e.replace(" total",""):"")},[t]),(0,w.useEffect)(()=>{if(!s)return;let e=(0,E.A)(s,e=>e.pid);Object.keys(e).reverse().forEach(function(t,s){e[t].forEach((e,t)=>{l.push({name:String(e.pid),value:[s,e.args.s,e.args.e,e.args.e-e.args.s],itemStyle:{normal:{color:_[Math.floor(27*Math.random())],opacity:.25}},ext:e})}),a.push(String(t.charAt(0).toUpperCase()+t.slice(1)))})},[s]),(0,w.useEffect)(()=>{c({tooltip:{formatter:e=>n(e)},dataZoom:[{type:"slider",filterMode:"weakFilter",showDataShadow:!1,top:-10},{type:"inside",filterMode:"weakFilter"}],grid:{top:10,left:0,bottom:10,right:0,height:a.length>(r===T.Loader?6:3)?"auto":60*a.length,containLabel:!0},xAxis:{interval:(null==i?void 0:i.endTimestamp)&&(null==i?void 0:i.startTimestamp)?Math.floor((i.endTimestamp-i.startTimestamp)/8):null,position:"top",splitLine:{show:!0},scale:!0,axisLine:{show:!1},axisLabel:{formatter:e=>N()(e).format("HH:mm:ss:SSS")}},yAxis:{type:"category",splitLine:{show:!1},axisLabel:{inside:!0,lineHeight:20,width:100,fontSize:12,color:"#000",verticalAlign:"bottom"},axisLine:{show:!1},axisTick:{show:!1},data:a},series:[{type:"custom",renderItem:function(e,t){let s=t.value(0),n=t.coord([t.value(1),s]),i=t.coord([t.value(2),s]),l=.3*t.size([0,1])[1],a=F.clipRectByRect({x:n[0],y:r===T.Loader?n[1]-(s%2!=0?0:2*l):n[1],width:i[0]-n[0]||5,height:l},{x:e.coordSys.x,y:e.coordSys.y,width:e.coordSys.width,height:e.coordSys.height});return a&&{type:"rect",transition:["shape"],shape:a,style:t.style(),enterFrom:{style:{opacity:0},x:0}}},itemStyle:{opacity:.8},encode:{x:[1,2],y:0},data:l}]})},[t,s,i]),(0,o.jsx)(C.A,{option:d,echarts:$,style:{width:"100%",minHeight:r===T.Loader?"500px":r===T.Minify?"100px":"200px",maxHeight:r===T.Minify?"100px":"1000px",border:"1px solid #eee",borderRadius:"10px"}})});var K,W,H,q,U,V,J,Y,Z,Q,X=s(83397),ee=s(26838),et=s(46068),es=s(8963),en=s(97142),er=s.n(en),ei=s(67115),el=s(13078),ea=s.n(el),eo=s(85409),ed=s(4678),ec=s.n(ed),eu=s(35207),eh=s(85409),ep={};ep.d=(e,t)=>{for(var s in t)ep.o(t,s)&&!ep.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},ep.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),ep.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var em={};ep.r(em),ep.d(em,{SummaryCostsDataName:()=>eN});var ef={};ep.r(ef),ep.d(ef,{decode:()=>e_,encode:()=>eE});var ex={};ep.r(ex),ep.d(ex,{compressText:()=>eO,decompressText:()=>eB,mergeIntervals:()=>eR,random:()=>eL});var eg={};ep.r(eg),ep.d(eg,{isFilePath:()=>e$,isRemoteUrl:()=>eG,isUrl:()=>eF});var ej={};ep.r(ej),ep.d(ej,{fetchShardingData:()=>eW,fetchShardingFiles:()=>eH,isShardingData:()=>eK});var ey={};ep.r(ey),ep.d(ey,{LoaderInternalPropertyName:()=>e4,findLoaderTotalTiming:()=>eq,getDirectoriesLoaders:()=>e1,getLoaderChartData:()=>eZ,getLoaderCosts:()=>eV,getLoaderFileDetails:()=>eX,getLoaderFileFirstInput:()=>e5,getLoaderFileInputAndOutput:()=>e2,getLoaderFileTree:()=>eQ,getLoaderFolderStatistics:()=>e0,getLoaderNames:()=>eJ,getLoadersCosts:()=>eU,getLoadersTransformData:()=>eY,isVue:()=>e6});var ev={};ep.r(ev),ep.d(ev,{formatCosts:()=>e8,getCurrentTimestamp:()=>te,getUnit:()=>e9,toFixedDigits:()=>e7});var eA={};ep.r(eA),ep.d(eA,{getResolverCosts:()=>tn,getResolverFileDetails:()=>ti,getResolverFileTree:()=>tr,isResolveFailData:()=>ts,isResolveSuccessData:()=>tt});var eb={};ep.r(eb),ep.d(eb,{isJsExt:()=>tx,isStyleExt:()=>tf});var eS={};ep.r(eS),ep.d(eS,{diffAssetsByExtensions:()=>tR,diffSize:()=>tT,extname:()=>tF,filterAssets:()=>tz,filterAssetsByExtensions:()=>tP,filterModulesAndDependenciesByPackageDeps:()=>tS,formatAssetName:()=>tM,getAllBundleData:()=>tL,getAssetDetails:()=>tB,getAssetsDiffResult:()=>t_,getAssetsSizeInfo:()=>tI,getAssetsSummary:()=>tO,getChunkByChunkId:()=>to,getChunkIdsByAsset:()=>tl,getChunksByAsset:()=>tc,getChunksByChunkIds:()=>td,getChunksByModule:()=>ta,getChunksByModuleId:()=>tu,getDependenciesByModule:()=>tp,getDependencyByPackageData:()=>th,getDependencyByResolvedRequest:()=>tm,getEntryPoints:()=>t$,getInitialAssetsSizeInfo:()=>tE,getModuleByDependency:()=>tb,getModuleDetails:()=>tw,getModuleIdsByChunk:()=>tj,getModuleIdsByModulesIds:()=>ty,getModulesByAsset:()=>tg,getModulesByChunk:()=>tv,getModulesByChunks:()=>tA,isAssetMatchExtension:()=>tk,isAssetMatchExtensions:()=>tD,isInitialAsset:()=>tN});var ew={};ep.r(ew),ep.d(ew,{getBundleDiffPageQueryString:()=>tG,getBundleDiffPageUrl:()=>tK,parseFilesFromBundlePageUrlQuery:()=>tW});var eC={};ep.r(eC),ep.d(eC,{getPluginData:()=>tV,getPluginHooks:()=>tH,getPluginSummary:()=>tU,getPluginTapNames:()=>tq});var eM={};ep.r(eM),ep.d(eM,{getPackageRelationAlertDetails:()=>tJ});var ek={};ep.r(ek),ep.d(ek,{RspackLoaderInternalPropertyName:()=>tY,RspackSummaryCostsDataName:()=>tZ,checkSourceMapSupport:()=>tQ});var eD={};ep.r(eD),ep.d(eD,{APIDataLoader:()=>tX});var eP={};ep.r(eP),ep.d(eP,{compact:()=>t6,isEmpty:()=>t2,isNil:()=>t3,isNumber:()=>t1,isObject:()=>t5,isPlainObject:()=>t7,isString:()=>t9,isUndefined:()=>t0,last:()=>t4,pick:()=>t8});var ez={};ep.r(ez),ep.d(ez,{MODULE_PATH_PACKAGES:()=>st,PACKAGE_PATH_NAME:()=>ss,getPackageMetaFromModulePath:()=>sn});var eI={};ep.r(eI),ep.d(eI,{getMcpConfigPath:()=>si,writeMcpPort:()=>sr});var eN=((Z={}).Bootstrap="bootstrap->beforeCompile",Z.Compile="beforeCompile->afterCompile",Z.Done="afterCompile->done",Z.Minify="minify(processAssets)",Z);function eE(e){let t=`${e.charCodeAt(0)}`;for(let s=1;s<e.length;s++)t+=`!${e.charCodeAt(s)}`;return t}function e_(e){let t="",s="";for(let n=0;n<e.length;n++)"!"===e[n]?(t+=String.fromCharCode(+s),s=""):s+=e[n];return s&&(t+=String.fromCharCode(+s)),t}let eT=(0,ei.h)();function eR(e){let t,s;e.sort((e,t)=>e[0]-t[0]);let n=[];for(let r=0;r<e.length;r++)s=e[r],!t||s[0]>t[1]?(t=s,n.push(s)):t[1]=Math.max(t[1],s[1]);return n}function eO(e){try{return(0,et.deflateSync)(e).toString("base64")}catch(e){return eT.debug(`compressText error: ${e}`),""}}function eB(e){return(0,et.inflateSync)(es.Buffer.from(e,"base64")).toString()}function eL(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function eF(e){return/^https?:\/\//.test(e)}function e$(e){return(0,el.isAbsolute)(e)}function eG(e){return!!("string"==typeof e&&(eF(e)||(0,el.isAbsolute)(e)))}function eK(e){return!!(Array.isArray(e)&&e.length>0&&e.every(e=>eG(e)))}async function eW(e,t){let s=await Promise.all(e.map(e=>t(e))),n=0===s.length?[]:s.reduce((e,t)=>e+t);return"object"==typeof n?n:JSON.parse(eB(n))}async function eH(e,t,s){return(await Promise.all(Object.keys(e).map(async n=>{let r=e[n];return(null==s?void 0:s.length)&&0>s.indexOf(n)?{[n]:[]}:eK(r)?{[n]:await eW(r,t)}:{[n]:r}}))).reduce((e,t)=>Object.assign(e,t))}function eq(e){let t=1/0,s=-1/0;for(let n=0;n<e.length;n++){let r=e[n];r.startAt<=t&&(t=r.startAt),r.endAt>=s&&(s=r.endAt)}return{start:t,end:s}}function eU(e,t){let s={},n={};t.forEach(t=>{e(t)?(s[t.pid]||(s[t.pid]=[]),s[t.pid].push([t.startAt,t.endAt])):(n[t.pid]||(n[t.pid]=[]),n[t.pid].push([t.startAt,t.endAt]))});let r=0,i=Object.keys(s);for(let e=0;e<i.length;e++){let t=i[e],l=eR(s[t]),a=eR(n[t]||[]).filter(e=>{let[t,s]=e;return l.some(e=>t>=e[0]&&s<=e[1])});r+=(l.length?l.reduce((e,t)=>e+=t[1]-t[0],0):0)-(a.length?a.reduce((e,t)=>e+=t[1]-t[0],0):0)}return r}function eV(e,t){let s=t.filter(t=>!t.loader.includes("builtin")&&t!==e&&t.pid===e.pid&&t.startAt>=e.startAt&&t.endAt<=e.endAt),n=e.endAt-e.startAt;return s.length&&eR(s.map(t=>[Math.max(t.startAt,e.startAt),Math.min(t.endAt,e.endAt)])).forEach(e=>{let t=e[1]-e[0];n-=t}),n}function eJ(e){let t=new Set;return e.forEach(e=>e.loaders.forEach(e=>t.add(e3(e.loader)))),[...t]}function eY(e){let t=[];for(let s=0;s<e.length;s++){let n=e[s];for(let e=0;e<n.loaders.length;e++){let s=n.loaders[e];t.push(s)}}return t}function eZ(e){let t=[],s=eY(e);return e.forEach(e=>{e.loaders.forEach(n=>{t.push({layer:e.resource.layer,loader:e3(n.loader),isPitch:n.isPitch,startAt:n.startAt,endAt:n.endAt,pid:n.pid,sync:n.sync,resource:e.resource.path,costs:eV(n,s)})})}),t}function eQ(e){let t=eY(e);return e.map(e=>{let{loaders:s,resource:n}=e;return{path:n.path,layer:n.layer,loaders:s.map(e=>({key:e.path,loader:e3(e.loader),path:e.path,errors:e.errors,costs:eV(e,t)}))}})}function eX(e,t){let s=t.find(t=>t.resource.path===e);if(!s)throw Error(`"${e}" not match any loader data`);let n=eY(t);return{...s,loaders:s.loaders.map(e=>({...e,loader:e3(e.loader),costs:eV(e,n)}))}}function e0(e,t){let s=t.filter(t=>{let{path:s}=t.resource;return s.startsWith(e)}),n=[],r=new Map;return s.forEach(e=>{e.loaders.forEach(e=>{let t=r.get(e.loader);return t?r.set(e.loader,{files:t.files+1,path:e.path}):r.set(e.loader,{files:1,path:e.path}),n.push({loader:e.loader,startAt:e.startAt,endAt:e.endAt,pid:e.pid})})}),Array.from(r).map(e=>{let t=eU(t=>t.loader===e[0],n);return{loader:e[0],files:e[1].files,path:e[1].path,costs:t}})}function e1(e,t){var s;let n;return(s=t||eh.cwd(),n=new Set,e.forEach(e=>{if(e.resource.path.startsWith(s)){let t=e.resource.path.split(s).slice(1).join("/").split("/");if(t.length>=2){let e=t.slice(0,2).join("/");n.add(`${s}/${e}`)}}else{let t=e.resource.path.split("/"),s=t.slice(0,t.length-1).join("/");n.add(s)}}),Array.from(n)).map(t=>{let s=e0(t,e);return{directory:t,stats:s}})}function e5(e,t){for(let s=0;s<t.length;s++){let n=t[s];if(n.resource.path===e){let e=n.loaders.filter(e=>!e.isPitch);if(!e.length)return"";return e[0].input||""}}return""}function e2(e,t,s,n){for(let r=0;r<n.length;r++){let i=n[r];if(i.resource.path===e)for(let e=0;e<i.loaders.length;e++){let n=i.loaders[e];if(n.loader===t&&n.loaderIndex===s)return{input:n.input||"",output:n.result||""};return{input:"",output:""}}}return{input:"",output:""}}eT.override({log:e=>{console.log(`${er().green("[RSDOCTOR LOG]")} ${e}`)},info:e=>{console.log(`${er().yellow("[RSDOCTOR INFO]")} ${e}`)},warn:e=>{console.warn(`${er().yellow("[RSDOCTOR WARN]")} ${e}`)},start:e=>{console.log(`${er().green("[RSDOCTOR START]")} ${e}`)},ready:e=>{console.log(`${er().green("[RSDOCTOR READY]")} ${e}`)},error:e=>{console.error(`${er().red("[RSDOCTOR ERROR]")} ${e}`)},success:e=>{console.error(`${er().green("[RSDOCTOR SUCCESS]")} ${e}`)},debug:e=>{eh.env.DEBUG&&console.log(`${er().blue("[RSDOCTOR DEBUG]")} ${e}`)}});let e4="__l__",e6=e=>("module"in e.options&&e.options.module.rules||[]).some(e=>{var t;return!!(e&&"object"==typeof e&&e.test instanceof RegExp&&(null==(t=e.test)?void 0:t.test(".vue")))}),e3=e=>{let t=e.includes("node_modules")?e.split("node_modules"):null;return t?t[t.length-1]:e};function e7(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return 0===t?Math.floor(e):+e.toFixed(t)}function e9(e,t){return"m"===t?e>1?"mins":"min":e>1?"hours":"hour"}function e8(e){if((e=Number(e))>=1e3){let t=e/1e3;if(t>=60){let e=t/60;if(e>=60){let t=e7(e/60,0),s=e7(e%60,1),n=e9(t,"h");return s>0?`${t}${n} ${s}${e9(s,"m")}`:`${t}${n}`}let s=e9(e=e7(e,0),"m"),n=e7(t%60,0);return n>0?`${e}${s} ${n}s`:`${e}${s}`}return`${e7(t,1)}s`}if(e>=10)return`${+e7(e,0)}ms`;if(e>=1)return`${+e7(e,1)}ms`;let t=+e7(e,2);return 0===t&&(t=+e7(e,3)),`${t}ms`}function te(e,t){let s=(0,eo.hrtime)(t);return e+1e3*s[0]+(eh.env.RSTEST?Math.round(s[1]/1e6):s[1]/1e6)}function tt(e){return!!e.result}function ts(e){return!!e.error}function tn(e,t){let s=t.filter(t=>t!==e&&t.pid===e.pid&&t.startAt>=e.startAt&&t.endAt<=e.endAt),n=e.endAt-e.startAt;return s.length&&eR(s.map(t=>[Math.max(t.startAt,e.startAt),Math.min(t.endAt,e.endAt)])).forEach(e=>{let t=e[1]-e[0];n-=t}),n}function tr(e){return e.map(e=>({issuerPath:e.issuerPath}))}function ti(e,t,s,n){let r=s.find(t=>t.path===e),i=t.filter(t=>t.issuerPath===e),l=r&&n&&n[r.id]?n[r.id].source:"",a=i.reduce((e,t)=>t.request&&tt(t)?e.replace(RegExp(`["']${t.request}["']`),`"${t.result}"`):e,l);return{filepath:e,before:l,after:a,resolvers:i.map(e=>({...e,costs:tn(e,t)}))}}function tl(e){return e.chunks?e.chunks:[]}function ta(e,t){return e.chunks.length?td(e.chunks,t):[]}function to(e,t){return t.find(t=>t.id===e)}function td(e,t,s){return e.length?e.map(e=>t.find(t=>t.id===e)).filter(Boolean).map(e=>{if(s&&s.length>0){let t={};for(let n of s)void 0!==e[n]&&(t[n]=e[n]);return t}return e}):[]}function tc(e,t,s){return td(tl(e),t,s)}function tu(e,t,s){let n=t.find(t=>t.id===e);return n?ta(n,s):[]}function th(e,t){return t.find(t=>t.id===e.dependencyId)}function tp(e,t){return e.dependencies.map(e=>t.find(t=>t.id===e)).filter(Boolean)}function tm(e,t){return t.find(t=>t.resolvedRequest===e)}function tf(e){return/\.(c|le|sa|sc)ss(\?.*)?$/.test(e)}function tx(e){return/\.(js|ts|jsx|tsx)(\?.*)?$/.test(e)}function tg(e,t,s,n,r){let i=td(tl(e),t);return tA(e.path,i,s,n,r)}function tj(e){let{modules:t=[]}=e;return t}function ty(e,t){return e.map(e=>t.find(t=>t.id===e)).filter(Boolean)}function tv(e,t,s){return tj(e).map(e=>{let n=t.find(t=>t.id===e);if(s&&s.length>0){if(!n)return null;let e={};for(let t of s)void 0!==n[t]&&(e[t]=n[t]);return e}return n}).filter(Boolean)}function tA(e,t,s,n,r){let i=[],l=tf(e)?tf:tx(e)?tx:()=>!0;try{t.forEach(e=>{tv(e,s,n).forEach(e=>{let t=e.path||"";l(t)&&(!r||r(e))&&!i.filter(t=>t.id===e.id).length&&i.push(e)})})}catch(e){eT.debug(e)}return i}function tb(e,t){return t.find(t=>t.id===e.module)}function tS(e,t,s){let n=[],r=[];for(let i=0;i<e.length;i++){let l=th(e[i],t);if(l){n.push(l);let e=tb(l,s);e&&r.push(e)}}return{dependencies:n,modules:r}}function tw(e,t,s){let n=t.find(t=>t.id===e);return{module:n,dependencies:tp(n,s)}}let tC=RegExp(`(.*)${/[-|.]/.source}${/[a-z|A-Z|0-9]{4,32}/.source}(${/(?:\.[a-z｜A-Z|0-9]{2,}){1,}/.source})$`);function tM(e,t){var s;let n=null==t?void 0:t.split("."),r="",i=e;return(null==n?void 0:n.length)&&n.length>=3&&(null==(s=n[n.length-2])?void 0:s.indexOf("["))<0&&"js|css|html".indexOf(n[n.length-1])>-1?(r=n[n.length-2],i=e.replace(/(.*)(\.[a-f0-9]{4,32})([^.]*.[^.]+){2,}/g,"$1"),`${i}.${r}.${e.substring(e.lastIndexOf(".")+1)}`):e.replace(tC,"$1$2")}function tk(e,t){return e.path.slice(-t.length)===t||tF(e.path)===t}function tD(e,t){return!!t.length&&t.some(t=>tk(e,t))}function tP(e,t){return"string"==typeof t?e.filter(e=>tk(e,t)):Array.isArray(t)?e.filter(e=>tD(e,t)):[]}function tz(e,t){return t&&(e="function"==typeof t?e.filter(t):tP(e,t)),e}function tI(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{withFileContent:n=!0,filterOrExtensions:r}=s;return(e=e.filter(e=>!tD(e,X.Constants.MapExtensions)),r&&(e=tz(e,r)),e.length)?{count:e.length,size:e.reduce((e,t)=>e+t.size,0),files:e.map(e=>({path:e.path,size:e.size,gzipSize:e.gzipSize,initial:tN(e,t),content:n?e.content:void 0}))}:{count:0,size:0,files:[]}}function tN(e,t){return tc(e,t).some(e=>!!e.initial)}function tE(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s.filterOrExtensions&&(e=tz(e,s.filterOrExtensions)),tI(e,t,{...s,filterOrExtensions:e=>tN(e,t)})}function t_(e,t){return{all:{total:tR(e,t)},js:{total:tR(e,t,X.Constants.JSExtension),initial:tR(e,t,X.Constants.JSExtension,!0)},css:{total:tR(e,t,X.Constants.CSSExtension),initial:tR(e,t,X.Constants.CSSExtension,!0)},imgs:{total:tR(e,t,X.Constants.ImgExtensions)},html:{total:tR(e,t,X.Constants.HtmlExtension)},media:{total:tR(e,t,X.Constants.MediaExtensions)},fonts:{total:tR(e,t,X.Constants.FontExtensions)},others:{total:tR(e,t,e=>!tD(e,[X.Constants.JSExtension,X.Constants.CSSExtension,X.Constants.HtmlExtension].concat(X.Constants.ImgExtensions,X.Constants.MediaExtensions,X.Constants.FontExtensions,X.Constants.MapExtensions)))}}}function tT(e,t){let s=e===t;return{percent:s?0:0===e?100:Math.abs(t-e)/e*100,state:s?X.Client.RsdoctorClientDiffState.Equal:e>t?X.Client.RsdoctorClientDiffState.Down:X.Client.RsdoctorClientDiffState.Up}}function tR(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r,i,{size:l,count:a}=n?tE(e.assets,e.chunks,{filterOrExtensions:s}):tI(e.assets,e.chunks,{filterOrExtensions:s});if(e===t)r=l,i=a;else{let{size:e,count:l}=n?tE(t.assets,t.chunks,{filterOrExtensions:s}):tI(t.assets,t.chunks,{filterOrExtensions:s});r=e,i=l}let{percent:o,state:d}=tT(l,r);return{size:{baseline:l,current:r},count:{baseline:a,current:i},percent:o,state:d}}function tO(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={...s,filterOrExtensions:X.Constants.JSExtension},r={...s,filterOrExtensions:X.Constants.CSSExtension},i={...s,filterOrExtensions:X.Constants.ImgExtensions},l={...s,filterOrExtensions:X.Constants.HtmlExtension},a={...s,filterOrExtensions:X.Constants.MediaExtensions},o={...s,filterOrExtensions:X.Constants.FontExtensions},d={...s,filterOrExtensions:e=>!tD(e,[X.Constants.JSExtension,X.Constants.CSSExtension,X.Constants.HtmlExtension].concat(X.Constants.ImgExtensions,X.Constants.MediaExtensions,X.Constants.FontExtensions,X.Constants.MapExtensions))};return{all:{total:tI(e,t,s)},js:{total:tI(e,t,n),initial:tE(e,t,n)},css:{total:tI(e,t,r),initial:tE(e,t,r)},imgs:{total:tI(e,t,i)},html:{total:tI(e,t,l)},media:{total:tI(e,t,a)},fonts:{total:tI(e,t,o)},others:{total:tI(e,t,d)}}}function tB(e,t,s,n,r){let i=t.find(t=>t.path===e);return{asset:i,chunks:tc(i,s),modules:tg(i,s,n,void 0,r)}}function tL(e,t,s,n){let r=[];try{for(let i=0;i<e.length;i++){let l=e[i];r.push({asset:l,modules:tg(l,t,s,n)})}return r}catch(e){return console.error(e),[]}}function tF(e){let t=e.split("?")[0].match(/\.([0-9a-z]+)(?:[\?#]|$)/i);return t?`.${t[1]}`:""}function t$(e){return e}function tG(e){let t=encodeURIComponent(e.join(","));return t&&(t=`?${X.Client.RsdoctorClientUrlQuery.BundleDiffFiles}=${t}`),t}function tK(e){let t=tG(e);return`${t}#${X.Client.RsdoctorClientRoutes.BundleDiff}`}function tW(e){return decodeURIComponent(e).split(",")}function tH(e){return Object.keys(e)}function tq(e){let t=tH(e),s=new Set;return t.forEach(t=>{e[t].forEach(e=>{s.add(e.tapName)})}),[...s]}function tU(e){return{hooks:tH(e),tapNames:tq(e)}}function tV(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=tH(e).filter(e=>!t.length||-1!==t.indexOf(e));return n.length?tq(e).reduce((t,r)=>(s.length&&-1===s.indexOf(r)||n.forEach(s=>{let n=e[s].filter(e=>e.tapName===r);0!==n.length&&t.push({tapName:r,hook:s,data:n.map(e=>({startAt:e.startAt,endAt:e.endAt,costs:e.costs,type:e.type}))})}),t),[]):[]}function tJ(e,t,s,n,r){return n.slice().reverse().map(n=>{let i=t.find(e=>e.id===n.dependencyId);if(!i)return null;let l=e.find(e=>e.id===i.module);return l?{group:n.group,module:l,dependency:i,relativePath:(0,el.relative)(s,l.path),moduleCode:null==r?void 0:r[l.id]}:null}).filter(Boolean)}let tY="__l__";var tZ=((Q={}).Bootstrap="bootstrap->rspack:beforeCompile",Q.Compile="rspack:beforeCompile->afterCompile",Q.Done="rspack:afterCompile->done",Q.Minify="rspack:minify(rspack:optimizeChunkAssets)",Q);function tQ(e){var t,s,n,r;if(!Array.isArray(e)||!e[0])return{isRspack:!1,hasSourceMap:!1};let i="rspack"===e[0].name&&(null==(s=e[0])||null==(t=s.config)?void 0:t.name)!=="lynx",l=null==(n=e[0].config)?void 0:n.devtool,a=null==(r=e[0].config)?void 0:r.plugins,o=null==a?void 0:a.filter(e=>e&&e.includes("SourceMapDevToolPlugin"));return{isRspack:i,hasSourceMap:"string"==typeof l&&l.includes("source-map")&&!l.includes("eval")||!!(null==o?void 0:o.length)}}class tX{log(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];console.log(`[${this.constructor.name}]`,...t)}loadAPI(){for(var e,t=arguments.length,s=Array(t),n=0;n<t;n++)s[n]=arguments[n];let[r,i]=s;switch(r){case X.SDK.ServerAPI.API.LoadDataByKey:return this.loader.loadData(i.key);case X.SDK.ServerAPI.API.GetProjectInfo:return Promise.all([this.loader.loadData("root"),this.loader.loadData("pid"),this.loader.loadData("hash"),this.loader.loadData("summary"),this.loader.loadData("configs"),this.loader.loadData("envinfo"),this.loader.loadData("errors")]).then(e=>{let[t,s,n,r,i,l,a]=e;return{root:t,pid:s,hash:n,summary:r,configs:i,envinfo:l,errors:a}});case X.SDK.ServerAPI.API.GetClientRoutes:if("undefined"!=typeof window&&(null==(e=window)?void 0:e[X.Constants.WINDOW_RSDOCTOR_TAG]))return window[X.Constants.WINDOW_RSDOCTOR_TAG].enableRoutes;return this.loader.loadManifest().then(e=>{let{enableRoutes:t=[]}=e.client||{};return t});case X.SDK.ServerAPI.API.GetLoaderNames:return this.loader.loadData("loader").then(e=>eJ(e||[]));case X.SDK.ServerAPI.API.GetLayers:return this.loader.loadData("moduleGraph").then(e=>{let{layers:t}=e||{};return t});case X.SDK.ServerAPI.API.GetLoaderChartData:return this.loader.loadData("loader").then(e=>eZ(e||[]));case X.SDK.ServerAPI.API.GetLoaderFileTree:return this.loader.loadData("loader").then(e=>eQ(e||[]));case X.SDK.ServerAPI.API.GetLoaderFileDetails:return this.loader.loadData("loader").then(e=>eX(i.path,e||[]));case X.SDK.ServerAPI.API.GetLoaderFolderStatistics:return this.loader.loadData("loader").then(e=>e0(i.folder,e||[]));case X.SDK.ServerAPI.API.GetLoaderFileFirstInput:return this.loader.loadData("loader").then(e=>e5(i.file,e||[]));case X.SDK.ServerAPI.API.GetLoaderFileInputAndOutput:return this.loader.loadData("loader").then(e=>e5(i.file,e||[]));case X.SDK.ServerAPI.API.GetResolverFileTree:return this.loader.loadData("resolver").then(e=>tr(e||[]));case X.SDK.ServerAPI.API.GetResolverFileDetails:return Promise.all([this.loader.loadData("resolver"),this.loader.loadData("moduleGraph.modules"),this.loader.loadData("moduleCodeMap")]).then(e=>{let t=e[0],s=e[1],n=e[2];return ti(i.filepath,t||[],s||[],n||{})});case X.SDK.ServerAPI.API.GetPluginSummary:return this.loader.loadData("plugin").then(e=>tU(e||{}));case X.SDK.ServerAPI.API.GetPluginData:return this.loader.loadData("plugin").then(e=>{let{hooks:t,tapNames:s}=i;return tV(e||{},t,s)});case X.SDK.ServerAPI.API.GetAssetsSummary:return this.loader.loadData("chunkGraph").then(e=>{let{withFileContent:t=!0}=i,{assets:s=[],chunks:n=[]}=e||{};return tO(s,n,{withFileContent:t})});case X.SDK.ServerAPI.API.GetAssetDetails:return Promise.all([this.loader.loadData("chunkGraph"),this.loader.loadData("moduleGraph"),this.loader.loadData("configs")]).then(e=>{let{assetPath:t}=i,{isRspack:s,hasSourceMap:n}=tQ(e[2]||[]),{assets:r=[],chunks:l=[]}=e[0]||{},{modules:a=[]}=e[1]||{};return tB(t,r,l,a,s||n?e=>!0:()=>!0)});case X.SDK.ServerAPI.API.GetSummaryBundles:return Promise.all([this.loader.loadData("chunkGraph"),this.loader.loadData("moduleGraph")]).then(e=>{let{assets:t=[],chunks:s=[]}=e[0]||{},{modules:n=[]}=e[1]||{};return tL(t,s,n,["id","path","size","kind"])});case X.SDK.ServerAPI.API.GetChunksByModuleId:return Promise.all([this.loader.loadData("chunkGraph"),this.loader.loadData("moduleGraph")]).then(e=>{let{moduleId:t}=i,{chunks:s=[]}=e[0]||{},{modules:n=[]}=e[1]||{};return tu(t,n,s)});case X.SDK.ServerAPI.API.GetModuleDetails:return Promise.all([this.loader.loadData("chunkGraph"),this.loader.loadData("moduleGraph")]).then(e=>{let{moduleId:t}=i,{modules:s=[],dependencies:n=[]}=e[1]||{};return tw(t,s,n)});case X.SDK.ServerAPI.API.GetModulesByModuleIds:return this.loader.loadData("moduleGraph").then(e=>{let{moduleIds:t}=i,{modules:s=[]}=e||{};return ty(t,s)});case X.SDK.ServerAPI.API.GetEntryPoints:return Promise.all([this.loader.loadData("chunkGraph")]).then(e=>{let[t]=e,{entrypoints:s=[]}=t||{};return s});case X.SDK.ServerAPI.API.GetModuleCodeByModuleId:return this.loader.loadData("moduleCodeMap").then(e=>{let{moduleId:t}=i;return e?e[t]:{source:"",transformed:"",parsedSource:""}});case X.SDK.ServerAPI.API.GetModuleCodeByModuleIds:return this.loader.loadData("moduleCodeMap").then(e=>{let{moduleIds:t}=i,s={};return e?(t.forEach(t=>{s[t]=e[t]}),s):[]});case X.SDK.ServerAPI.API.GetAllModuleGraph:return this.loader.loadData("moduleGraph").then(e=>null==e?void 0:e.modules);case X.SDK.ServerAPI.API.GetSearchModules:return Promise.all([this.loader.loadData("moduleGraph"),this.loader.loadData("chunkGraph")]).then(e=>{let[t,s]=e,{moduleName:n}=i;if(!n)return[];let r=s.chunks.reduce((e,t)=>(t.assets.forEach(s=>{e[t.id]||(e[t.id]=[]),e[t.id].push(s)}),e),{}),l=new Map;return null==t||t.modules.filter(e=>{e.webpackId.includes(n)&&e.chunks.forEach(e=>{l.has(e)||(r[e]||[]).forEach(t=>{t.endsWith(".js")&&l.set(e,t)})})}),Object.fromEntries(l)});case X.SDK.ServerAPI.API.GetSearchModuleInChunk:return Promise.all([this.loader.loadData("moduleGraph"),this.loader.loadData("root")]).then(e=>{let[t,s]=e,{moduleName:n,chunk:r}=i;return n?null==t?void 0:t.modules.filter(e=>e.webpackId.includes(n)&&e.chunks.includes(r)).map(e=>({id:e.id,path:e.path,relativePath:(0,el.relative)(s,e.path)})):[]});case X.SDK.ServerAPI.API.GetAllChunkGraph:return this.loader.loadData("chunkGraph").then(e=>null==e?void 0:e.chunks);case X.SDK.ServerAPI.API.GetPackageRelationAlertDetails:return Promise.all([this.loader.loadData("moduleGraph"),this.loader.loadData("errors"),this.loader.loadData("root"),this.loader.loadData("moduleCodeMap")]).then(e=>{let{id:t,target:s}=i,[n,r=[],l="",a]=e,{modules:o=[],dependencies:d=[]}=n||{},{packages:c=[]}=r.find(e=>e.id===t)||{},{dependencies:u=[]}=c.find(e=>e.target.name===s.name&&e.target.root===s.root&&e.target.version===s.version)||{};return tJ(o,d,l,u,a||{})});case X.SDK.ServerAPI.API.GetOverlayAlerts:return this.loader.loadData("errors").then(e=>(e||[]).filter(e=>e.code===X.Rule.RuleMessageCodeEnumerated.Overlay));case X.SDK.ServerAPI.API.BundleDiffManifest:return this.loader.loadManifest();case X.SDK.ServerAPI.API.GetBundleDiffSummary:return Promise.all([this.loader.loadManifest(),this.loader.loadData("root"),this.loader.loadData("hash"),this.loader.loadData("errors"),this.loader.loadData("chunkGraph"),this.loader.loadData("moduleGraph"),this.loader.loadData("moduleCodeMap"),this.loader.loadData("packageGraph"),this.loader.loadData("configs")]).then(e=>{var t,s,n,r;let[i,l="",a="",o={},d={},c={},u={},h={},p=[]]=e,m="";return"string"==typeof(null==(n=p[0])||null==(s=n.config)||null==(t=s.output)?void 0:t.chunkFilename)&&(m=null==(r=p[0])?void 0:r.config.output.chunkFilename),{root:l,hash:a,errors:o,chunkGraph:d,moduleGraph:c,packageGraph:h,outputFilename:m,moduleCodeMap:u}});case X.SDK.ServerAPI.API.GetChunkGraph:return this.loader.loadData("chunkGraph").then(e=>{let{chunks:t=[]}=e||{};return t});case X.SDK.ServerAPI.API.GetAllModuleGraphFilter:return this.loader.loadData("moduleGraph").then(e=>null==e?void 0:e.modules.map(e=>({id:e.id,webpackId:e.webpackId,path:e.path,size:e.size,chunks:e.chunks,kind:e.kind})));case X.SDK.ServerAPI.API.GetModuleByName:return this.loader.loadData("moduleGraph").then(e=>{let{moduleName:t}=i,{modules:s=[]}=e||{};return s.filter(e=>e.path.includes(t)).map(e=>({id:e.id,path:e.path}))||[]});case X.SDK.ServerAPI.API.GetModuleIssuerPath:return this.loader.loadData("moduleGraph").then(e=>{var t;let{moduleId:s}=i,n=(null==e?void 0:e.modules)||[],r=(null==(t=n.find(e=>String(e.id)===s))?void 0:t.issuerPath)||[];return Array.isArray(r)&&r.length>0&&"number"==typeof r[0]?r.map(e=>{var t;return null==(t=n.find(t=>t.id===e))?void 0:t.path}).filter(Boolean):r});case X.SDK.ServerAPI.API.GetPackageInfo:return this.loader.loadData("packageGraph").then(e=>null==e?void 0:e.packages);case X.SDK.ServerAPI.API.GetPackageDependency:return this.loader.loadData("packageGraph").then(e=>(null==e?void 0:e.dependencies)||[]);case X.SDK.ServerAPI.API.GetChunkGraphAI:return this.loader.loadData("chunkGraph").then(e=>{let{chunks:t=[]}=e||{};return t.map(e=>{let{modules:t,...s}=e;return s})});case X.SDK.ServerAPI.API.GetChunkByIdAI:return Promise.all([this.loader.loadData("chunkGraph"),this.loader.loadData("moduleGraph")]).then(e=>{let[t,s]=e,{chunks:n=[]}=t||{},{modules:r=[]}=s||{},{chunkId:l}=i,a=n.find(e=>e.id===l);if(!a)return null;let o=r.filter(e=>a.modules.includes(e.id)).map(e=>({id:e.id,path:e.path,size:e.size,chunks:e.chunks,kind:e.kind,issuerPath:e.issuerPath}));return a.modulesInfo=o,a});case X.SDK.ServerAPI.API.GetDirectoriesLoaders:return Promise.all([this.loader.loadData("root"),this.loader.loadData("loader")]).then(e=>{let[t,s]=e;return e1(s||[],t||"")});default:throw Error(`API not implement: "${r}"`)}}constructor(e){(0,ee._)(this,"loader",void 0),this.loader=e,this.loadAPI=this.loadAPI.bind(this)}}function t0(e){return void 0===e}function t1(e){return"number"==typeof e&&!Number.isNaN(e)}function t5(e){return"object"==typeof e&&null!==e}function t2(e){return null==e||Array.isArray(e)&&0===e.length||"object"==typeof e&&0===Object.keys(e).length}function t4(e){return e[e.length-1]}function t6(e){return e.filter(e=>null!=e||!e)}function t3(e){return null==e}let t7=e=>null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype,t9=e=>"string"==typeof e||!!e&&"object"==typeof e&&!Array.isArray(e)&&"[object String]"===({}).toString.call(e);function t8(e,t){let s={};for(let n=0;n<t.length;n++){let r=t[n];Object.hasOwn(e,r)&&(s[r]=e[r])}return s}let se=/[a-zA-Z0-9]+(?:[-|_|.]+[a-zA-Z0-9]+)*/,st=RegExp(`(?:${/(?:node_modules|~)(?:\/\.pnpm)?/.source}/)(?:(?:@${se.source}[/|+])?(?:${se.source}\\+)*(?:${se.source})(?:${/@[\w|\-|_|.]+/.source})?)(?:_(?:@${se.source}[/|+])?(?:${se.source})(?:@${se.source})?)*/`,"g"),ss=/(?:(?:node_modules|~)(?:\/\.pnpm)?\/)(?:((?:@[a-zA-Z0-9]+(?:[-|_|.]+[a-zA-Z0-9]+)*[/|+])?(?:(?:[a-zA-Z0-9]+(?:[-|_|.]+[a-zA-Z0-9]+)*\+)*)(?:[a-zA-Z0-9]+(?:[-|_|.]+[a-zA-Z0-9]+)*))(?:@[\w|\-|_|.]+)?)(?:_((?:@[a-zA-Z0-9]+(?:[-|_|.]+[a-zA-Z0-9]+)*[/|+])?(?:[a-zA-Z0-9]+(?:[-|_|.]+[a-zA-Z0-9]+)*))(?:@[a-zA-Z0-9]+(?:[-|_|.]+[a-zA-Z0-9]+)*))*\//gm,sn=e=>{var t,s,n;let r,i=e.match(st);if(!i)return{name:"",version:""};let l=(n=i.flatMap(e=>{let t=e.matchAll(ss);return t?t6([...t].flat()).slice(1).filter(Boolean).map(e=>e.replace(/\+/g,"/")):[]}),r=[],n.forEach((e,t)=>{n.slice(t+1).includes(e)||r.push(e)}),r);if(t2(l))return{name:"",version:""};let a=t4(l),o=RegExp(`(.*)(${t4(i)}).*`),d=e.replace(o,"$1$2").replace(/\/$/,"");return{name:a,version:d&&a&&(null==(s=d.match(RegExp(`${a}@([\\d.]+)`)))||null==(t=s.flat().slice(1))?void 0:t[0])||""}};function sr(e,t){let s=eu.homedir(),n=ea().join(s,".cache/rsdoctor"),r=ea().join(n,"mcp.json");ec().existsSync(n)||ec().mkdirSync(n,{recursive:!0});let i={portList:{},port:0};if(ec().existsSync(r))try{i=JSON.parse(ec().readFileSync(r,"utf8"))}catch(e){eT.debug("Failed to parse mcp.json",e)}i.portList||(i.portList={}),i.portList[t||"builder"]=e,i.port=e,ec().writeFileSync(r,JSON.stringify(i,null,2),"utf8")}function si(){let e=eu.homedir(),t=ea().join(e,".cache/rsdoctor");return ea().join(t,"mcp.json")}var sl=s(70268);function sa(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class so{get(e){if(this.manifest)return this.manifest[e]}getData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data",s=this.get(t);if(s)return s[e]}getKeys(e){return e.split(".")}joinKeys(e){return e.join(".")}dispose(){this.disposed=!0}limit(e,t){if(this.pool.has(e))return this.pool.get(e);let s=t().finally(()=>this.pool.delete(e));return this.pool.set(e,s),s}log(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];console.log(`[${this.constructor.name}]`,...t)}async loadManifest(){return this.manifest}constructor(e){sa(this,"manifest",void 0),sa(this,"pool",void 0),sa(this,"loader",void 0),sa(this,"disposed",void 0),sa(this,"shardingDataMap",void 0),this.manifest=e,this.pool=new Map,this.disposed=!1,this.shardingDataMap=new Map,this.loader=new eD.APIDataLoader(this),console.log("[DataLoader] isLocal: ",this.isLocal())}}var sd=s(50476);let sc=new Map,su=location.protocol.includes("https")?"wss":"ws",sh=`${su}://${location.host}`,sp=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;function sm(e){let t=function(e){let{port:t,protocol:s,hostname:n}=e;if("undefined"!=typeof URL){let e=new URL("http://localhost");return e.port=String(t),e.hostname=n,e.protocol=location.protocol.includes("https")?"wss":"ws",sp.test(n)||n.includes("localhost")?e.toString():`${s}//${n}`}let r=-1===s.indexOf(":")?":":"";return`${s}${r}//${n}:${t}`}({port:e,hostname:location.hostname,protocol:location.protocol});return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sh;if(!sc.has(e)){let t=(0,sd.io)(e,{});t.on("connect",()=>{console.log(`Socket Connect ${e}`)}),sc.set(e,t)}return sc.get(e)}(e?t:sh)}class sf extends so{isLocal(){return!0}async loadData(e){return this.limit(e,async()=>{let[t,...s]=this.getKeys(e),n=this.getData(t);if(!n)return;let r=n;if(ej.isShardingData(r)){if(!this.shardingDataMap.has(e)){let t=new Promise(t=>{sm().emit(X.SDK.ServerAPI.API.LoadDataByKey,{key:e},e=>{t(e.res)})});this.shardingDataMap.set(e,t)}return r=await this.shardingDataMap.get(e),this.shardingDataMap.delete(e),r}return s.length>0?(0,sl.A)(r,this.joinKeys(s)):r})}async loadAPI(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];let[n,r]=t,i=r?`${n}_${JSON.stringify(r)}`:`${n}`,l=this.get("__SOCKET__PORT__")??"";return this.limit(i,async()=>new Promise(e=>{sm(l).emit(n,r,t=>{e(t.res)})}))}dispose(){super.dispose(),this.events.forEach((e,t)=>{e.forEach(e=>{this.removeOnDataUpdate(t,e)}),e.clear()}),this.events.clear()}onDataUpdate(e,t){this.events.has(e)||this.events.set(e,new Set),this.events.get(e).has(t)||(this.events.get(e).add(t),sm().on(e,t))}removeOnDataUpdate(e,t){sm().off(e,t),this.events.get(e).delete(t)}constructor(...e){super(...e),function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(this,"events",new Map)}}var sx=s(175),sg=s(31337),sj=s.n(sg);function sy(){let{query:e}=sj()(location.href,!0),t=e[X.Client.RsdoctorClientUrlQuery.EnableRoutes];if(!t&&location.hash&&(t=sj()(location.hash,!0).query[X.Client.RsdoctorClientUrlQuery.EnableRoutes]),!t&&location.hash){let e=location.hash,s=e.indexOf("?");-1!==s&&(t=new URLSearchParams(e.substring(s+1)).get(X.Client.RsdoctorClientUrlQuery.EnableRoutes)||void 0)}if(t)try{return JSON.parse(decodeURIComponent(t))}catch(e){console.warn("Failed to parse enableRoutes from URL query:",e)}}let sv=e=>{if((null==e?void 0:e.indexOf("node_modules"))>=0){let t=e.split("node_modules");return`node_modules${t[t.length-1]}`}return(null==e?void 0:e.length)?`${null==e?void 0:e.split("/").slice(-4).join("/")}`:e};function sA(e){return null!=e}async function sb(e){return eg.isUrl(e)?sx.A.get(e,{timeout:999999,responseType:"text"}).then(e=>e.data):e}async function sS(e){let t=await sx.A.get(e,{timeout:3e4}).then(e=>e.data);return"string"==typeof t&&(t=JSON.parse(t)),console.log("[json] ",e,t),t}let sw=new Map;async function sC(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:((e=window[X.Manifest.RsdoctorManifestClientConstant.WindowPropertyForManifestUrl]?window[X.Manifest.RsdoctorManifestClientConstant.WindowPropertyForManifestUrl]:function(){let{query:e}=sj()(location.href,!0),t=e[X.Client.RsdoctorClientUrlQuery.ManifestFile];if(t)return decodeURIComponent(t)}())||(e=X.SDK.ServerAPI.API.Manifest),e);return sw.has(t)||sw.set(t,sS(t).catch(e=>{throw sw.delete(t),e})),await sw.get(t)}class sM extends so{isLocal(){return!1}async loadData(e){return this.limit(e,async()=>{let[t,...s]=this.getKeys(e),n=this.getData(t,"cloudData");if(!n)return;let r=n;if(ej.isShardingData(r)){if(!this.shardingDataMap.has(t)){let s=ej.fetchShardingData(r,sb).catch(t=>{throw this.log("loadData error: ",r,e),t});this.shardingDataMap.set(t,s)}r=await this.shardingDataMap.get(t)}return s.length>0?(0,sl.A)(r,this.joinKeys(s)):r})}async loadAPI(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];let[n,r]=t,i=r?`${n}_${JSON.stringify(r)}`:`${n}`;return this.limit(i,async()=>this.loader.loadAPI(...t))}dispose(){super.dispose()}onDataUpdate(){}removeOnDataUpdate(){}}class sk extends so{isLocal(){return!1}async loadData(e){console.log(`[loadData]-[key]: ${e}`);let[t]=this.getKeys(e);console.log(`[loadData]-[scope]: ${t}`);let s=this.getData(t);if(!s)return;let n=s;if(!this.shardingDataMap.has(t)){let e=this.parseData(n);this.shardingDataMap.set(t,Promise.resolve(e))}return await this.shardingDataMap.get(t)}getData(e){return console.log(`[getData]-[scope]: ${e}`),window[X.Constants.WINDOW_RSDOCTOR_TAG][e]}parseData(e){if("object"==typeof e&&null!==e||"string"!=typeof e)return e;try{return JSON.parse(ex.decompressText(e))}catch{return e}}async loadAPI(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.loader.loadAPI(...t)}dispose(){super.dispose()}onDataUpdate(){}removeOnDataUpdate(){}}let sD=new WeakMap;async function sP(e){try{if(e.__LOCAL__SERVER__)return console.log("[LocalServerDataLoader]"),new sf(e)}catch(e){console.log("[DataLoader] fallback to RemoteDataLoader")}return new sM(e)}function sz(e){let[t,s]=(0,w.useState)(void 0);return(0,w.useEffect)(()=>{window[X.Constants.WINDOW_RSDOCTOR_TAG]&&(console.log("[brief mode]"),s(new sk({data:[]})))},[]),(0,w.useEffect)(()=>{if(e){if(!sD.has(e)){let t=sP(e);sD.set(e,t)}sD.get(e).then(e=>{s(e)})}},[e]),{loader:t}}var sI=s(16703),sN=s(98369),sE=s(37622),s_=s(45586),sT=s(8208),sR=s(76847),sO=s(88415),sB=s(16396);let sL=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:14,fill:"none",viewBox:"0 0 12 14",...e,children:[(0,o.jsx)("path",{fill:"#FAAD14",d:"M11.409 3.51 8.046.146A.5.5 0 0 0 7.693 0H1.056a.5.5 0 0 0-.5.5v13a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V3.864a.5.5 0 0 0-.147-.355M7.462 1.152l2.94 2.94h-2.94zm2.969 11.722H1.68V1.125h4.718V4.5a.656.656 0 0 0 .657.656h3.375z"}),(0,o.jsx)("path",{fill:"#FAAD14",d:"M6.927 9.651h.888a1.6 1.6 0 0 1-.24.775q-.211.339-.592.528-.377.19-.908.19a1.9 1.9 0 0 1-.745-.142 1.6 1.6 0 0 1-.564-.416 1.9 1.9 0 0 1-.354-.653 2.8 2.8 0 0 1-.121-.858v-.3q0-.474.124-.858.128-.386.362-.656.238-.27.567-.415.33-.146.737-.146.54 0 .911.196.375.195.58.54.206.345.249.784H6.93a1.15 1.15 0 0 0-.104-.442.6.6 0 0 0-.27-.276 1 1 0 0 0-.475-.095.86.86 0 0 0-.39.083.7.7 0 0 0-.278.252 1.3 1.3 0 0 0-.17.428q-.053.255-.053.6v.305q0 .335.05.591.051.251.155.428a.7.7 0 0 0 .273.26.9.9 0 0 0 .407.087q.28 0 .46-.09a.6.6 0 0 0 .276-.263q.098-.176.116-.437"}),(0,o.jsx)("path",{fill:"#FFF1B8",fillRule:"evenodd",d:"M6.4 1.125V4.5a.656.656 0 0 0 .656.656h3.375v7.719H1.68V1.125zm1.415 8.526h-.888q-.017.261-.116.437a.6.6 0 0 1-.276.264q-.18.09-.46.089a.9.9 0 0 1-.407-.086.7.7 0 0 1-.273-.261q-.104-.176-.154-.428a3 3 0 0 1-.05-.59v-.307q0-.345.053-.6.056-.258.169-.427a.7.7 0 0 1 .279-.252.86.86 0 0 1 .389-.083q.297 0 .475.095a.6.6 0 0 1 .27.276q.09.18.104.442h.89a1.8 1.8 0 0 0-.249-.784q-.205-.345-.579-.54-.37-.195-.911-.196-.407 0-.737.146-.33.145-.567.415-.234.27-.362.656a2.8 2.8 0 0 0-.124.858v.3q0 .476.121.858.122.383.354.653.234.27.564.416.33.143.745.143.531 0 .908-.19.38-.19.591-.529a1.6 1.6 0 0 0 .24-.775",clipRule:"evenodd"})]}),sF=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:14,fill:"none",viewBox:"0 0 12 14",...e,children:[(0,o.jsx)("path",{fill:"#722ED1",d:"M6.076 7.58a.356.356 0 0 1 .646.299l-1.576 3.414a.356.356 0 0 1-.646-.298zM7.198 8.135a.356.356 0 0 0 0 .503l.8.799-.8.8a.356.356 0 1 0 .503.502l1.05-1.05a.356.356 0 0 0 0-.503l-1.05-1.05a.356.356 0 0 0-.503 0M4.024 8.135a.356.356 0 0 1 0 .503l-.799.799.8.8a.356.356 0 1 1-.504.502l-1.05-1.05a.356.356 0 0 1 0-.503l1.05-1.05a.356.356 0 0 1 .503 0"}),(0,o.jsx)("path",{fill:"#EFDBFF",fillRule:"evenodd",d:"M5.955 1.125V4.5a.656.656 0 0 0 .656.656h3.375v7.719h-8.75V1.125zm.121 6.456a.356.356 0 1 1 .646.298l-1.576 3.414a.356.356 0 1 1-.646-.298zm1.122.554a.356.356 0 0 0 0 .503l.8.799-.8.8a.356.356 0 1 0 .503.502l1.05-1.05a.356.356 0 0 0 0-.503l-1.05-1.05a.356.356 0 0 0-.503 0m-3.174.503a.356.356 0 1 0-.503-.503l-1.05 1.05a.356.356 0 0 0 0 .503l1.05 1.05a.355.355 0 1 0 .503-.502l-.799-.799z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#722ED1",d:"M10.964 3.51 7.602.146A.5.5 0 0 0 7.249 0H.61a.5.5 0 0 0-.5.5v13a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V3.864a.5.5 0 0 0-.147-.355M7.017 1.152l2.941 2.94h-2.94zm2.97 11.722h-8.75V1.125h4.718V4.5a.656.656 0 0 0 .656.656h3.375z"})]}),s$=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:14,fill:"none",viewBox:"0 0 12 14",...e,children:[(0,o.jsx)("path",{fill:"#E6F7FF",d:"M6.733 4.5V1.125h-4.72v11.75h8.75V5.156H7.39a.656.656 0 0 1-.656-.656m-2.094.781a.625.625 0 1 1 0 1.25.625.625 0 0 1 0-1.25m4.625 4.594H3.515a.125.125 0 0 1-.098-.202l1.56-1.987a.125.125 0 0 1 .196 0l.642.819 1.216-1.55a.126.126 0 0 1 .199 0l2.132 2.718a.125.125 0 0 1-.098.202"}),(0,o.jsx)("path",{fill:"#1890FF",d:"M11.742 3.51 8.38.146A.5.5 0 0 0 8.026 0H1.39a.5.5 0 0 0-.5.5v13a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V3.864a.5.5 0 0 0-.147-.355M7.795 1.152l2.94 2.94h-2.94zm2.969 11.722h-8.75V1.125h4.719V4.5a.656.656 0 0 0 .656.656h3.375z"}),(0,o.jsx)("path",{fill:"#1890FF",d:"m7.031 6.955-1.215 1.55-.643-.82a.125.125 0 0 0-.196 0l-1.56 1.988a.125.125 0 0 0 .099.202h5.748c.105 0 .163-.12.098-.202L7.23 6.955a.127.127 0 0 0-.199 0M4.014 5.906a.625.625 0 1 0 1.25 0 .625.625 0 0 0-1.25 0"})]}),sG=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:14,fill:"none",viewBox:"0 0 12 14",...e,children:[(0,o.jsx)("path",{fill:"#E6F7FF",fillRule:"evenodd",d:"M6.177 1.125V4.5a.656.656 0 0 0 .656.656h3.375v7.719h-8.75V1.125zm1.806 8.7q.03.081.03.183a.411.411 0 0 1-.26.388.8.8 0 0 1-.333.057q-.166 0-.307-.034a.7.7 0 0 1-.24-.11.5.5 0 0 1-.153-.197.7.7 0 0 1-.055-.3H5.88q0 .321.133.555.132.234.354.386.225.15.497.226.275.073.555.073.313 0 .565-.07.254-.07.435-.206.183-.135.279-.33a1 1 0 0 0 .096-.443q0-.235-.08-.42a1 1 0 0 0-.24-.33 1.7 1.7 0 0 0-.396-.263 3.5 3.5 0 0 0-.544-.211 3 3 0 0 1-.326-.118 1.3 1.3 0 0 1-.237-.127.5.5 0 0 1-.146-.146.33.33 0 0 1-.047-.174q0-.129.068-.23a.45.45 0 0 1 .203-.164.8.8 0 0 1 .339-.062q.21 0 .349.073a.48.48 0 0 1 .208.2q.07.125.07.292h.777q0-.339-.175-.602a1.17 1.17 0 0 0-.484-.414 1.7 1.7 0 0 0-.732-.15q-.307 0-.565.075-.255.075-.443.216a1 1 0 0 0-.292.333.9.9 0 0 0-.104.43q0 .244.1.43.1.184.275.325.178.138.406.242.232.104.49.188.232.072.378.14a1 1 0 0 1 .226.138q.08.068.11.152M4.595 7.209v2.628q0 .195-.063.33a.46.46 0 0 1-.17.206.47.47 0 0 1-.257.07.6.6 0 0 1-.263-.051.36.36 0 0 1-.17-.175.8.8 0 0 1-.057-.33h-.783q0 .398.164.658.164.258.45.383t.659.125q.36 0 .646-.146.289-.146.456-.416.166-.274.166-.654V7.208z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#1890FF",d:"M8.014 10.008a.5.5 0 0 0-.031-.182.34.34 0 0 0-.11-.152 1 1 0 0 0-.226-.138 3 3 0 0 0-.378-.14 5 5 0 0 1-.49-.188 2 2 0 0 1-.406-.242 1.1 1.1 0 0 1-.276-.325.9.9 0 0 1-.099-.43q0-.237.104-.43a1 1 0 0 1 .292-.333q.188-.141.443-.216.258-.075.565-.076.42 0 .732.151.312.152.484.414.175.264.175.602h-.776a.6.6 0 0 0-.07-.292.48.48 0 0 0-.21-.2.74.74 0 0 0-.348-.073.8.8 0 0 0-.339.062.45.45 0 0 0-.203.164.4.4 0 0 0-.067.23q0 .096.046.174.05.078.146.146t.237.127q.14.06.326.118.31.093.544.21.237.118.396.264a1 1 0 0 1 .24.33q.08.185.08.42a1 1 0 0 1-.096.442.9.9 0 0 1-.279.331q-.181.135-.435.206a2.1 2.1 0 0 1-.565.07q-.28 0-.555-.073a1.7 1.7 0 0 1-.497-.226q-.222-.152-.354-.386a1.1 1.1 0 0 1-.133-.555h.784q0 .178.055.3a.5.5 0 0 0 .153.198q.102.075.24.11.14.033.307.033.204 0 .333-.057a.41.41 0 0 0 .26-.388M4.595 9.836V7.208h.778v2.628q0 .38-.166.654-.167.27-.456.416a1.4 1.4 0 0 1-.646.146q-.372 0-.659-.125a1 1 0 0 1-.45-.383q-.164-.26-.164-.659h.783q0 .21.058.331a.36.36 0 0 0 .169.175q.109.052.263.052a.47.47 0 0 0 .258-.07.46.46 0 0 0 .17-.206q.061-.135.062-.331"}),(0,o.jsx)("path",{fill:"#1890FF",d:"M11.186 3.51 7.824.146A.5.5 0 0 0 7.47 0H.833a.5.5 0 0 0-.5.5v13a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V3.864a.5.5 0 0 0-.147-.355M7.24 1.152l2.94 2.94H7.24zm2.968 11.722h-8.75V1.125h4.72V4.5a.656.656 0 0 0 .655.656h3.375z"})]}),sK=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:14,fill:"none",viewBox:"0 0 12 14",...e,children:[(0,o.jsx)("path",{fill:"#F0F0F0",d:"M6.288 4.5V1.125H1.57v11.75h8.75V5.156H6.944a.656.656 0 0 1-.656-.656m-.344 6.625a.5.5 0 1 1 0-.999.5.5 0 0 1 0 .999m1.72-3.569c.01.702-.465 1.32-1.162 1.546a.22.22 0 0 0-.151.207V9.5c0 .086-.07.156-.157.156h-.5a.157.157 0 0 1-.156-.156V9a.65.65 0 0 1 .542-.627c.443-.057.77-.4.77-.795 0-.439-.402-.805-.906-.805-.503 0-.906.366-.906.807a.15.15 0 0 1-.153.147H4.38a.15.15 0 0 1-.153-.149c0-.897.783-1.62 1.742-1.61.926.013 1.683.721 1.695 1.588"}),(0,o.jsx)("path",{fill:"#8C8C8C",d:"M11.298 3.51 7.935.148A.5.5 0 0 0 7.58 0H.944a.5.5 0 0 0-.5.5v13a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V3.864a.5.5 0 0 0-.146-.353M7.35 1.154l2.94 2.94h-2.94zm2.968 11.722H1.57V1.125h4.72V4.5a.656.656 0 0 0 .655.656h3.375z"}),(0,o.jsx)("path",{fill:"#8C8C8C",d:"M5.444 10.625a.5.5 0 1 0 1 0 .5.5 0 0 0-1 0M4.226 7.578a.15.15 0 0 0 .153.149h.506a.15.15 0 0 0 .153-.147c0-.44.403-.807.906-.807.504 0 .907.366.907.805 0 .395-.328.738-.77.795A.65.65 0 0 0 5.537 9v.5c0 .086.07.156.156.156h.5c.086 0 .157-.07.157-.156v-.19a.22.22 0 0 1 .151-.208c.697-.225 1.172-.844 1.161-1.546-.012-.867-.769-1.575-1.695-1.587-.96-.011-1.742.712-1.742 1.61"})]}),{useToken:sW}=sO.A;function sH(e){let t=function(e){switch(ea().extname(e).slice(1).toLowerCase()){case"js":case"jsx":case"ts":case"mjs":case"cjs":case"mts":case"cts":return(0,o.jsx)(sG,{});case"tsx":default:return(0,o.jsx)(sK,{});case"css":case"scss":case"sass":case"less":case"styl":case"stylus":return(0,o.jsx)(sL,{});case"html":return(0,o.jsx)(sF,{});case"png":case"jpg":case"jpeg":case"gif":case"svg":case"bmp":case"webp":case"ico":case"apng":case"avif":case"tif":case"tiff":case"jfif":case"pjpeg":case"pjp":return(0,o.jsx)(s$,{})}}(e);return(0,o.jsx)("div",{className:"file-icon",children:t})}let sq=e=>{let{isDark:t}=rj(),{token:s}=sW(),n=t?s.colorWhite:s.colorText,r={fontSize:s.fontSize};return(0,o.jsx)(sB.default,{checkable:!1,selectable:!0,switcherIcon:e=>{let{data:t,expanded:s}=e;return(null==t?void 0:t.children)?(0,o.jsxs)(sN.A,{style:{color:n},children:[(0,o.jsx)(sE.A,{twoToneColor:n,className:`file-tree-switcher-arrow ${s?"file-tree-switcher-arrow-expand":""}`,style:r}),s?(0,o.jsx)(s_.A,{}):(0,o.jsx)(sT.A,{})]}):(null==t?void 0:t.key)&&"string"==typeof t.key?sH(t.key):(0,o.jsx)(sR.A,{})},expandAction:"click",...e})},sU=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",s=null==e?void 0:e.indexOf(t);return -1===s?null:0===s?t+(sU(null==e?void 0:e.slice(1))||""):null==e?void 0:e.slice(0,s)};function sV(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0,n=0,r=[],i=e;for(;n<t&&(i.filter(s).forEach(e=>{e.isLeaf||r.push(e.key)}),(i=i.reduce((e,t)=>e.concat(t.children||[]),[])).length);)n++;return r}let sJ="__BASENAME__";function sY(e){let{files:t,sep:s="/",inlinedResourcePathKey:n="__RESOURCEPATH__",fileTitle:r=(e,t)=>t,dirTitle:i=(e,t)=>t,page:l="other"}=e,a=new RegExp(s),o=t.reduce((e,t)=>{let i=sU(t,s),o=i?null==t?void 0:t.slice(i.length+1):t,d=e;for(;i;){let e=d.children.find(e=>e.title===i);if(!e){let t=[d[n],i].filter(Boolean).join(s);e={title:i,icon:"bundle"===l?e=>sX(e,!1):null,key:t,children:[],[n]:t,[sJ]:i},d.children.push(e)}d=e,o=(i=sU(o))?o.slice(i.length).replace(a,""):o}return d.children.some(e=>(0,sl.A)(e,n)===t)||d.children.push({title:()=>r(t,o),icon:"bundle"===l?e=>sX(e):null,key:t,isLeaf:!0,[n]:t,[sJ]:o}),e},{key:"0",children:[]}).children;return o.forEach(e=>{e.children&&e.children.forEach(t=>(function e(t,s){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(e,t)=>t;if(!t.isLeaf)if(s.children&&1===s.children.length){let l=[s[sJ],t[sJ]].join(n);s[r]=t[r],s[sJ]=l,s.key=[s.key,t.key].join("-"),s.children=t.children,s.title=i(s,l),t.children&&t.children.forEach(t=>{e(t,s,n,r,i)})}else t.title=i(t,t[sJ]),t.children&&t.children.forEach(s=>{e(s,t,n,r,i)})})(t,e,s,n,i))}),o}function sZ(e,t){return e.startsWith(t)?e.replace(t,"."):e}function sQ(e,t){let s=sZ(e,t),n="/node_modules/",r=s.lastIndexOf(n);return r>-1?{alias:s.slice(r+n.length),inNodeModules:!0}:{alias:s,inNodeModules:!1}}function sX(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{data:s}=e,n=e.expanded;return(null==s?void 0:s.children)?(0,o.jsxs)(sN.A,{children:[t?(0,o.jsx)(sE.A,{className:`file-tree-switcher-arrow ${n?"file-tree-switcher-arrow-expand":""}`}):(0,o.jsx)(o.Fragment,{}),n?(0,o.jsx)(s_.A,{}):(0,o.jsx)(sT.A,{})]}):e.eventKey&&"string"==typeof e.eventKey?sH(e.eventKey):(0,o.jsx)(sR.A,{})}var s0=s(78029),s1=s(57998),s5=s(66927),s2=s(61323);let s4=X.Client.RsdoctorClientRoutes.RuleIndex,s6=()=>{let{i18n:e,...t}=(0,s5.B)();return{...t,i18n:{...e,changeLanguage:(t,s)=>e.changeLanguage(t,(e,n)=>{e||A("LOCALE",t),s&&s(e,n)})}}};function s3(e,t){let s=(0,s2.Zp)();return t?()=>window.open(t,"__blank"):()=>{s(`${s4}?${X.Rule.RsdoctorRuleClientConstant.UrlQueryForErrorCode}=${e}`)}}function s7(){let e=(0,s2.zy)().search||location.search,{query:t}=sj()(e,!0);return t}function s9(e){let t=e;"string"==typeof t&&(e=JSON.parse(ex.decompressText(t)));var s=e,n={dependencies:[],modules:[],moduleGraphModules:[],exports:[],sideEffects:[],variables:[]};return s&&"object"==typeof s?Array.isArray(s)?n:(0,s0.A)(s,n):n}function s8(e){return(0,s1.A)(e,e=>e.path)}function ne(e){return(Array.isArray(e)?e.filter(e=>e.category===X.Rule.RuleMessageCategory.Bundle&&e.code!==X.Rule.RuleMessageCodeEnumerated.Overlay):[]).filter(e=>e.code===X.Rule.RuleErrorMap.E1001.code)}let{findLoaderTotalTiming:nt,getLoaderCosts:ns}=ey;function nn(e,t,s,n,r,i){return(!s||-1!==e.indexOf(s))&&(!r||!i||r===i)&&(null==n||!n.length||!!n.includes(t))}var nr=s(75053),ni=s(28599);function nl(e){return"cn"===e||"zh-CN"===e?nr.A:ni.A}var na=s(52746),no=s.n(na),nd=s(85409);let nc=(0,ei.h)();nc.override({log:e=>{console.log(`${er().green("[RSDOCTOR LOG]")} ${e}`)},info:e=>{console.log(`${er().yellow("[RSDOCTOR INFO]")} ${e}`)},warn:e=>{console.warn(`${er().yellow("[RSDOCTOR WARN]")} ${e}`)},start:e=>{console.log(`${er().green("[RSDOCTOR START]")} ${e}`)},ready:e=>{console.log(`${er().green("[RSDOCTOR READY]")} ${e}`)},error:e=>{console.error(`${er().red("[RSDOCTOR ERROR]")} ${e}`)},success:e=>{console.error(`${er().green("[RSDOCTOR SUCCESS]")} ${e}`)},debug:e=>{nd.env.DEBUG&&console.log(`${er().blue("[RSDOCTOR DEBUG]")} ${e}`)}});let nu=new Map;function nh(e){nd.env.DEBUG===X.Constants.RsdoctorProcessEnvDebugKey&&(nu.has(e)||nu.set(e,Date.now()))}function np(e){if(nd.env.DEBUG!==X.Constants.RsdoctorProcessEnvDebugKey)return;let t=nu.get(e);if(null==t)return void ei.v.debug(`Timer '${e}' does not exist.`);let s=Date.now()-t;ei.v.debug(`Timer '${e}' ended: ${s}ms`),nu.delete(e)}var nm=s(85409),nf=s(8963).Buffer,nx={};nx.d=(e,t)=>{for(var s in t)nx.o(t,s)&&!nx.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},nx.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),nx.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var ng={};nx.r(ng),nx.d(ng,{assetsContents:()=>n1,chunkTransform:()=>nX,getAssetsModulesData:()=>nY,transformAssetsModulesData:()=>nZ});var nj={};nx.r(nj),nx.d(nj,{getImportKind:()=>n2,getModuleGraphByStats:()=>re,getModulesFromArray:()=>n8,getPositionByStatsLocation:()=>n6,isImportDependency:()=>n5,isWebpack5orRspack:()=>n3,removeNoImportStyle:()=>n4});var ny={};nx.r(ny),nx.d(ny,{transStats:()=>rt});var nv={};nx.r(nv),nx.d(nv,{getAllModules:()=>rf,getDependencyPosition:()=>rc,getEntryModule:()=>rd,getExportDependency:()=>ru,getExportStatement:()=>rp,getLastExportInfo:()=>rm,getModuleSource:()=>ro,getResolveRequest:()=>rl,getSdkDependencyByWebpackDependency:()=>rh,getWebpackDependencyRequest:()=>ri,getWebpackModuleId:()=>rn,getWebpackModulePath:()=>rr,isExternalModule:()=>ra,isNormalModule:()=>rs});class nA{isEntry(){return this.entry}isChunkEntryModule(e){return e.isEntry||e.getImported().every(e=>!this.hasModule(e))}hasModule(e){return this._modules.includes(e)}addModule(e){this.hasModule(e)||(this._modules.push(e),e.addChunk(this))}addAsset(e){this._assets.push(e)}addModules(e){e.forEach(e=>{this.hasModule(e)||(this._modules.push(e),e.addChunk(this))})}addDependency(e){this._dependencies.includes(e)||this._dependencies.push(e)}addImported(e){this._imported.includes(e)||this._imported.push(e)}getAssets(){return this._assets.slice()}getModules(){return this._modules.slice()}getDependencies(){return this._dependencies.slice()}getImported(){return this._imported.slice()}setParsedSize(e){this._parsedSize=e}toData(){return{id:this.id,name:this.name,initial:this.initial,size:this.size,parsedSize:this._parsedSize||0,entry:this.isEntry(),assets:this._assets.map(e=>{let{path:t}=e;return t}),modules:this._modules.map(e=>{let{id:t}=e;return t}),dependencies:this._dependencies.map(e=>{let{id:t}=e;return t}),imported:this._imported.map(e=>{let{id:t}=e;return t})}}setDependencies(e){this._dependencies=e}setImported(e){this._imported=e}setModules(e){this._modules=e}setAssets(e){this._assets=e}constructor(e,t,s,n,r){this._assets=[],this._modules=[],this._dependencies=[],this._imported=[],this.id=e,this.name=t,this.size=s,this.initial=n,this.entry=r}}class nb{getAssets(){return Array.from(this._assetMap.values())}getChunks(){return Array.from(this._chunkMap.values())}addAsset(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];t.forEach(e=>{this._assetMap.set(e.id,e),this._assetPathMap.set(e.path,e)})}addChunk(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];t.forEach(e=>{this._chunkMap.set(e.id,e)})}getChunkById(e){return this._chunkMap.get(e)}getAssetByPath(e){return this._assetPathMap.get(e)}getAssetById(e){return this._assetMap.get(e)}getEntryPoints(){return Array.from(this._entrypointMap.values())}getEntryPointById(e){return this._entrypointMap.get(e)}addEntryPoint(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];t.forEach(e=>{this._entrypointMap.set(e.id,e)})}toData(e){return{assets:Array.from(this._assetMap.values()).map(t=>t.toData(e)),chunks:Array.from(this._chunkMap.values()).map(e=>e.toData()),entrypoints:Array.from(this._entrypointMap.values()).map(e=>e.toData())}}setChunks(e){this._chunkMap=new Map(e.map(e=>[e.id,e]))}setEntrypoints(e){this._entrypointMap=new Map(e.map(e=>[e.id,e]))}setAssets(e){this._assetMap=new Map(e.map(e=>[e.id,e])),this._assetPathMap=new Map(e.map(e=>[e.path,e]))}constructor(){this._assetMap=new Map,this._assetPathMap=new Map,this._chunkMap=new Map,this._entrypointMap=new Map}}let nS=1;class nw{static init(){nS=1}toData(e){var t;return{id:this.id,path:this.path,size:this.size,gzipSize:this.gzipSize,chunks:null==(t=this.chunks)?void 0:t.map(e=>e.id),content:e===X.SDK.ToDataType.NoSourceAndAssets||e===X.SDK.ToDataType.NoCode?"":this.content}}setChunks(e){this.chunks=e}setId(e){this.id=e}setGzipSize(e){this.gzipSize=(0,et.gzipSync)(e,{level:9}).length}constructor(e,t,s,n){this.id=nS++,this.path=e,this.size=t,this.chunks=s,this.content=n}}let nC=1;class nM{static init(){nC=1}addChunk(e){this._chunks.includes(e)||this._chunks.push(e)}addAsset(e){this._assets.includes(e)||this._assets.push(e)}toData(){return{id:this.id,name:this.name,chunks:this._chunks.map(e=>e.id),assets:this._assets.map(e=>e.path),size:this._assets.length?this._assets.reduce((e,t)=>e+t.size,0):0}}setChunks(e){this._chunks=e}setAssets(e){this._assets=e}setId(e){this.id=e}constructor(e){this.name=e,this._chunks=[],this._assets=[],this.id=nC++}}let nk=1;class nD{static init(){nk=1}get resolvedRequest(){return this.dependency.path}get dependency(){return this.originDependency.rootModule??this.originDependency}get originDependency(){return this._originDependency}get kindString(){return X.SDK.DependencyKind[this.kind]}get resolveConcatenationModule(){return this.dependency.kind===X.SDK.ModuleKind.Concatenation}isSameWithoutStatements(e){return this.request===e.request&&this.kind===e.kind&&this.module.id===e.module.id&&this.dependency.id===e.dependency.id}addStatement(e){this.hasStatement(e)||this.statements.push(e)}hasStatement(e){return this.statements.some(t=>t.isSame(e))}setBuildMeta(e){this.meta={...this.meta,...e}}toData(){return{id:this.id,request:this.request,resolvedRequest:this.resolvedRequest,kind:this.kind,module:this.module.id,dependency:this.dependency.id,originDependency:this.originDependency.id,statements:this.statements.map(e=>e.toData())}}setId(e){this.id=e}constructor(e,t,s,n,r){this.statements=[],this.meta={exportsType:"default-with-named"},this.id=nk++,this.request=e,this.module=t,this._originDependency=s,this.kind=n,this.statements=r??[]}}function nP(e,t){return e.line===t.line&&e.column===t.column}nD.kind=X.SDK.DependencyKind;let nz=/!/,nI=/\s\+\s\d*\smodules$/,nN=/^css\s.*node_modules(?!\/)/;class nE{static getDefaultStatement(e){let t={line:1,column:0},s={start:{...t},end:{...t}};return new nE(e,{source:{...s},transformed:{...s}})}isSame(e){var t,s;return this.module.id===e.module.id&&(t=this.position.transformed,s=e.position.transformed,!!nP(t.start,s.start)&&(eP.isNil(t.end)||eP.isNil(s.end)?eP.isUndefined(t.end)&&eP.isUndefined(s.end):nP(t.end,s.end)))}getSourcePosition(){let{module:e,position:t}=this;return t.source?t.source:e.getSourceMap()?(t.source=e.getSourceRange(t.transformed),t.source):void 0}getLineCode(){let e=this.module.isPreferSource&&this.position.source,t=this.module.getSource(),s=e?t.source:t.transformed,n=e?this.position.source.start.line:this.position.transformed.start.line;if("number"==typeof n)return s.split("\n")[n-1]}toData(){let e={transformed:this.position.transformed};return this.position.source&&(e.source=this.position.source),{position:e,module:this.module.id}}constructor(e,t){this.module=e,this.position=t}}let n_=1;class nT{static init(){n_=1}get rootModule(){return this.modules.find(e=>e.path===this.path)}get isPreferSource(){if("boolean"==typeof this._isPreferSource)return this._isPreferSource;let e=this.source.source.length>0&&"test code"!==this.source.source&&!!this.sourceMap;return this._isPreferSource=e,e}addBailoutReason(e){this.bailoutReason.push(e)}getBailoutReason(){return this.bailoutReason}getChunks(){return this.chunks.slice()}addChunk(e){this.chunks.includes(e)||(this.chunks.push(e),e.addModule(this))}removeChunk(e){this.chunks=this.chunks.filter(t=>t!==e)}getDependencies(){return this.dependencies.slice()}getDependencyByRequest(e){return this.dependencies.find(t=>t.request===e)}getDependencyByModule(e){return this.dependencies.find(t=>t.originDependency===e||t.dependency===e)}addDependency(e,t,s,n){let r=new nD(e,this,t,s,n);if(this.dependencies.every(e=>!e.isSameWithoutStatements(r)))return this.dependencies.push(r),t.addImported(this),t.rootModule&&t.rootModule.addImported(this),r}removeDependency(e){this.dependencies=this.dependencies.filter(t=>t===e)}removeDependencyByModule(e){let t=this.getDependencyByModule(e);t&&this.removeDependency(t)}getImported(){return this.imported.slice()}addImported(e){this.imported.includes(e)||this.imported.push(e)}removeImported(e){this.imported=this.imported.filter(t=>t===e)}setProgram(e){this.program=e}getProgram(){return this.program}setSource(e){let{source:t}=this;t.source=e.source??t.source,t.transformed=e.transformed??t.transformed,t.parsedSource=e.parsedSource??t.parsedSource}getSource(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X.SDK.ToDataType.Normal;return e===X.SDK.ToDataType.NoCode?{source:"",transformed:"",parsedSource:""}:e===X.SDK.ToDataType.NoSourceAndAssets||e===X.SDK.ToDataType.NoSource?{source:"",transformed:"",parsedSource:this.isPreferSource?"":this.source.parsedSource}:e===X.SDK.ToDataType.All?{source:this.source.source,transformed:this.source.transformed,parsedSource:this.isPreferSource?"":this.source.parsedSource}:{source:this.source.source,transformed:"",parsedSource:this.isPreferSource?"":this.source.parsedSource}}setSourceMap(e){this.sourceMap=e}getSourceMap(){return this.sourceMap}setSize(e){let{size:t}=this;if(t.sourceSize=e.sourceSize??t.sourceSize,t.transformedSize=e.transformedSize??t.transformedSize,t.parsedSize=e.parsedSize??t.parsedSize,"number"==typeof e.gzipSize)t.gzipSize=e.gzipSize;else{let e=this.source.parsedSource||this.source.source;if(e&&"string"==typeof e&&e.length>0)try{t.gzipSize=(0,et.gzipSync)(e,{level:9}).length}catch(e){t.gzipSize=0}}}getSize(){return{...this.size}}getStatement(e){return new nE(this,{source:this.getSourceRange(e),transformed:{start:{...e.start},end:e.end?{...e.end}:void 0}})}getSourceRange(e){let{sourceMap:t}=this;if(!t)return;let s={start:{}},n=t.originalPositionFor({line:e.start.line??0,column:e.start.column??0,bias:1});if(eP.isNumber(n.line)&&(s.start={line:n.line,column:n.column??void 0}),e.end){let n=t.originalPositionFor({line:e.end.line??0,column:e.end.column??0});eP.isNumber(n.line)&&(s.end={line:n.line,column:n.column??void 0})}return s}addNormalModule(e){this.modules.includes(e)||(this.modules.push(e),e.addConcatenationModule(this))}getNormalModules(){return this.modules.slice()}addConcatenationModule(e){this.concatenationModules.includes(e)||this.concatenationModules.push(e)}addIssuerPath(e){var t;(null==(t=this.issuerPath)?void 0:t.length)||(this.issuerPath=e)}getIssuerPath(){return this.issuerPath}getConcatenationModules(){return this.concatenationModules.slice()}toData(e,t){var s;let{isPreferSource:n}=this,r=function(e){if(!e)return"";if(nz.test(e)){let t=eP.last(e.split(nz));if(null==t?void 0:t.trim())return t}return nI.test(e)?e.replace(nI,""):nN.test(e)?e.replace(nN,""):e}(this.webpackId),i={id:this.id,renderId:this.renderId,webpackId:e&&r.indexOf(".")>0?ea().relative(e,r):this.webpackId,path:this.path,isPreferSource:n,dependencies:this.dependencies.map(e=>e.id),imported:this.imported.map(e=>e.id),chunks:this.chunks.map(e=>e.id),size:this.getSize(),kind:this.kind,...this.layer?{layer:this.layer}:{},issuerPath:t?void 0:(null==(s=this.issuerPath)?void 0:s.filter(e=>e.moduleId).map(e=>e.moduleId))||[],bailoutReason:t?void 0:this.bailoutReason};return(this.meta.hasSetEsModuleStatement||this.meta.strictHarmonyModule)&&(i.meta={},this.meta.hasSetEsModuleStatement&&(i.meta.hasSetEsModuleStatement=!0),this.meta.strictHarmonyModule&&(i.meta.strictHarmonyModule=!0)),this.isEntry&&(i.isEntry=this.isEntry),this.modules.length>0&&(i.modules=this.modules.map(e=>e.id)),this.rootModule&&(i.rootModule=this.rootModule.id),this.concatenationModules.length>0&&(i.concatenationModules=this.concatenationModules.map(e=>e.id)),i}setId(e){this.id=e}setRenderId(e){this.renderId=e}setChunks(e){this.chunks=e}setDependencies(e){this.dependencies=e}setImported(e){this.imported=e}setModules(e){this.modules=e}setConcatenationModules(e){this.concatenationModules=e}constructor(e,t,s=!1,n=X.SDK.ModuleKind.Normal,r,i=""){this.issuerPath=[],this.bailoutReason=[],this.source={source:"",transformed:"",parsedSource:""},this.size={sourceSize:0,transformedSize:0,parsedSize:0,gzipSize:0},this.chunks=[],this.dependencies=[],this.imported=[],this.modules=[],this.concatenationModules=[],this.meta={hasSetEsModuleStatement:!1,strictHarmonyModule:!1},this.id=n_++,this.webpackId=e,this.path=t,this.isEntry=s,this.kind=n,this.renderId=r,this.layer=i}}nT.kind=X.SDK.ModuleKind;let nR=1;class nO{static init(){nR=1}get isReExport(){return!!this.from}set variable(e){this._variable=e}get variable(){var e;if(this._variable)return this._variable;if(!this.from||!1===this._variable){this._variable=!1;return}let t=null==(e=this.getRecursiveExport())?void 0:e.variable;return t||(this._variable=!1),t}addSideEffect(e){this._sideEffects.every(t=>t.id!==e.id)&&(this._sideEffects.push(e),this.from&&this.from.addSideEffect(e))}getSideEffects(){return this._sideEffects.slice()}setFromExport(e){this.from=e}getRecursiveExport(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0;if(0===e)throw Error("`getRecursiveExport` method parameter depth must be greater than 1.");if(!this.from)return this;let t=0,s=this;for(;s.from&&t<e;)t++,s=s.from;return s}toData(){let e={id:this.id,name:this.name,isReExport:this.isReExport,used:this._sideEffects.map(e=>e.id)};return this.from&&(e.from=this.from.id,e.root=this.getRecursiveExport().id),this.variable&&(e.variable=this.variable.id),e}constructor(e,t,s){this.id=nR++,this._sideEffects=[],this.name=e,this.identifier=t,this._variable=s}}let nB=1;class nL{static init(){nB=1}get variable(){var e,t;if(void 0!==this._variable)return this._variable?this._variable:void 0;let s=null==(t=this.exports[0])||null==(e=t.getRecursiveExport())?void 0:e.variable;return this._variable=s??!1,s}get exports(){var e;return(null==(e=this._exports)?void 0:e.slice())??[]}setModuleExport(e){e.getExports().forEach(e=>this.setExportInfo(e))}setExportInfo(e){this._exports.push(e),e.addSideEffect(this)}toData(){let e={id:this.id,name:this.name,identifier:this.identifier.toData(),module:this.module.id};return this.fromDependency&&(e.fromDependency=this.fromDependency.id),this.isNameSpace&&(e.isNameSpace=this.isNameSpace),this.exports.length>0&&(e.exports=this.exports.map(e=>e.id)),this.variable&&(e.variable=this.variable.id),e}constructor(e,t,s,n,r){this.id=nB++,this._exports=[],this.name=e,this.module=t,this.identifier=s,n&&(this.fromDependency=this.module.getDependencyByRequest(n)),r===nL.NamespaceSymbol?this.isNameSpace=!0:(this.isNameSpace=!1,this.originName=r)}}nL.NamespaceSymbol=Symbol("namespace");let nF=1;class n${static init(){nF=1}get isUsed(){return!!this._exported&&this._exported.getSideEffects().length>0}setExportInfo(e){this._exported=e,e.variable=this}getExportInfo(){return this._exported}toData(){let e={id:this.id,name:this.name,module:this.module.id,identifier:this.identifier.toData(),usedInfo:this.usedInfo};return this._exported&&(e.exported=this._exported.id),e}constructor(e,t,s,n){this.id=nF++,this.name=e,this.module=t,this.usedInfo=s,this.identifier=n}}class nG{static init(){nO.init(),nL.init(),n$.init()}get dynamic(){return"boolean"==typeof this._dynamic?this._dynamic:this.module.getImported().map(e=>e.getDependencyByModule(this.module)).some(e=>e&&"dynamic"===e.meta.exportsType)}addExportInfo(e){this.exports.push(e),this._graph.addExportInfo(e)}addSideEffect(e){this.sideEffects.push(e),this._graph.addSideEffect(e)}addVariable(e){this.variables.push(e),this._graph.addVariable(e)}getExports(){return this.exports.slice()}getSideEffects(e){return e?this.sideEffects.filter(t=>t.name===e):this.sideEffects.slice()}getOwnExports(){return this.exports.filter(e=>!e.isReExport)}getExport(e){return this.exports.find(t=>t.name===e)}getReExports(){return this.exports.filter(e=>e.isReExport)}getOwnExport(e){return this.getOwnExports().find(t=>t.name===e)}getReExport(e){return this.getReExports().find(t=>t.name===e)}toData(){return{module:this.module.id,dynamic:this.dynamic,exports:this.exports.map(e=>e.id),sideEffects:this.sideEffects.map(e=>e.id),variables:this.variables.map(e=>e.id)}}constructor(e,t,s){this.exports=[],this.sideEffects=[],this.variables=[],this.module=e,this._graph=t,"boolean"==typeof this._dynamic&&(this._dynamic=s)}}class nK{static init(){nT.init(),nD.init(),nG.init()}static fromData(e){let t=new nK,s=e=>new nE(t.getModuleById(e.module),e.position);for(let s of e.modules??[]){var n,r;let e=new nT(String(s.id),s.path,s.isEntry,s.kind,s.renderId,s.layer);e.id=s.id,e.setSize(s.size),e.meta={strictHarmonyModule:(null==(n=s.meta)?void 0:n.strictHarmonyModule)??!1,hasSetEsModuleStatement:(null==(r=s.meta)?void 0:r.hasSetEsModuleStatement)??!1},e._isPreferSource=s.isPreferSource,e.chunks=s.chunks,t.addModule(e)}for(let n of e.modules??[]){let r=t.getModuleById(n.id);for(let i of n.dependencies){let n=(e.dependencies??[]).find(e=>e.id===i),l=n&&t.getModuleById(n.originDependency);if(!n||!l){console.warn(`The connection data ID is empty: ${i}`);continue}let a=r.addDependency(n.request,l,n.kind,n.statements.map(s));a&&(a.id=n.id,t.addDependency(a))}for(let e of n.modules??[]){let s=t.getModuleById(e);if(!s){console.warn(`Add the ordinary module ID as empty: ${e}`);continue}r.addNormalModule(s)}for(let e of n.concatenationModules??[]){let s=t.getModuleById(e);if(!s){console.warn(`The aggregation module ID is empty: ${s}`);continue}r.addConcatenationModule(s)}}for(let n of e.exports??[]){let e=new nO(n.name,n.identifier?s(n.identifier):void 0);e.id=n.id,t.addExportInfo(e)}for(let s of e.exports??[])if(s.from){let e=t._exportIdMap.get(s.id),n=t._exportIdMap.get(s.from);e&&n&&e.setFromExport(n)}for(let n of e.variables??[]){let e=t.getModuleById(n.module);if(!e){console.warn(`The module ID in the variable is empty\u{FF1A}${n.module}`);continue}let r=new n$(n.name,e,n.usedInfo,s(n.identifier)),i=t._exportIdMap.get(n.exported??-1);i&&r.setExportInfo(i),r.id=n.id,t.addVariable(r)}for(let n of e.sideEffects??[]){let e=t.getModuleById(n.module);if(!e){console.warn(`The module ID in the side effects is empty\u{FF1A}${n.module}`);continue}let r=new nL(n.name,e,s(n.identifier),n.originName);for(let e of(r.isNameSpace=n.isNameSpace,r.id=n.id,n.exports??[])){let s=t._exportIdMap.get(e);s&&s.addSideEffect(r)}if(n.variable){let e=t._varIdMap.get(n.variable);e&&(r._variable=e)}t.addSideEffect(r)}for(let s of e.moduleGraphModules??[]){let e=t.getModuleById(s.module);if(!e){console.warn(`The module ID in ModuleGraphModule is empty: ${s.module}`);continue}let n=new nG(e,t,s.dynamic);t.addModuleGraphModule(n),s.exports.forEach(e=>{let s=t._exportIdMap.get(e);s&&n.addExportInfo(s)}),s.sideEffects.forEach(e=>{let s=t._sideEffectIdMap.get(e);s&&n.addSideEffect(s)}),s.variables.forEach(e=>{let s=t._varIdMap.get(e);s&&n.addVariable(s)})}return nK.init(),t}clear(){this._dependenciesIdMap=new Map,this._moduleWebpackIdMap=new Map,this._moduleIdMap=new Map,this._moduleGraphModules=new Map,this._exportIdMap=new Map,this._sideEffectIdMap=new Map,this._varIdMap=new Map,this._layers=new Map}size(){return this._moduleIdMap.size}fromInstance(e){this._dependenciesIdMap=new Map(e._dependenciesIdMap),this._moduleWebpackIdMap=new Map(e._moduleWebpackIdMap),this._moduleIdMap=new Map(e._moduleIdMap),this._moduleGraphModules=new Map(e._moduleGraphModules),this._exportIdMap=new Map(e._exportIdMap),this._sideEffectIdMap=new Map(e._sideEffectIdMap),this._varIdMap=new Map(e._varIdMap),this._layers=new Map(e._layers)}getSubGraphByModule(e){let t=new Set,s=[e];t.add(e);for(let e=0;e<s.length;e++)for(let{dependency:n}of s[e].getDependencies())t.has(n)||(t.add(n),s.push(n));return s}getModules(){return Array.from(this._moduleWebpackIdMap.values())}getDependencies(){return Array.from(this._dependenciesIdMap.values())}getEntryModules(){return this.getModules().filter(e=>e.isEntry&&e.kind!==X.SDK.ModuleKind.Concatenation)}getModuleById(e){return this._moduleIdMap.get(e)}getDependencyById(e){return this._dependenciesIdMap.get(e)}getModuleByWebpackId(e){return this._moduleWebpackIdMap.get(e)}getModuleByFile(e){return this.getModules().find(t=>t.path===e)}addModule(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];for(let e of t)!this._moduleIdMap.has(e.id)&&(this._moduleWebpackIdMap.set(e.webpackId,e),this._moduleIdMap.set(e.id,e),e.layer&&this.addLayer(e.layer))}addDependency(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];for(let e of t)this._dependenciesIdMap.has(e.id)||(this._dependenciesIdMap.set(e.id,e),this.addModule(e.module),this.addModule(e.dependency))}removeModule(e){for(let t of(this._moduleIdMap.delete(e.id),this._moduleWebpackIdMap.delete(e.webpackId),e.getDependencies()))this.removeDependency(t),this._dependenciesIdMap.delete(t.id);for(let t of e.getImported())t.removeDependencyByModule(t)}removeDependency(e){e.module.removeDependency(e),e.dependency.removeImported(e.module),this._dependenciesIdMap.delete(e.id)}addModuleGraphModule(e){this._moduleGraphModules.has(e.module)||this._moduleGraphModules.set(e.module,e)}getModuleGraphModule(e){return this._moduleGraphModules.get(e)}getModuleGraphModules(){return Array.from(this._moduleGraphModules.values())}addExportInfo(e){this._exportIdMap.set(e.id,e)}addSideEffect(e){this._sideEffectIdMap.set(e.id,e)}addVariable(e){this._varIdMap.set(e.id,e)}addLayer(e){this._layers.get(e)||this._layers.set(e,1)}getLayers(){return this._layers}toData(e){var t;let s=!!((null==e||null==(t=e.briefOptions)?void 0:t.type)&&e.briefOptions.type.length);return{dependencies:this.getDependencies().map(e=>e.toData()),modules:this.getModules().map(t=>t.toData(null==e?void 0:e.contextPath,s)),moduleGraphModules:s?[]:Array.from(this._moduleGraphModules.values()).map(e=>e.toData()),exports:s?[]:Array.from(this._exportIdMap.values()).map(e=>e.toData()),sideEffects:s?[]:Array.from(this._sideEffectIdMap.values()).map(e=>e.toData()),variables:s?[]:Array.from(this._varIdMap.values()).map(e=>e.toData()),layers:Array.from(this._layers.keys())}}toCodeData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X.SDK.ToDataType.Normal,t={};return this.getModules().forEach(s=>{t[s.id]=s.getSource(e)}),t}setModules(e){this._moduleIdMap=new Map(e.map(e=>[e.id,e])),this._moduleWebpackIdMap=new Map(e.map(e=>[e.webpackId,e])),this._layers=new Map(e.filter(e=>e.layer).map(e=>[e.layer,1]))}setDependencies(e){this._dependenciesIdMap=new Map(e.map(e=>[e.id,e]))}constructor(){this._dependenciesIdMap=new Map,this._moduleWebpackIdMap=new Map,this._moduleIdMap=new Map,this._moduleGraphModules=new Map,this._exportIdMap=new Map,this._sideEffectIdMap=new Map,this._varIdMap=new Map,this._layers=new Map}}let nW=1;class nH{get name(){return this.dependency.name}get version(){return this.dependency.version}get root(){return this.dependency.root}isSame(e){return this.refDependency===e.refDependency&&this.dependency.isSame(e.dependency)}toData(){return{id:this.id,dependency:this.dependency.id,package:this.package.id,refDependency:this.refDependency.id}}constructor(e,t,s){this.id=nW++,this.package=e,this.dependency=t,this.refDependency=s}}let nq=(e,t)=>{let s,n=e;for(;"/"!==n&&!s&&(0,el.dirname)(n)!==n;)n=(0,el.dirname)(n),t&&(s=t((0,el.join)(n,"package.json"))),t?(null==s?void 0:s.name)||(s=void 0):s=ez.getPackageMetaFromModulePath(e);if(s)return!t||s.name&&s.version?{...s,root:n}:nq((0,el.dirname)(n),t)},nU=1;class nV{setDuplicates(e){this.duplicates.push({module:e.module,chunks:e.chunks})}getModules(){return this._modules.slice()}getDependencies(){return this._dependencies.slice()}getImported(){return this._imported.slice()}addModule(e){this._modules.includes(e)||this._modules.push(e)}addDependency(e){this._dependencies.every(t=>!t.isSame(e))&&(this._dependencies.push(e),e.dependency.addImported(this))}getDependenciesChain(e){return function t(s,n){for(let r of e.getDependenciesFromPackage(s))if(r.refDependency&&!n.some(e=>e.dependency===s)){if(!r.package)return n.concat(r);return t(r.package,n.concat(r))}return n}(this,[])}addImported(e){this._imported.includes(e)||this._imported.push(e)}contain(e){var t;return!!e.includes(this.root)&&(t=(0,el.relative)(this.root,e),!/(^|[/\\])node_modules[/\\]/.test(t))}isSame(e){return this.root===e.root&&this.version===e.version&&this.name===e.name}getSize(){return this._modules.reduce((e,t)=>{let s=t.getSize();return e.sourceSize+=s.sourceSize,e.transformedSize+=s.transformedSize,e.parsedSize+=s.parsedSize,e.gzipSize+=s.gzipSize,e},{sourceSize:0,transformedSize:0,parsedSize:0,gzipSize:0})}toData(){return{id:this.id,name:this.name,root:this.root,version:this.version,modules:this.getModules().map(e=>e.id),size:this.getSize(),duplicates:this.duplicates}}constructor(e,t,s){this.id=nU++,this._modules=[],this._dependencies=[],this._imported=[],this.name=e,this.root=t,this.version=s,this.duplicates=[]}}class nJ{static fromModuleGraph(e,t,s){let n=new nJ(t);for(let t of e.getModules().filter(e=>e.kind===X.SDK.ModuleKind.Normal)){if(!t.getChunks())continue;let e=n.getPackageByModule(t,s);e&&(n.addPackage(e),e.addModule(t))}for(let t of e.getDependencies()){let e=n.getPackageByFile(t.module.path),s=n.getPackageByFile(t.dependency.path);if(e&&s&&!e.isSame(s)){let r=new nH(e,s,t);n.addDependency(r),e.addDependency(r)}}return n}getPackages(){return this._packages.slice()}getPackageByModule(e,t){let{path:s,meta:n}=e,{_pkgFileMap:r}=this,i=e=>this.getPackageByData(e)??new nV(e.name,e.root,e.version);if(r.has(s))return r.get(s);if(n.packageData){let t=i(n.packageData);return this.setDuplicates(e,t),r.set(s,t),t}let l=this.getPackageContainFile(s);if(l)return r.set(s,l),l;let a=nq(s,t);if(!a)return;a.root.startsWith(".")&&(a.root=(0,el.resolve)(this._root,a.root));let o=i(a);return this.setDuplicates(e,o),this.addPackage(o),r.set(s,o),o}getPackageByFile(e){return this._pkgFileMap.get(e)}getPackageContainFile(e){return this._packages.find(t=>t.contain(e))}getPackagesByName(e){return this._pkgNameMap.get(e)??[]}getPackageByData(e){var t;return null==(t=this._pkgNameMap.get(e.name))?void 0:t.find(t=>t.version===e.version&&t.root===e.root)}addPackage(e){if(this._packages.every(t=>!t.isSame(e))){this._packages.push(e);let{_pkgNameMap:t}=this,s=t.get(e.name)??[];s.every(t=>!t.isSame(e))&&(s.push(e),t.set(e.name,s))}}setDuplicates(e,t){let s=[],n=e.getChunks();n.forEach(e=>s.push(...e.getAssets().filter(e=>e.path.endsWith(".js")))),n.length>1&&t.setDuplicates({module:{id:e.id,path:e.path},chunks:s.map(e=>({name:e.path}))})}getDependenciesFromPackage(e){return this._dependencies.filter(t=>t.dependency===e)}addDependency(e){this._dependencies.every(t=>!t.isSame(e))&&this._dependencies.push(e)}getDependenciesFromOrigin(){return this._dependencies.filter(e=>!e.package)}getDuplicatePackages(){return no()(Array.from(this._pkgNameMap.values()).map(e=>no()(e,"version")).filter(e=>e.length>1),e=>e[0].name)}toData(){return{packages:this._packages.map(e=>e.toData()),dependencies:this._dependencies.map(e=>e.toData())}}constructor(e){this._dependencies=[],this._packages=[],this._pkgNameMap=new Map,this._pkgFileMap=new Map,this._root=e}}async function nY(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Map;if(r.parseBundle&&i.size<1){nh("Start Parse bundle by AST.");let{parseBundle:s=()=>({})}=r||{},i=t.getAssets(),l=e.getModules(),a=null,o=null;if(n&&i.length){for(let e of(a={},o={},i)){let t,r=ea().join(n,e.path);try{t=s(r,l)}catch(n){let{code:e="",message:t}=n,s="ENOENT"===e?"no such file":t;"1"===nm.env.DEVTOOLS_NODE_DEV&&nc.warn(`Error parsing bundle asset "${r}": ${s}`);continue}a[e.path]=eP.pick(t,["src","runtimeSrc"]),Object.assign(o,(null==t?void 0:t.modules)||{})}eP.isEmpty(a)&&(a=null,o=null,nm.env.DEVTOOLS_DEV&&nc.warn("\nNo bundles were parsed. Analyzer will show only original module sizes from stats file.\n")),o&&nZ(o,e)}np("Start Parse bundle by AST.")}else{for(let[t,n]of(nh("Start Parse bundle by sourcemap."),i.entries())){let r,i=e.getModuleByFile(t);if(i){try{if(n&&"string"==typeof n&&n.length>0){let{gzipSync:e}=await Promise.resolve().then(s.t.bind(s,46068,23));r=e(n,{level:9}).length}}catch{}null==i||i.setSize({parsedSize:n.length,gzipSize:r}),null==i||i.setSource({parsedSource:n})}}np("Start Parse bundle by sourcemap.")}}function nZ(e,t){t&&Object.entries(e).forEach(e=>{let[s,n]=e,r,i=t.getModuleByWebpackId(s??"");try{(null==n?void 0:n.content)&&"string"==typeof n.content&&n.content.length>0&&(r=(0,et.gzipSync)(n.content,{level:9}).length)}catch{}null==i||i.setSize({parsedSize:null==n?void 0:n.size,gzipSize:r}),null==i||i.setSource({parsedSource:(null==n?void 0:n.content)||""})})}let nQ="assets by status";function nX(e,t){var s,n,r,i,l,a;let o=new nb;if(null==(s=t.chunks)||s.forEach(e=>{var t,s;let n=new nA(String(e.id),(null==(t=e.names)?void 0:t.join(""))||(null==(s=e.files)?void 0:s.join("| "))||"",e.size,e.initial,e.entry);n.setParsedSize(0),o.addChunk(n)}),(null==(n=t.assets)?void 0:n.every(e=>e.type===nQ))?null==(r=t.chunks)||r.forEach(t=>{let s=o.getChunkById(String(t.id));s&&t.files&&t.files.forEach(t=>{if(!o.getAssetByPath(t)){let{content:n=""}=e.get(t)||{},r=new nw(t,0,[s],n);s.addAsset(r),o.addAsset(r)}})}):null==(i=t.assets)||i.forEach(t=>{var s;if(t.type===nQ)return;let n=(null==(s=t.chunks)?void 0:s.map(e=>o.getChunkById(String(e))).filter(e=>!!e))||[],{content:r=""}=e.get(t.name)||{},i=new nw(t.name,t.size,n,r);n.forEach(e=>null==e?void 0:e.addAsset(i)),o.addAsset(i)}),t.entrypoints)for(let[e,s]of Object.entries(t.entrypoints)){let t=new nM(s.name||e);null==(l=s.chunks)||l.forEach(e=>{let s=o.getChunkById(`${e}`);s&&t.addChunk(s)}),null==(a=s.assets)||a.forEach(e=>{let s=o.getAssetByPath(e.name);s&&t.addAsset(s)}),o.addEntryPoint(t)}return o}let n0=/\.(?:js|css|html|json|svg|txt|xml|xhtml|wasm|manifest)$/i;function n1(e,t,s){t.getAssets().forEach(t=>{let{content:n=""}=e.get(t.path)||{};t.content=n,n0.test(t.path)&&(null==s?void 0:s.gzip)&&t.setGzipSize(n)})}function n5(e){let{type:t}=e;return"harmony side effect evaluation"===t||"cjs require"===t||"cjs full require"===t||"cjs export require"===t||"provided"===t||"esm import"===t}function n2(e){let{type:t}=e;return t?t.includes("harmony")?X.SDK.DependencyKind.ImportStatement:t.includes("cjs")?X.SDK.DependencyKind.RequireCall:t.includes("import()")?X.SDK.DependencyKind.DynamicImport:t.includes("amd")?X.SDK.DependencyKind.AMDRequire:X.SDK.DependencyKind.Unknown:X.SDK.DependencyKind.Unknown}function n4(e){e.getModules().filter(e=>eb.isStyleExt(e.path)).filter(e=>0===e.getImported().length).forEach(t=>e.removeModule(t))}function n6(e){function t(e){let[t,s]=e.split(":");return{line:Number(t),column:Number(s)}}if(e.includes("-")){let s=e.split("-"),n=t(s[0]),r=t(s[1]);return{start:n,end:Number.isNaN(r.column)?{line:n.line,column:r.line}:r}}return e.includes(":")?{start:t(e)}:e.includes("[")?{start:{index:Number(e.match(/\[(\d+)\]/)[1])}}:void 0}function n3(e){return"moduleGraph"in e&&!!e.moduleGraph}function n7(e){var t;if(!e.identifier||!((null==e?void 0:e.nameForCondition)||e.name)||e.identifier.startsWith("webpack/runtime")||(null==e||null==(t=e.name)?void 0:t.startsWith("(webpack)")))return!0}function n9(e,t){if(t.nameForCondition)return t.nameForCondition.replace("\0","");let s=t.name.replace(/ ?\+ ?\d+ ?modules$/,"");return ea().isAbsolute(s)?s:ea().join(e,s)}function n8(e,t){e.forEach(e=>{"module"===e.type||void 0===e.type?t.push(e):"children"in e&&e.children&&n8(e.children,t)})}function re(e,t,s){var n,r,i,l,a;let{modules:o,chunks:d}=e;nK.init();let c=new nK,u=[],h=[];for(let e of(n8(o??[],h),null==(n=d??[])||n.forEach(e=>{var t;(null==(t=e.modules)?void 0:t.length)&&h.push(...e.modules)}),h??[])){if(n7(e)||c.getModuleByWebpackId(e.identifier))continue;u.push(e);let n=!!(e.modules&&e.modules.length>0),o=new nT(e.identifier,n9(t,e),0===e.depth,n?X.SDK.ModuleKind.Concatenation:X.SDK.ModuleKind.Normal,e.id?String(e.id):void 0,e.layer);for(let n of(e.optimizationBailout&&e.optimizationBailout.forEach(e=>o.addBailoutReason(e)),e.issuerPath&&o.addIssuerPath(e.issuerPath),null==(r=e.chunks)||r.forEach(e=>{let t=s.getChunkById(String(e));t&&o.addChunk(t)}),c.addModule(o),e.source&&o.setSource({transformed:nf.isBuffer(e.source)?e.source.toString():e.source}),"number"==typeof e.size&&o.setSize({sourceSize:e.size,transformedSize:e.size}),e.modules??[])){let r;if(n7(n))continue;u.push(n);let d=n.identifier;r=c.getModuleByWebpackId(d)||(c.getModuleByWebpackId(d)??new nT(d,n9(t,n),0===n.depth,X.SDK.ModuleKind.Normal,n.id?String(n.id):void 0,n.layer)),n.optimizationBailout&&n.optimizationBailout.forEach(e=>r.addBailoutReason(e)),n.issuerPath&&r.addIssuerPath(n.issuerPath),(null==(i=n.chunks)?void 0:i.length)?null==(l=n.chunks)||l.forEach(e=>{let t=s.getChunkById(String(e));t&&r.addChunk(t)}):null==(a=e.chunks)||a.forEach(e=>{let t=s.getChunkById(String(e));t&&r.addChunk(t)}),n.source&&r.setSource({transformed:nf.isBuffer(n.source)?n.source.toString():n.source}),"number"==typeof n.size&&r.setSize({sourceSize:n.size,transformedSize:n.size}),c.addModule(r),o.addNormalModule(r)}}for(let e of u){let t=c.getModuleByWebpackId(e.identifier??"");if(!t)continue;let s=(e.reasons??[]).filter(n5).filter(e=>!!(e.moduleIdentifier&&e.userRequest));for(let n of((e.reasons??[]).filter(e=>"from origin"===e.type).forEach(e=>{var t;return null==e||null==(t=e.children)?void 0:t.forEach(t=>s.push({...e,...t,children:void 0}))}),s)){let e=n.userRequest,s=c.getModuleByWebpackId(n.moduleIdentifier);if(!s)continue;if(!s.getDependencyByRequest(e)){let r=s.addDependency(e,t,n2(n));r&&c.addDependency(r)}let r=s.getDependencyByRequest(e);if(r&&(null==n?void 0:n.loc)){let e=n6(n.loc);e&&r.addStatement(new nE(s,{transformed:e}))}}}let p=new Map;return c.getModules().forEach(e=>{e.issuerPath&&e.issuerPath.forEach(e=>{let t=p.get(e.identifier);!t&&(t=c.getModuleByWebpackId(e.identifier))&&p.set(e.identifier,t),t&&(e.moduleId=t.id)})}),c}async function rt(e){let t=nX(new Map,e),s=re(e,".",t);return await nY(s,t,e.outputPath||"",{}),{chunkGraph:t,moduleGraph:s}}function rs(e){return"request"in e&&"rawRequest"in e&&"resource"in e}function rn(e){return e.identifier()}function rr(e){var t;return e.resource??(null==(t=e.nameForCondition)?void 0:t.call(e))??rn(e)}function ri(e,t){return e.request??e.userRequest??(null==t?void 0:t.rawRequest)}function rl(e,t){return rr(t.getResolvedModule(e))}function ra(e){return!!e.externalType}function ro(e){var t,s;return ra(e)?"":(null==(s=e.originalSource)||null==(t=s.call(e))?void 0:t.source().toString())??""}function rd(e){return Array.from(e.values()).map(e=>e.getRuntimeChunk()).map(e=>e?e.entryModule:null).filter(Boolean).map(e=>rs(e)?e:e.rootModule)}function rc(e,t){let s=!(arguments.length>2)||void 0===arguments[2]||arguments[2],{loc:n}=e;if(void 0===n||!("start"in n))return;let r={start:{line:n.start.line,column:n.start.column},end:n.end?{line:n.end.line,column:n.end.column}:void 0};return new nE(t,{source:s?t.getSourceRange(r):void 0,transformed:r})}function ru(e,t){let s=t.dependencies.find(t=>t.name===e.name&&("harmony export imported specifier"===t.type||"harmony export specifier"===t.type));return!s&&e._target&&e._target.size>0&&(s=e._getMaxTarget().values().next().value.connection.dependency),s}function rh(e,t,s){let n=rr(t),r=ri(e);return s.getDependencies().find(e=>e.module.path===n&&e.request===r)}function rp(e,t,s){let n=ru(e,t);if(!n)return;let r=rr(t),i=ri(n),l=s.getDependencies().find(e=>e.module.path===r&&e.request===i);if(l&&1===l.statements.length)return l.statements[0];let a=s.getModuleByWebpackId(rn(t));if(a)return rc(n,a)}function rm(e,t){let s=e.findTarget(t,()=>!0);if(s&&s.export)return t.getExportsInfo(s.module).getExportInfo(s.export[0])}function rf(e){let t=[];for(let s of e.modules)t.push(...s.modules??[]),t.push(s);return no()(t.filter(e=>!rn(e).startsWith("webpack/runtime")),e=>rn(e))}let rx={locale:b(),theme:v("THEME")||u.Light,pageState:h.Pending,viewMode:function(){let e={bundleAlerts:m.List,compileAlerts:m.List};try{let t=v("VIEWMODE");if(t)return JSON.parse(t)||e;return e}catch(t){return e}}(),json:{},setTheme(){},setManifest(){},setPageState(e){},setViewMode(){}},rg=(0,w.createContext)({...rx});function rj(){let{theme:e,setTheme:t}=(0,w.useContext)(rg),s=e===u.Dark;return{theme:e,setTheme:t,isDark:s,isLight:!s}}function ry(){let{viewMode:e,setViewMode:t}=(0,w.useContext)(rg),{bundleAlerts:s,compileAlerts:n}=e;return{viewMode:e,setViewMode:t,setCompileAlertsViewMode(e){t({compileAlerts:e})},setBundleAlertsViewMode(e){t({bundleAlerts:e})},isCompileList:n===m.List,isBundleList:s===m.List}}function rv(e){return e>=1e9?`${(e/1e9).toFixed(2)} GB`:e>=1e6?`${(e/1e6).toFixed(2)} MB`:e>=1e3?`${(e/1e3).toFixed(2)} KB`:e>1?`${e} bytes`:1===e?`${e} byte`:"0 bytes"}function rA(e){return`${+e.toFixed(2)}%`}let{toFixedDigits:rb,getUnit:rS,formatCosts:rw}=ev;function rC(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class rM{setup(){this.worker.onmessage=e=>{let{data:t}=e;if(this.callbacks.has(t.id)){let e=this.callbacks.get(t.id);this.callbacks.delete(t.id),e(t.data)}}}createEventId(){return`${Date.now()}_${++this.timer}`}emit(e,t){var s;let n=this.createEventId();return this.callbacks.set(n,t),s={id:n,data:e},this.worker.postMessage(s),{abort:()=>this.callbacks.delete(n)}}dispose(){this.worker.terminate()}constructor(e){rC(this,"worker",void 0),rC(this,"timer",void 0),rC(this,"callbacks",void 0),this.worker=e,this.timer=0,this.callbacks=new Map,this.setup()}}new class{detectWorker(e){if(this._workerMap.has(e))return this._workerMap.get(e);let t=new rM(e());return this._workerMap.set(e,t),t}constructor(){!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(this,"_workerMap",new WeakMap)}};var rk=s(24753);async function rD(e){return(await Promise.all(e.map(async e=>{let t=ng.chunkTransform(new Map,e),s=nj.getModuleGraphByStats(e,".",t);await ng.getAssetsModulesData(s,t,e.outputPath||"",{},void 0);let n=nJ.fromModuleGraph(s,".");return{hash:e.hash||"",moduleGraph:await s.toData(),chunkGraph:t.toData(X.SDK.ToDataType.Normal),packageGraph:n.toData()}}))).map(e=>({client:{enableRoutes:[]},data:{pid:0,root:"",errors:[],configs:[],plugin:{},summary:{costs:[]},envinfo:{},resolver:[],loader:[],moduleCodeMap:{},...e}}))}var rP=s(64801),rz=s(81489),rI=s(37080),rN=s(47078),rE=s(82528),r_=s(20772),rT=s(31448),rR=s(26316),rO=s(95154),rB=s(53310);let rL=e=>{let{title:t,value:s,statisticProps:n,boxProps:r}=e;return(0,o.jsx)("div",{className:"statistic-card",...r,children:(0,o.jsx)(rB.A,{title:(0,o.jsx)("div",{className:"statistic-card-title",children:t}),valueRender:()=>s,valueStyle:{fontSize:24},...n})})},rF=e=>{let{baseline:t,current:s,...n}=e,r=eS.diffSize(t,s);return(0,o.jsx)(r$,{...n,...r})},r$=e=>{let{percent:t,state:s,fontSize:n=14}=e,r=+t.toFixed(2);if(r>0){let e=`${r}`;if(s===X.Client.RsdoctorClientDiffState.Up)return(0,o.jsxs)(rT.A.Text,{strong:!0,style:{fontSize:n,color:g.Red},children:["+",e,"%"]});if(s===X.Client.RsdoctorClientDiffState.Down)return(0,o.jsxs)(rT.A.Text,{strong:!0,style:{fontSize:n,color:g.Green},children:["-",e,"%"]})}return null},rG=e=>{let{data:t,formatter:s}=e,{percent:n,state:r,size:i}=t,{baseline:l,current:a}=i,d=s?s(l,"baseline"):rv(l),c=s?s(a,"current"):rv(a);return(0,o.jsx)(sN.A,{align:"start",children:(0,o.jsxs)(sN.A,{direction:"vertical",style:{textAlign:"left"},children:[(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rT.A.Text,{style:{fontSize:10,color:"inherit"},keyboard:!0,children:"Current"}),(0,o.jsx)(rR.A,{title:"number"==typeof c||"string"==typeof c?`Value of Current is ${c}`:void 0,children:(0,o.jsx)(rT.A.Text,{style:{fontSize:16,color:"inherit"},strong:!0,children:c})}),(0,o.jsx)(r$,{percent:n,state:r})]}),(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rT.A.Text,{style:{fontSize:10,color:"inherit"},keyboard:!0,children:"Baseline"}),(0,o.jsx)(rR.A,{title:"number"==typeof d||"string"==typeof d?`Value of Baseline is ${d}`:void 0,children:(0,o.jsx)(rT.A.Text,{style:{fontSize:14},type:"secondary",children:d})})]})]})})},rK=e=>{let{titles:t,datas:s,formatter:n,showPercentInTitle:r}=e,[i,l]=(0,w.useState)(0);return(0,o.jsx)(rL,{title:t.length>1?(0,o.jsx)(rO.A,{defaultValue:t[i],options:r?t.map((e,t)=>{let n=s[t];return{label:(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rT.A.Text,{children:e}),(0,o.jsx)(r$,{percent:n.percent,state:n.state})]}),value:e}}):t,onChange:e=>{l(t.indexOf(e))},size:"small",style:{transition:"transform 0.3s ease"},value:t[i]||t[0]}):t[i],value:(0,o.jsx)(rG,{data:s[i],formatter:n}),statisticProps:{style:{textAlign:"left"}}})},rW=e=>{let{collapsable:t=!1,children:s,title:n,dividerStyle:r,defaultCollapsed:i=!1,...l}=e,[a,d]=(0,w.useState)(i);return n&&t?(0,o.jsx)(r_.A,{style:{borderRadius:"12px"},...l,title:(0,o.jsxs)(sN.A,{style:{fontSize:"inherit"},children:[(0,o.jsx)("div",{style:{cursor:"pointer"},onClick:()=>d(!a),children:a?(0,o.jsx)(rN.A,{}):(0,o.jsx)(rE.A,{})}),n]}),children:a?null:s}):(0,o.jsx)(r_.A,{style:{borderRadius:"12px"},title:n,...l,children:s})};var rH=s(31786),rq=s(11728);let rU=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",...e,children:[(0,o.jsx)("rect",{width:16,height:16,fill:"#FFF2E8",rx:2}),(0,o.jsx)("path",{fill:"#FA541C",d:"M13.21 4.026a.5.5 0 0 0-.5-.5H3.29a.5.5 0 0 0-.5.5v1.316a.5.5 0 0 0 .5.5h9.42a.5.5 0 0 0 .5-.5zM13.21 7.342a.5.5 0 0 0-.5-.5H3.29a.5.5 0 0 0-.5.5v1.316a.5.5 0 0 0 .5.5h9.42a.5.5 0 0 0 .5-.5zM13.21 10.658a.5.5 0 0 0-.5-.5H3.29a.5.5 0 0 0-.5.5v1.316a.5.5 0 0 0 .5.5h9.42a.5.5 0 0 0 .5-.5z"})]}),rV=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",...e,children:[(0,o.jsx)("rect",{width:16,height:16,fill:"#F6FFED",rx:2}),(0,o.jsx)("path",{fill:"#52C41A",fillRule:"evenodd",d:"M4.586 6.172a.853.853 0 0 0-.853.854v5.12c0 .472.382.854.853.854h6.828a.853.853 0 0 0 .853-.854v-5.12a.853.853 0 0 0-.853-.854H9.707V7.88a1.707 1.707 0 1 1-3.414 0V6.172z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#52C41A",d:"M7.147 4.466a.853.853 0 1 1 1.707 0V7.88a.853.853 0 0 1-1.707 0z"}),(0,o.jsx)("path",{fill:"#52C41A",d:"m8 3 2.217 2.304H5.783z"})]}),rJ=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",...e,children:[(0,o.jsx)("rect",{width:16,height:16,fill:"#FFF1F0",rx:2}),(0,o.jsx)("path",{fill:"#FF5658",fillRule:"evenodd",d:"M13 8A5 5 0 1 1 3 8a5 5 0 0 1 10 0M9.768 6.232a.5.5 0 0 1 0 .707L8.708 8l1.06 1.06a.5.5 0 0 1-.707.708L8 8.708l-1.062 1.06a.5.5 0 0 1-.707-.707L7.293 8l-1.06-1.062a.5.5 0 0 1 .706-.707L8 7.293l1.06-1.06a.5.5 0 0 1 .708 0",clipRule:"evenodd"})]}),rY="box-yCgd0f",rZ="title-OR484p",rQ="content-iOwxYc",{Text:rX}=rT.A,r0=e=>{let{data:t}=e;return t.map(e=>{let{code:t,link:s,error:n}=e,{source:r,output:i}=n||{},l=(null==r?void 0:r.path)?`${null==r?void 0:r.path}:${null==r?void 0:r.line}:${null==r?void 0:r.column}`:null,a=(null==i?void 0:i.path)?`${null==i?void 0:i.path}:${null==i?void 0:i.line}:${null==i?void 0:i.column}`:`There's no source map for this error. Possible reasons are as follows:
       1. It might come from a third-party library without source map.
       2. If this is your business source code, source map should be enabled in your build config.
      `,d=s3(t,s);return(0,o.jsxs)("div",{className:"container-iQTvf7",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:rZ,children:"Source"}),(0,o.jsxs)("div",{className:rY,children:[(0,o.jsx)(rq.A,{component:rU}),(0,o.jsx)(rX,{ellipsis:{tooltip:l},className:`${rQ} e2e-ecma-source`,children:l})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:rZ,children:"Output"}),(0,o.jsxs)("div",{className:rY,children:[(0,o.jsx)(rq.A,{component:rV}),(0,o.jsx)(rX,{ellipsis:{tooltip:a},className:`${rQ} e2e-ecma-output`,children:a})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:rZ,children:"Error"}),(0,o.jsxs)("div",{className:rY,children:[(0,o.jsx)(rq.A,{component:rJ}),(0,o.jsx)(rX,{ellipsis:{tooltip:e.description},className:`${rQ} e2e-ecma-error`,children:e.description})]})]}),(0,o.jsx)(rH.Ay,{onClick:d,type:"link",children:"more"})]})})},r1=e=>{let{title:t,description:s,icon:n,style:r}=e;return(0,o.jsxs)("div",{className:"container-KSV5DZ",style:r,children:[(0,o.jsxs)("div",{className:"content-BsjkSU",children:[(0,o.jsx)("div",{className:"title-jUwqD5",children:t}),(0,o.jsx)("div",{className:"description-ArkOg4",children:s})]}),n]})};var r5=s(8879),r2=s(79903),r4=s(39784),r6=s(90345),r3=s(81234),r7=s(63079),r9=s(84585),r8=s(57143),ie=s(2323),it=s(14913),is=s(3149),ir=s(75516),ii=s(85189),il=s(62579),ia=s(87484);let io=e=>{let{upperFirst:t=!0,fontSize:s=16,text:n,hash:r}=e,i="string"==typeof n&&t?(0,ia.A)(n):n;return(0,o.jsx)(rT.A.Text,{style:{fontSize:s},strong:!0,children:r?(0,o.jsx)("a",{href:r,id:r.replace(/^#/,""),style:{color:"inherit"},children:i}):i})},id={default:"linear-gradient(to bottom, #3ea2ff 0%, #0072db 100%)",success:"linear-gradient(to bottom, #6cf42a 0%, #52C41A 100%)",warn:"linear-gradient(to bottom, #ffc100 0%, #f59025 100%)",error:"linear-gradient(to bottom, rgb(250 127 22), #FF4D4F 100%)"},ic=e=>{let{label:t,value:s,type:n="default",tooltip:r}=e,i={height:"100%",lineHeight:"22px",width:"auto",display:"inline-block",boxSizing:"border-box",padding:"0 6px",color:"#fff",fontSize:12,textAlign:"center",verticalAlign:"middle"},l=(0,o.jsxs)("div",{style:{height:22,margin:0,padding:0,boxSizing:"border-box",borderRadius:4,fontSize:0,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[(0,o.jsx)("div",{style:{...i,borderTopLeftRadius:4,borderBottomLeftRadius:4,background:"linear-gradient(to bottom, #525252a3 0%, #1F1F1F 100%)"},children:t}),(0,o.jsx)("div",{style:{...i,borderTopRightRadius:4,borderBottomRightRadius:4,overflow:"hidden",textOverflow:"ellipsis",background:id[n]||id.default},children:s})]});return r?(0,o.jsx)(rR.A,{title:!0===r?s:r,placement:"topLeft",children:l}):l};var iu=s(64430);let ih=w.memo(e=>{let{title:t="Load data failed, please try again",buttonText:s="retry",retry:n}=e;return(0,o.jsx)(rz.A,{description:(0,o.jsxs)(sN.A,{direction:"vertical",children:[(0,o.jsx)(rT.A.Text,{children:t}),(0,o.jsx)(rH.Ay,{type:"primary",onClick:()=>{n()},children:s})]})})});var ip=s(12772),im=s(36628);let ix=e=>{let{manifestLoader:t=sC,api:s,children:n,body:r=null,showSkeleton:i=!0,fallbackComponent:l}=e,[a,d]=(0,w.useState)(),[c,u]=(0,w.useState)(p.Pending),[h,m]=(0,w.useState)({}),{loader:f}=sz(a);function x(e){window[X.Constants.WINDOW_RSDOCTOR_TAG]?j(e):t().then(e=>{d(e)}).catch(e=>{throw u(p.Fail),e}).then(()=>{j(e)})}let g=(0,w.useCallback)(e=>{let{req:t,res:n}=e;t.api===s&&((0,im.A)(t.body,r)||eP.isNil(t.body)&&eP.isNil(r))&&!(0,im.A)(h,n)&&m(n),u(p.Success)},[h,s,r]);function j(e){if(e){if(Object.values(X.SDK.ServerAPI.APIExtends).includes(s))return void u(p.Success);e.loadAPI(s,r).then(e=>{eP.isNil(e)||(m(e),u(p.Success))}).catch(e=>{console.error(e),u(p.Fail)})}}return((0,w.useEffect)(()=>{x(f)},[f,s,r]),(0,w.useEffect)(()=>{if(f)return f.onDataUpdate(s,g),()=>{f.removeOnDataUpdate(s,g)}},[f,s,r]),c===p.Pending)?i?(0,o.jsx)(iu.A,{active:!0}):null:c===p.Fail?l||(0,o.jsx)(ih,{retry:()=>{u(p.Pending),t(),x()}}):c===p.Updating?(0,o.jsx)(ip.A,{spinning:!0,children:n(h)}):n(h)};function ig(e){let{Component:t,api:s,responsePropName:n,body:r,fallbackComponent:i,showSkeleton:l}=e;return function(e){let{body:a=r,...d}=e;return(0,o.jsx)(ix,{api:s,body:a,showSkeleton:l,fallbackComponent:i,children:e=>{let s={...d,[n]:e};return(0,o.jsx)(t,{...s})}})}}let ij=e=>{let{data:t}=e;return(0,o.jsx)(r7.A,{gutter:x.BasePadding,wrap:!1,align:"top",children:(0,o.jsx)(r9.A,{style:{height:"100%",width:"100%"},children:t.length?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(ie.A,{style:{marginTop:"20px"},children:t.map((e,s)=>{var n;let{dependency:r,module:i,relativePath:l}=e,{statements:a}=r,{start:d}=(null==a||null==(n=a[0])?void 0:n.position)?i.isPreferSource?a[0].position.source:a[0].position.transformed:{start:{line:0,column:0}},c=`${l}:${d.line}:${d.column||1}`;return(0,o.jsx)(ie.A.Item,{style:{cursor:"default"},children:(0,o.jsxs)(rT.A.Text,{children:[(0,o.jsxs)("div",{className:"filePath-UF3inH",children:[c,(0,o.jsx)(rT.A.Paragraph,{copyable:{text:l},style:{position:"relative",top:"7px"}})]}),s!==t.length-1?(0,o.jsx)(ir.A,{className:"arrow-VrZOco"}):null]})},c)})})}):(0,o.jsx)(rz.A,{description:"This package no dependencies"})})})},iy=ig({Component:ij,api:X.SDK.ServerAPI.API.GetPackageRelationAlertDetails,responsePropName:"data"}),iv=e=>{var t;let{data:s,getPackageRelationContentComponent:n}=e,{level:r,code:i,packages:l}=s,a=s3(i,s.link),d=rv((0,r4.A)(l,e=>e.targetSize.sourceSize)),{xs:c,lg:u,xxl:h}=it.Ay.useBreakpoint(),{name:p}=l.find(e=>!!e.target.name).target,m=l.map(e=>e.target.version);return(0,o.jsx)(is.A,{showIcon:!c,message:(0,o.jsxs)(sN.A,{wrap:!0,split:c?null:(0,o.jsx)(r5.A,{type:"vertical"}),align:"center",children:[(0,o.jsxs)(sN.A,{wrap:!1,children:[(0,o.jsx)(rT.A.Text,{code:!0,strong:!0,onClick:a,style:{cursor:"pointer"},children:(0,o.jsx)("a",{children:i})}),(0,o.jsx)(rT.A.Text,{strong:!0,children:(null==(t=X.Rule.RuleErrorMap[i])?void 0:t.title)||s.title})]}),(0,o.jsxs)(rT.A.Paragraph,{ellipsis:{rows:1},style:{marginBottom:0},children:[(0,o.jsx)(rT.A.Text,{strong:!0,code:!0,children:p}),(0,o.jsxs)(rT.A.Text,{strong:!0,children:[" ",s.packages.length]}),(0,o.jsx)(rT.A.Text,{children:" versions was found"})]}),(0,o.jsx)(ic,{label:"total size",value:d,type:"error",tooltip:`total size of ${s.packages.length} versions is ${d}`})]}),description:(0,o.jsx)(sN.A,{direction:"vertical",wrap:!1,children:s.packages.map(e=>{let{target:t,targetSize:s}=e,n=rv(s.sourceSize),r=s.parsedSize?rv(s.parsedSize):null,i=`${t.name}@${t.version}`;return(0,o.jsxs)(sN.A,{style:{wordBreak:"break-all"},align:"center",split:c?null:(0,o.jsx)(r5.A,{type:"vertical"}),wrap:!0,children:[(0,o.jsxs)(sN.A,{wrap:!1,children:[(0,o.jsx)(rT.A.Text,{style:{marginLeft:4},children:"└"}),(0,o.jsx)(ic,{label:t.name,value:`v${t.version}`,tooltip:i})]}),(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(ic,{label:(0,o.jsxs)("div",{color:"rgb(255, 255, 255)",children:["Source Size ",(0,o.jsx)(ii.A,{})]}),value:n,tooltip:`The bundle size of "${i}" is ${n}, this is source size.`,type:"error"}),(0,o.jsx)(ic,{label:"Bundled size",value:r||"CONCATENATED",tooltip:`The bundle size of "${i}" is ${n}, this is after bundled, concatenated module cannot get bundled size. `,type:"error"})]}),(0,o.jsx)(rT.A.Paragraph,{style:{marginBottom:0,width:h?"40rem":u?"30rem":"20rem"},copyable:{text:t.root},ellipsis:{rows:1,expandable:!0,symbol:(0,o.jsx)(il.A,{}),tooltip:t.root},code:!0,children:t.root})]},t.version)})}),type:"warn"===r?"info":r,action:(0,o.jsxs)(o.Fragment,{children:[l&&l.length>0?(0,o.jsx)(iS,{text:"Show Relations",buttonProps:{size:"small"},drawerProps:{title:s.title,width:"60%"},children:(0,o.jsxs)(sN.A,{direction:"vertical",className:"alert-space",children:[(0,o.jsxs)(sN.A,{style:{marginBottom:x.BasePadding/2},children:[(0,o.jsx)(io,{text:p,upperFirst:!1}),(0,o.jsx)(rT.A.Text,{strong:!0,children:m.length}),(0,o.jsx)(rT.A.Text,{children:" versions was found: "}),m.map(e=>(0,o.jsx)(rT.A.Text,{strong:!0,code:!0,children:e},e))]}),(0,o.jsx)(rI.A,{type:"card",size:"middle",className:"tabs-space",defaultActiveKey:m[0],items:l.map(e=>{let{target:t,targetSize:r}=e;return{label:(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rT.A.Text,{children:`${p}@${t.version}`}),(0,o.jsx)(rP.A,{color:g.Red,children:rv(r.sourceSize)})]}),key:`${t.root}${t.name}${t.version}`,children:n({data:s,package:e})}})})]})}):null,(0,o.jsx)(r5.A,{type:"vertical"}),(0,o.jsx)(rH.Ay,{type:"link",onClick:a,size:"small",icon:(0,o.jsx)(ii.A,{})})]})})},iA=e=>{let{duplicatePackages:t=[],cwd:s,children:n,...r}=e;return(0,o.jsx)(iS,{...r,buttonStyle:{fontSize:"inherit",...r.buttonStyle},buttonProps:{type:"text",...r.buttonProps},text:(0,o.jsx)(rR.A,{title:"Click to show the details of duplicate packages",children:(0,o.jsxs)(sN.A,{style:{fontSize:"inherit"},children:[(0,o.jsx)(rT.A.Text,{strong:!0,style:{fontSize:"inherit",color:"inherit",...r.textStyle},children:t.length}),(0,o.jsx)(r8.A,{})]})}),drawerProps:{title:"Duplicate Packages Viewer",...r.drawerProps},children:(0,o.jsx)(r7.A,{gutter:[x.BasePadding,x.BasePadding],children:t.map((e,t)=>(0,o.jsx)(r9.A,{span:24,children:(0,o.jsx)(iv,{data:e,cwd:s,getPackageRelationContentComponent:n})},t))})})},ib=e=>{let{moduleGraph:t,...s}=e;return(0,o.jsx)(iA,{...s,children:e=>(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetModuleCodeByModuleIds,body:{moduleIds:t.modules.map(e=>e.id)},children:n=>(0,o.jsx)(ij,{data:eM.getPackageRelationAlertDetails(t.modules,t.dependencies,s.cwd,e.package.dependencies,n),cwd:s.cwd})})})},iS=e=>{let[t,s]=(0,w.useState)(!1);return(0,o.jsxs)("div",{onClick:e=>e.stopPropagation(),...e.containerProps,children:[e.button?(0,o.jsx)("div",{onClick:()=>s(!t),children:e.button}):e.text?(0,o.jsx)(rH.Ay,{type:"link",...e.buttonProps,onClick:()=>s(!t),style:{padding:0,...e.buttonStyle},children:e.text}):(0,o.jsx)(r6.A,{style:{fontSize:14,padding:0},onClick:()=>s(!t)}),(0,o.jsx)(r3.A,{maskClosable:!0,zIndex:999,width:"60%",...e.drawerProps,open:t,onClose:()=>s(!1),destroyOnClose:!0,children:e.children})]})},iw=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",...e,children:[(0,o.jsx)("rect",{width:16,height:16,fill:"#FFF7E6",rx:2}),(0,o.jsx)("path",{fill:"#F2793D",fillRule:"evenodd",d:"M11.377 5.186h1.488L10.973 3H5.027L3.135 5.186h1.488l.87-1.005h5.015z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#F2793D",fillRule:"evenodd",d:"M3.676 4.82h8.648c.299 0 .54.243.54.545v7.09a.543.543 0 0 1-.54.545H3.676a.543.543 0 0 1-.54-.545v-7.09c0-.302.241-.546.54-.546m2.702 1.77a.54.54 0 0 0 0 1.082h3.244a.54.54 0 1 0 0-1.081z",clipRule:"evenodd"})]}),iC=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",...e,children:[(0,o.jsx)("rect",{width:16,height:16,fill:"#FFF7E6",rx:2}),(0,o.jsx)("path",{fill:"#F2793D",d:"M3 7V5c0-1.105 2.239-2 5-2s5 .895 5 2v2c0 1.105-2.239 2-5 2s-5-.895-5-2"}),(0,o.jsx)("path",{fill:"#F2793D",d:"M8 10c2.761 0 5-.895 5-2v1c0 1.105-2.239 2-5 2s-5-.895-5-2V8c0 1.105 2.239 2 5 2"}),(0,o.jsx)("path",{fill:"#F2793D",d:"M8 12c2.761 0 5-.895 5-2v1c0 1.105-2.239 2-5 2s-5-.895-5-2v-1c0 1.105 2.239 2 5 2"})]}),iM=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",...e,children:[(0,o.jsx)("rect",{width:16,height:16,fill:"#FFF7E6",rx:2}),(0,o.jsx)("g",{clipPath:"url(#total-size_svg__a)",children:(0,o.jsx)("path",{fill:"#F2793D",d:"m2.5 5.77 5.026 2.534V13.5L2.5 11.011zm11-.016v5.23l-1.775.881-1.508.747-1.685.854V8.254zM8 2.5l4.902 2.472L7.999 7.45 3.04 4.961z"})}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"total-size_svg__a",children:(0,o.jsx)("path",{fill:"#fff",d:"M2 2h12v12H2z"})})})]}),ik=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",...e,children:[(0,o.jsx)("rect",{width:16,height:16,fill:"#E6F7FF",rx:2}),(0,o.jsx)("g",{clipPath:"url(#version_svg__a)",children:(0,o.jsx)("path",{fill:"#3874F6",d:"M13.438 9.875a.6.6 0 0 0-.216.043h-.002l-.002.002L8 12.079l-5.217-2.16H2.78l-.002-.001a.562.562 0 0 0-.43 1.039l5.432 2.248.002.001.003.001a.56.56 0 0 0 .43 0h.003l.002-.002 5.433-2.248a.563.563 0 0 0-.216-1.082M2.348 6.082 7.78 8.33l.003.001.002.001a.56.56 0 0 0 .43 0h.003l.002-.002 5.433-2.248a.563.563 0 0 0 0-1.04L8.22 2.796l-.002-.001-.003-.001a.56.56 0 0 0-.43 0h-.003l-.002.002-5.433 2.248a.563.563 0 0 0 0 1.039m11.09 1.355a.6.6 0 0 0-.216.043l-.002.001-.002.001L8 9.642l-5.217-2.16H2.78l-.002-.002a.563.563 0 0 0-.43 1.04l5.432 2.248h.002l.003.002a.56.56 0 0 0 .43 0l.003-.001.002-.001 5.433-2.248a.563.563 0 0 0-.216-1.083"})}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"version_svg__a",children:(0,o.jsx)("path",{fill:"#fff",d:"M2 2h12v12H2z"})})})]}),iD="label-XufLCq",iP="labelContent-nkrbEg",iz="collapseContainer-RlFMpI",iI="collapseChild-WWZD3z",iN="attribute-bDSZ0z",iE="iconContainer-qPzCrR",i_="data-po89g7",iT="pkgName-vA16cZ",{Paragraph:iR,Text:iO}=rT.A,{innerWidth:iB}=window,iL=e=>{let{title:t,description:s,extra:n}=e;return(0,o.jsxs)("div",{className:iD,children:[(0,o.jsxs)("div",{className:iP,children:[(0,o.jsx)("div",{children:t}),(0,o.jsx)("div",{children:s})]}),(0,o.jsx)("div",{children:n})]})},iF=e=>{let{data:t,extraData:s}=e,n=t.map(e=>{let{packages:t}=e;return{totalSize:(0,r4.A)(t,e=>e.targetSize.sourceSize),data:e}}).sort((e,t)=>t.totalSize-e.totalSize).map(e=>{let{data:t,totalSize:n}=e,{packages:r}=t,i=rv(n),{name:l}=r.find(e=>!!e.target.name).target,a=r.map(e=>e.target.version);return{key:l,label:(0,o.jsx)(iL,{title:(0,o.jsx)(rP.A,{style:{backgroundColor:"#EAEDF1",borderRadius:"2px"},children:(0,o.jsx)("span",{className:iT,children:l})}),description:`${r.length} versions was found`,extra:(0,o.jsxs)("div",{className:"extraContainer-Zf1u14",children:[(0,o.jsxs)("div",{className:iE,children:[(0,o.jsx)(rq.A,{style:{fontSize:"18px"},component:iM}),(0,o.jsx)("span",{className:i_,children:i})]}),r&&r.length>0?(0,o.jsx)(iS,{text:"Show Relations",buttonProps:{size:"small"},drawerProps:{title:t.title,width:"60%"},children:(0,o.jsxs)(sN.A,{direction:"vertical",className:"alert-space",style:{width:"100%"},children:[(0,o.jsxs)(sN.A,{style:{marginBottom:x.BasePadding/2,width:"100%"},children:[(0,o.jsx)(io,{text:(0,o.jsx)(rP.A,{style:{backgroundColor:"#EAEDF1"},children:l}),upperFirst:!1}),(0,o.jsx)(rT.A.Text,{strong:!0,children:a.length}),(0,o.jsx)(rT.A.Text,{children:" versions found"})]}),(0,o.jsx)(rI.A,{size:"middle",items:r.map(e=>{let{target:n,targetSize:r}=e;return{label:(0,o.jsxs)(sN.A,{className:"drawerLabelTitle-bDwhFt",children:[(0,o.jsxs)("div",{children:["v",n.version]}),(0,o.jsx)(rP.A,{className:"drawerLabelSize-gzchzs",children:rv(r.sourceSize)})]}),key:`${n.root}${n.name}${n.version}`,children:s.getPackageRelationContentComponent({data:t,package:e})}})})]})}):null]})}),children:(0,o.jsx)(()=>r.map((e,t)=>{let s=e.target.version,n=e.target.root,i=rv(e.targetSize.sourceSize),a=e.targetSize.parsedSize?rv(e.targetSize.parsedSize):null;return(0,o.jsxs)("div",{className:iz,children:[(0,o.jsx)(r1,{style:{backgroundColor:"#fff"},title:(0,o.jsx)(iO,{style:{width:iB>1500?900:700},ellipsis:{tooltip:n},children:n}),description:(0,o.jsxs)("div",{className:iI,children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:iN,children:"Version"}),(0,o.jsxs)("div",{className:iE,children:[(0,o.jsx)(rq.A,{style:{fontSize:"18px"},component:ik}),(0,o.jsxs)("span",{className:i_,children:["v",s]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:iN,children:"Source size"}),(0,o.jsxs)("div",{className:iE,children:[(0,o.jsx)(rq.A,{style:{fontSize:"18px"},component:iC}),(0,o.jsx)("span",{className:i_,children:i})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:iN,children:"Bundle size"}),(0,o.jsxs)("div",{className:iE,children:[(0,o.jsx)(rq.A,{style:{fontSize:"18px"},component:iw}),(0,o.jsx)(rR.A,{title:`The bundle size of "${l}" is ${i}, this is after bundled, concatenated module cannot get bundled size. `,children:(0,o.jsx)("span",{className:i_,children:a||"CONCATENATED"})})]})]})]}),icon:(0,o.jsx)(iR,{style:{position:"relative",top:"-10px"},copyable:{text:n}})}),t!==r.length-1?(0,o.jsx)(r5.A,{style:{margin:"10px 0"}}):null]})}),{})}});return(0,o.jsx)(r2.A,{style:{width:"100%"},defaultActiveKey:["E1001"],items:n})},i$=e=>{let{data:t}=e;return t.map(e=>{let{code:t,link:s,description:n}=e,r=s3(t,s);return(0,o.jsx)(r1,{style:{background:"#fff"},description:(0,o.jsx)("div",{className:"description-h4sYv3",dangerouslySetInnerHTML:{__html:n||""}}),icon:(0,o.jsx)(rH.Ay,{onClick:()=>r,type:"link",children:"more"})})})},{Text:iG}=rT.A,{innerWidth:iK}=window,iW=e=>{let{title:t,description:s,extra:n}=e;return(0,o.jsxs)("div",{className:iD,children:[(0,o.jsxs)("div",{className:iP,children:[(0,o.jsx)("div",{children:t}),(0,o.jsx)("div",{children:s})]}),(0,o.jsx)("div",{children:n})]})},iH=e=>{let{data:t}=e,s=t.map(e=>{let{package:t,chunks:s}=e;return{key:`${t.name}@${t.version}`,label:(0,o.jsx)(iW,{title:(0,o.jsx)(rP.A,{style:{backgroundColor:"#EAEDF1",borderRadius:"2px"},children:(0,o.jsx)("span",{className:iT,children:`${t.name}@${t.version}`})}),description:"has duplicates bundled into multiple chunks."}),children:(0,o.jsx)(()=>s.map(e=>{let{chunks:t,module:s}=e;return(0,o.jsx)("div",{className:iz,children:(0,o.jsx)(r1,{style:{backgroundColor:"#fff"},title:(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rq.A,{style:{fontSize:"18px"},component:iM}),(0,o.jsxs)(iG,{style:{width:iK>1500?900:700},children:["Module:"," ",(0,o.jsx)(iG,{style:{fontSize:12,color:"rgba(28, 31, 35, 0.6)",fontWeight:300},children:s.path})]})]}),description:(0,o.jsx)("div",{className:iI,children:t.map(e=>(0,o.jsxs)("div",{style:{display:"flex"},children:[(0,o.jsx)("div",{className:iN,children:"Chunk"}),(0,o.jsx)("div",{className:iE,children:(0,o.jsx)("span",{className:i_,children:e.name})})]}))})})})}),{})}});return(0,o.jsx)(r2.A,{style:{width:"100%"},defaultActiveKey:["E1005"],items:s})},iq=e=>{let{title:t,dataSource:s,extraData:n}=e,[r,i]=(0,w.useState)("E1001"),l=[{key:"E1001",label:"Duplicate Packages",data:[]},{key:"E1002",label:"Cross Chunks Package",data:[]},{key:"E1003",label:"Loader Performance Optimization",data:[]},{key:"E1004",label:"ECMA Version Check",data:[]},{key:"E1005",label:"Default Import Check",data:[]}];s.forEach(e=>{var t;let s=null==(t=l.find(t=>t.key===e.code))?void 0:t.data;null==s||s.push(e)});let a=l.map(e=>{let t,s,i=r===e.key?{border:"1px solid #91D5FF",backgroundColor:"#E6F7FF"}:{},l=r===e.key?{color:"#1890FF"}:{};switch(e.key){case"E1001":t=(0,o.jsx)(iF,{data:e.data,extraData:n});break;case"E1002":t=(0,o.jsx)(iH,{data:e.data,extraData:n});break;case"E1003":case"E1005":t=(0,o.jsx)(i$,{data:e.data});break;case"E1004":s=(0,o.jsx)("span",{children:"No ECMA Version Check Rules were found. Please refer to 「https://rsdoctor.rs/guide/usage/rule-config」."}),t=(0,o.jsx)(r0,{data:e.data});break;default:t=null}return e.data.length||(t=(0,o.jsx)(rz.A,{description:s,image:rz.A.PRESENTED_IMAGE_SIMPLE})),{key:e.key,label:(0,o.jsx)(()=>(0,o.jsx)(r1,{style:{backgroundColor:"transparent",paddingLeft:0,paddingRight:0,width:"100%"},title:(0,o.jsx)("span",{className:"labelTitle-tjSCQ_",children:e.label}),description:(0,o.jsxs)("div",{className:"labelDescription-kB74lb",children:[(0,o.jsx)("span",{children:e.data.length}),(0,o.jsx)(rP.A,{style:{fontFamily:"Menlo",borderRadius:"2px",...i},children:(0,o.jsx)("span",{style:{...l},children:e.key})})]})}),{}),children:(0,o.jsx)(rW,{className:"card-HNTMcZ",type:"inner",title:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(rP.A,{style:{fontFamily:"Menlo",fontWeight:"700",fontSize:"13px",backgroundColor:"#EAEDF1",borderRadius:"2px"},children:e.key}),(0,o.jsx)("span",{children:e.label})]}),children:t})}});return(0,o.jsx)(rW,{style:{width:"100%",borderRadius:"12px"},children:(0,o.jsxs)("div",{className:"container-TWzmhb",children:[(0,o.jsx)("div",{className:"title-gD67_A",children:t}),s.length?(0,o.jsx)(rI.A,{onChange:i,tabBarGutter:10,type:"card",defaultActiveKey:"E1001",items:a}):(0,o.jsx)("div",{style:{minHeight:"480px",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,o.jsx)(rz.A,{description:"No Bundle Alerts Data",image:rz.A.PRESENTED_IMAGE_SIMPLE})})]})})};var iU=s(17086);let iV=ig({api:X.SDK.ServerAPI.API.GetProjectInfo,responsePropName:"project",Component:e=>{let{filter:t,project:s}=e,{errors:n,root:r}=s,{setBundleAlertsViewMode:i,viewMode:l,setViewMode:a}=ry(),{t:d}=s6(),c=t?n.filter(t):n;return(0,w.useEffect)(()=>{S()||a({bundleAlerts:n.length>=5?m.Group:m.List},!1)},[]),(0,o.jsx)(iU.Ay,{theme:{components:{Alert:{colorInfoBg:"#e6f4ff57",colorInfoBorder:"none"}},token:{padding:16,colorText:"rgba(0, 0, 0, 0.85)"}},children:(0,o.jsx)(iq,{title:d("Bundle Alerts"),dataSource:c,extraData:{cwd:r,getPackageRelationContentComponent:e=>(0,o.jsx)(iy,{body:{id:e.data.id,target:e.package.target},cwd:r})},viewMode:l.bundleAlerts,setViewMode:i,cwd:r})})}});ig({api:X.SDK.ServerAPI.API.GetProjectInfo,responsePropName:"project",Component:e=>{let{filter:t,project:s}=e,{root:n,errors:r}=s,i=Array.isArray(r)?r.filter(e=>e.category===X.Rule.RuleMessageCategory.Compile&&e.code!==X.Rule.RuleMessageCodeEnumerated.Overlay):[],{setCompileAlertsViewMode:l,viewMode:a,setViewMode:d}=ry(),c=t?i.filter(t):i;return(0,w.useEffect)(()=>{S()||d({compileAlerts:i.length>=5?m.Group:m.List},!1)},[]),(0,o.jsx)(iq,{title:"Compile Alerts",dataSource:c,extraData:{cwd:n,getPackageRelationContentComponent:e=>(0,o.jsx)(iy,{body:{id:e.data.id,target:e.package.target},cwd:n})},viewMode:a.compileAlerts,setViewMode:l,cwd:n})}});var iJ=s(36147),iY=s(83027),iZ=s(62922),iQ=s(26995),iX=s(43637),i0=s(99128),i1=s.n(i0);function i5(e){let t=0,s=0;e.forEach(e=>{"warn"===e.level?t++:s++});let n=0!==t&&0!==s?"problems":0===t?"errors":"warns";return{title:`${e.length} compiled ${n}`,detail:(0,o.jsxs)(rT.A.Text,{strong:!0,style:{color:"#fff",marginBottom:0},children:[(0,o.jsx)(rT.A.Text,{style:{color:"inherit",fontSize:16},children:"Compiled with"}),(0,o.jsxs)(rT.A.Text,{strong:!0,style:{color:g.Red,fontSize:16},children:[" ",s," ",1===s?"error":"errors"," "]}),(0,o.jsx)(rT.A.Text,{style:{color:"inherit",fontSize:16},children:"and"}),(0,o.jsxs)(rT.A.Text,{strong:!0,style:{color:g.Yellow,fontSize:16},children:[" ",t," ",1===t?"warning":"warnings"]})]}),warns:t,errors:s}}s(7411);let i2=e=>{let{alerts:t=[],open:s,onClose:n}=e;return t.length?(0,o.jsxs)(iX.default,{visible:s,onClose:()=>n(),style:{width:"100%",height:"100%",margin:0,zIndex:1e3},closable:!1,modalRender:e=>w.cloneElement(e,{style:{background:"rgba(0, 0, 0, 0.7)",color:"#fff",height:"100%",overflow:"scroll",borderRadius:0}}),children:[(0,o.jsxs)(r7.A,{justify:"space-between",align:"middle",children:[i5(t).detail,(0,o.jsx)(rH.Ay,{onClick:()=>n(),type:"text",style:{color:"#fff"},size:"large",icon:(0,o.jsx)(iY.A,{})})]}),(0,o.jsx)(r7.A,{gutter:[0,x.BasePadding],children:t.map(e=>(0,o.jsx)(r9.A,{span:24,style:{whiteSpace:"pre-wrap",lineHeight:"16px",fontSize:14},children:(0,o.jsx)(r2.A,{ghost:!0,style:{background:"#000"},defaultActiveKey:[e.id],expandIcon:e=>e.isActive?(0,o.jsx)(iZ.A,{style:{color:"#fff"}}):(0,o.jsx)(sE.A,{style:{color:"#fff"}}),children:(0,o.jsx)(r2.A.Panel,{header:(0,o.jsxs)("div",{style:{color:"#fff"},children:["warn"===e.level?(0,o.jsx)(rP.A,{color:g.Yellow,children:"WARNING"}):(0,o.jsx)(rP.A,{color:g.Red,children:"ERROR"}),(0,o.jsx)(i1(),{children:e.description||e.title})]}),children:(0,o.jsx)("div",{style:{color:"#fff"},children:(0,o.jsx)(i1(),{children:e.stack})})},e.id)})},e.id))})]}):null},i4=ig({api:X.SDK.ServerAPI.API.GetOverlayAlerts,Component:e=>{let{alerts:t=[]}=e;if(!t.length)return null;let[s,n]=(0,w.useState)(!1);return(0,o.jsxs)("div",{className:"container-t1WME9",children:[(0,o.jsx)("div",{onClick:()=>n(!s),className:"badgeContainer-K7EgOu",children:(0,o.jsx)(iJ.A,{count:t.length,size:"small",children:(0,o.jsx)(iQ.A,{style:{fontSize:15}})})}),(0,o.jsx)(i2,{alerts:t,open:s,onClose:()=>n(!1)})]})},responsePropName:"alerts",fallbackComponent:()=>null});ig({api:X.SDK.ServerAPI.API.GetOverlayAlerts,Component:e=>{let{alerts:t=[],defaultOpen:s=t.length>0}=e;if(!t.length)return null;let[n,r]=(0,w.useState)(s);return(0,o.jsxs)(w.Fragment,{children:[(0,o.jsx)(is.A,{banner:!0,message:w.cloneElement(i5(t).detail,{style:{color:"#000"}}),icon:(0,o.jsx)(iQ.A,{}),action:(0,o.jsx)(rH.Ay,{onClick:()=>r(!0),size:"small",children:"More"})}),(0,o.jsx)(i2,{alerts:t,open:n,onClose:()=>r(!1)})]})},responsePropName:"alerts",fallbackComponent:()=>null});var i6=s(16937),i3=s(50251);function i7(e){if(!e)return"";let t=function(e){if(!e)return"";try{if(!e.startsWith("data:"))return"";let{mimeType:t}=function(e){if(!e.startsWith("data:"))throw Error("输入不是有效的 Data URL");let t=e.substring(5),s=t.indexOf(",");if(-1===s)throw Error("无效的 Data URL 格式: 缺少数据分隔符");let n=t.substring(0,s),r=t.substring(s+1),i="",l="",a=!1,o=n.split(";");o.length>0&&(i=o[0]||"text/plain");for(let e=1;e<o.length;e++){let t=o[e];"base64"===t?a=!0:t.startsWith("charset=")&&(l=t.substring(8))}return{mimeType:i,charset:l,isBase64:a,data:r}}(e);switch(t){case"text/javascript":return"javascript";case"text/html":return"html";case"text/css":return"css";case"text/plain":return"text";case"application/json":return"json";default:return""}}catch(e){return console.error("解析 data 协议文件格式失败:",e),""}}(e);if(t)return t;try{let t=(0,el.extname)(e).slice(1);switch(t){case"js":case"cjs":case"mjs":case"jsx":return"javascript";case"ts":case"tsx":return"typescript";case"md":return"markdown";default:return t}}catch(e){return""}}let i9={readOnly:!0,domReadOnly:!0,fontSize:14,tabSize:2,lineHeight:24,renderValidationDecorations:"off",hideCursorInOverviewRuler:!0,smoothScrolling:!0,wordWrap:"on",colorDecorators:!0,codeLens:!1,cursorWidth:0,minimap:{enabled:!1},contextmenu:!1,gotoLocation:{multiple:"goto",multipleDefinitions:"goto",multipleTypeDefinitions:"goto",multipleDeclarations:"goto",multipleImplementations:"goto",multipleReferences:"goto"},hover:{enabled:!1},links:!1};function i8(e){return{...structuredClone(i9),...e}}function le(e){return e?e.startsWith("data:")?"data":e.split("/").at(-1)||"":""}function lt(e,t){let{start:s,end:n}=e,{line:r=1,column:i=0}=s;return new t(r,i+1,(null==n?void 0:n.line)??r,((null==n?void 0:n.column)??9999)+1)}var ls=s(50118);function ln(e){let{className:t,style:s,code:n="",lang:r,filePath:i="",defaultLine:l,ranges:a,isEmbed:d=!1,headerVisible:c=!0,isLightTheme:u=!0}=e,h=(0,w.useRef)(),p=(0,w.useRef)(),m=(0,w.useMemo)(()=>r||i7(i)||"plaintext",[r,i]),[f,x]=(0,w.useState)(!0),g=(0,w.useMemo)(()=>i8({wordWrap:f?"on":"off"}),[f]),j=(0,w.useCallback)((e,t)=>{h.current=e,p.current=t,function(e,t,s){if(!s||0===s.length)return;let n=s.map(e=>({range:lt(e,t.Range),options:{inlineClassName:"file-inline-decoration"}}));e.deltaDecorations([],n),setTimeout(()=>{e.revealLine(n[0].range.startLineNumber)})}(e,t,a),eP.isNumber(l)&&setTimeout(()=>{e.revealLine(l)})},[]);return(0,w.useEffect)(()=>()=>{var e;null==(e=h.current)||e.setModel(null)},[]),(0,o.jsxs)("div",{className:(0,i3.A)("monaco-component","code-viewer","code-viewer-H7hGrZ",d&&"embed-tjljOS",t),style:s,children:[c&&!!i&&(0,o.jsxs)("div",{className:"header-qejtwX",children:[(0,o.jsx)("div",{children:le(i)}),(0,o.jsx)("div",{style:{flex:1}}),(0,o.jsx)("div",{children:(0,o.jsx)(ls.A,{className:"text-T29bd1",title:"side-by-side",checked:f,onChange:e=>{x(e.target.checked)},children:"word-wrap"})})]}),(0,o.jsx)("div",{className:(0,i3.A)("content-EVSW1C","editor-wrap"),children:(0,o.jsx)(i6.KE,{theme:u?"vs-light":"vs-dark",language:m,value:n,options:g,onMount:j})})]})}let lr={...structuredClone(i9),readOnly:!0,originalEditable:!1,renderSideBySide:!0,renderSideBySideInlineBreakpoint:1,renderIndicators:!0,definitionLinkOpensInPeek:!1,domReadOnly:!0,minimap:{enabled:!1},diffWordWrap:"on",folding:!1,lineNumbersMinChars:3,renderLineHighlight:"none",matchBrackets:"never",diffAlgorithm:"advanced",ignoreTrimWhitespace:!0,renderOverviewRuler:!0,renderLineHighlightOnlyWhenFocus:!0,smoothScrolling:!0,letterSpacing:.5};function li(e){let{className:t,style:s,original:n="",modified:r="",originalFilePath:i="",modifiedFilePath:l="",originalLang:a,modifiedLang:d,isEmbed:c=!1,isLightTheme:u=!0,headerVisible:h=!0}=e,[p,m]=(0,w.useState)(!0),f=(0,w.useRef)(),x=(0,w.useMemo)(()=>a||i7(i)||"plaintext",[a,i]),g=(0,w.useMemo)(()=>d||i7(l)||"plaintext",[d,l]),j=(0,w.useMemo)(()=>{var e;return e={renderSideBySide:p},{...structuredClone(lr),...e}},[p]),y=(0,w.useCallback)(e=>{f.current=e},[]);return(0,w.useEffect)(()=>()=>{var e;null==(e=f.current)||e.setModel(null)},[]),(0,o.jsxs)("div",{className:(0,i3.A)("monaco-component","diff-viewer","diff-viewer-CczjmT",c&&"embed-VNMDA8",t),style:s,children:[h&&(0,o.jsxs)("div",{className:"header-VBdMD0",children:[(0,o.jsx)("div",{children:le(i)}),(0,o.jsx)("div",{style:{flex:1}}),(0,o.jsx)("div",{children:(0,o.jsx)(ls.A,{className:"text-Pi6YdN",title:"side-by-side",checked:p,onChange:e=>{m(e.target.checked)},children:"side-by-side"})})]}),(0,o.jsx)("div",{className:(0,i3.A)("content-BsfSuD","editor-wrap"),children:(0,o.jsx)(i6.zC,{theme:u?"vs-light":"vs-dark",originalLanguage:x,modifiedLanguage:g,original:n,modified:r,width:"100%",options:j,onMount:y})})]})}var ll=s(98204);let la=e=>{let t,{icon:s,label:n,labelStyle:r={},placeholder:i,onChange:l,style:a,className:d,width:c,delay:u=300}=e,[h,p]=(0,w.useState)(""),m={width:120,...r},f=(0,w.useRef)(null);return(0,w.useEffect)(()=>{l(h)},[h]),(0,o.jsxs)(ll.A.Group,{compact:!0,style:a,className:d,children:[n||s?(0,o.jsxs)(rH.Ay,{style:m,onClick:()=>{f&&f.current&&f.current.focus()},children:[s||null,(0,o.jsx)(rT.A.Text,{children:n})]}):null,(0,o.jsx)(ll.A,{ref:f,allowClear:!0,defaultValue:h,style:{width:c?c-120:250},placeholder:i,onChange:e=>{t&&clearTimeout(t);let s=e.target.value.trim();t=setTimeout(()=>{p(s)},u)}})]})};var lo=s(87855),ld=s(75573),lc=s(362),lu=s(41495),lh=s(46941);let lp=()=>{let[e,t]=(0,w.useState)(""),[s,n]=(0,w.useState)([]);return((0,w.useEffect)(()=>{sC().then(e=>{let{name:s,series:r}=e;s&&t(s),r&&r.length>0&&n(r)})},[]),e.length<=0||s.length<=0)?(0,o.jsx)(o.Fragment,{}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r5.A,{type:"vertical",style:{margin:"0 24px"}}),(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rq.A,{style:{fontSize:"18px"},component:iM}),(0,o.jsx)(rT.A,{children:"Compiler"}),(0,o.jsx)(lh.A,{className:"builder-selector",defaultValue:e,bordered:!1,style:{minWidth:100},onChange:e=>{let t=s.find(t=>t.name===e);t&&(t.origin?location.href=function(e){let t=sj()(location.href,!0),s=sj()(e,!0);return t.hash.endsWith(X.Client.RsdoctorClientRoutes.Uploader)&&t.set("hash",X.Client.RsdoctorClientRoutes.Overall),t.set("origin",e),t.set("protocol",s.protocol),t.set("host",s.host),t.set("port",s.port),t.toString()}(t.origin):console.error("No RsdoctorManifestSeriesData.origin"))},children:s.map((e,t)=>(0,o.jsx)(lh.A.Option,{value:e.name,className:"builder-selector-option-item",children:e.name},t))})]})]})};var lm=s(85037),lf=s(15078),lx=s(89033),lg=s(78364),lj=s(13158),ly=s(4351);let lv=X.Client.RsdoctorClientRoutes.Overall,lA=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:13,height:12,fill:"none",viewBox:"0 0 13 12",...e,children:[(0,o.jsx)("rect",{width:12,height:9.333,x:.396,y:.167,fill:"#0079FF",rx:1}),(0,o.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"M3.563 3.5c.276 0 .5.214.5.478v3.044a.49.49 0 0 1-.5.478.49.49 0 0 1-.5-.478V3.978a.49.49 0 0 1 .5-.478M6.396 1.833c.276 0 .5.214.5.479v4.71a.49.49 0 0 1-.5.478.49.49 0 0 1-.5-.478v-4.71a.49.49 0 0 1 .5-.479M9.23 4.833c.275 0 .5.214.5.479v1.71a.49.49 0 0 1-.5.478.49.49 0 0 1-.5-.478v-1.71a.49.49 0 0 1 .5-.479",clipRule:"evenodd"}),(0,o.jsx)("rect",{width:6,height:1.333,x:3.396,y:10.5,fill:"#0079FF",fillOpacity:.5,rx:.667})]}),lb=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:13,height:12,fill:"none",viewBox:"0 0 13 12",...e,children:[(0,o.jsx)("rect",{width:12,height:9.333,x:.396,y:.167,fill:"#0079FF",rx:1}),(0,o.jsx)("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",d:"M4.023 6.212 2.676 5.014l1.347-1.199M8.752 6.212l1.347-1.198-1.347-1.199M5.742 7.014l1.362-4"}),(0,o.jsx)("rect",{width:6,height:1.333,x:3.396,y:10.5,fill:"#0079FF",fillOpacity:.5,rx:.667})]}),lS=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:14,fill:"none",viewBox:"0 0 12 14",...e,children:[(0,o.jsx)("path",{fill:"#0079FF",fillRule:"evenodd",d:"M6.329.788A1 1 0 0 0 5.35.8L.466 3.62l5.36 2.83 5.327-3.044zm-.993 12.777V7.322L.063 4.54v5.404a1 1 0 0 0 .5.866z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#0079FF",fillOpacity:.5,fillRule:"evenodd",d:"M5.354.8H5.35L.546 3.576l.017-.01L5.336.81zm-.018 12.765V7.322L.063 4.54l5.273 2.783zm1-6.254 5.265-3.009q.009.064.009.13v5.511a1 1 0 0 1-.5.866l-4.774 2.756z",clipRule:"evenodd"})]});var lw=s(38238);let lC=[{title:"FAQ",link:"https://rsdoctor.rs/guide/more/faq"},{title:"Introduction",link:"https://rsdoctor.rs/guide/start/intro"},{title:"Bundle Alerts",link:"https://rsdoctor.rs/guide/usage/bundle-alerts"},{title:"Bundle Overall",link:"https://rsdoctor.rs/guide/usage/bundle-overall"},{title:"Bundle Analysis",link:"https://rsdoctor.rs/guide/usage/bundle-size"},{title:"Compilation Alerts",link:"https://rsdoctor.rs/guide/usage/compile-alerts"},{title:"Compile Overall",link:"https://rsdoctor.rs/guide/usage/compile-overall"},{title:"Loaders Analysis",link:"https://rsdoctor.rs/guide/usage/loaders-analysis"},{title:"Loaders Timeline",link:"https://rsdoctor.rs/guide/usage/loaders-timeline"},{title:"Plugin Analysis",link:"https://rsdoctor.rs/guide/usage/plugins-analysis"}],lM=()=>{let{t:e}=s6();return(0,o.jsx)(rW,{style:{width:"100%",borderRadius:"12px"},children:(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"title-dP_KVY",children:[(0,o.jsx)("span",{children:e("Help Center")}),(0,o.jsxs)(rH.Ay,{style:{display:"flex",alignItems:"center",padding:0},type:"link",onClick:()=>{window.open("https://rsdoctor.rs/index","_blank")},children:[(0,o.jsx)("span",{style:{marginRight:"3px"},children:"More"}),(0,o.jsx)(sE.A,{style:{fontSize:"10px"}})]})]}),(0,o.jsx)("div",{className:"container-LiYKWu",children:lC.map((t,s)=>{let{title:n,link:r}=t;return(0,o.jsx)("div",{className:"content-WPe5pa",style:{marginBottom:s<lC.length-2?"16px":0},onClick:()=>window.open(r,"_blank"),children:e(n)},s)})})]})})};var lk=s(95587),lD=s(4309);let lP="card-lyOUB6",lz=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",...e,children:[(0,o.jsx)("rect",{width:16,height:16,fill:"#E6F7FF",rx:2}),(0,o.jsx)("path",{fill:"#3874F6",d:"M13.353 4.51c.094.095.147.221.147.354V14.5a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5v-13A.5.5 0 0 1 3 1h6.636c.133 0 .26.053.355.147zm-1.006.584-2.94-2.94v2.94z"})]}),lI={errorNumber:"errorNumber-NtnGpL",warningNumber:"warningNumber-UgutU8",successNumber:"successNumber-YOK23K",errorText:"errorText-u5Q3ns",warningText:"warningText-PymRi4",successText:"successText-ddFAF_",errorButton:"errorButton-jYRQzL",warningButton:"warningButton-KAF3GT",successButton:"successButton-clAJSx",container:"container-ssAvLP",icon:"icon-K6JtIV",description:"description-Ik1PO7",data:"data-J9Vxvq",common:"common-sHeHRd",warning:"warning-HnVMOj"},lN=e=>{let{theme:t,number:s,description:n}=e;return(0,o.jsxs)("div",{className:`${lI.container} ${lI[t]}`,children:[(0,o.jsx)(rq.A,{style:{fontSize:"18px",margin:"0 5px"},component:"common"===t?lz:iM}),(0,o.jsx)("span",{className:lI.description,children:n}),(0,o.jsx)("span",{className:lI.data,children:s})]})},lE="column-VJtpT7",l_="description-nwRikm",lT="unit-poAoxV",lR="tag-fNEiQ8",lO="label-vITl7c",{DirectoryTree:lB}=lk.A,lL=e=>{let t=[];e.files.length&&(t=e.files.map(e=>{let t=e.path.split("/");return{fileName:t.pop(),defaultDir:t.join("/")||"output",size:e.size,initial:e.initial}}));let s=[];return t.forEach(e=>{let t=s.find(t=>t.title===e.defaultDir),n=t||{title:e.defaultDir,key:e.defaultDir,icon:(0,o.jsx)(s_.A,{}),children:[]},r=sH(e.fileName);t||s.push(n),n.children.push({title:(0,o.jsxs)("div",{className:"treeContainer-jcFlxc",children:[(0,o.jsx)("div",{className:"treeTitle-B083rc",children:e.fileName}),(0,o.jsx)("div",{className:"line-Ia_8Yg"}),(0,o.jsx)(rP.A,{className:lR,color:"green",children:rv(e.size)}),e.initial?(0,o.jsx)(rP.A,{className:lR,color:"cyan",children:"initial"}):null]}),key:e.fileName,isLeaf:!0,icon:r})}),{treeData:s}},lF=e=>{let{treeData:t}=lL(e);return(0,o.jsx)(o.Fragment,{children:e.files.length?(0,o.jsx)(iS,{buttonProps:{size:"small"},buttonStyle:{fontSize:"inherit"},drawerProps:{title:"Files"},text:(0,o.jsx)("span",{children:e.count}),children:(0,o.jsx)(lB,{defaultExpandAll:!0,selectable:!1,treeData:t,rootStyle:{minHeight:"800px",border:"1px solid rgba(235, 237, 241)"}})}):e.count})},l$=e=>{let{res:t,view:s}=e,n=[{key:"js-files-count",label:"JS files",children:(0,o.jsx)("span",{className:`${l_} ${lE}`,children:lF(t.js.total)})},{key:"css-files-count",label:"CSS files",children:(0,o.jsx)("span",{className:`${l_} ${lE}`,children:lF(t.css.total)})},{key:"font-files-count",label:"Font files",children:(0,o.jsx)("span",{className:`${l_} ${lE}`,children:lF(t.fonts.total)})},{key:"html-files-count",label:"HTML files",children:(0,o.jsx)("span",{className:l_,children:lF(t.html.total)})},{key:"image-files-count",label:"Image files",children:(0,o.jsx)("span",{className:l_,children:lF(t.imgs.total)})},{key:"media-files-count",label:"Media files",children:(0,o.jsx)("span",{className:l_,children:lF(t.media.total)})}],[r,i]=rv(t.js.total.size).split(" "),[l,a]=rv(t.css.total.size).split(" "),[d,c]=rv(t.fonts.total.size).split(" "),[u,h]=rv(t.html.total.size).split(" "),[p,m]=rv(t.imgs.total.size).split(" "),[f,x]=rv(t.media.total.size).split(" "),g=[{key:"js-files-size",label:(0,o.jsx)("span",{className:lO,children:"JS size"}),children:(0,o.jsxs)("div",{className:lE,children:[(0,o.jsx)("span",{className:l_,children:r}),(0,o.jsx)("span",{className:lT,children:i})]})},{key:"css-files-size",label:(0,o.jsx)("span",{className:lO,children:"CSS size"}),children:(0,o.jsxs)("div",{className:lE,children:[(0,o.jsx)("span",{className:l_,children:l}),(0,o.jsx)("span",{className:lT,children:a})]})},{key:"font-files-size",label:(0,o.jsx)("span",{className:lO,children:"Font size"}),children:(0,o.jsxs)("div",{className:lE,children:[(0,o.jsx)("span",{className:l_,children:d}),(0,o.jsx)("span",{className:lT,children:c})]})},{key:"html-files-size",label:(0,o.jsx)("span",{className:lO,children:"HTML size"}),children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:l_,children:u}),(0,o.jsx)("span",{className:lT,children:h})]})},{key:"image-files-size",label:(0,o.jsx)("span",{className:lO,children:"Image size"}),children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:l_,children:p}),(0,o.jsx)("span",{className:lT,children:m})]})},{key:"media-files-size",label:(0,o.jsx)("span",{className:lO,children:"Media size"}),children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:l_,children:f}),(0,o.jsx)("span",{className:lT,children:x})]})}];return(0,o.jsx)(lD.A,{layout:"vertical",className:"bundleOverall-Ay7WmZ",size:"small",column:3,colon:!1,items:"files"===s?n:g})},lG=()=>{let[e,t]=(0,w.useState)("size"),s=(0,s2.Zp)(),{t:n}=s6();return(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetAssetsSummary,body:{withFileContent:!1},children:r=>{let i=rv(r.all.total.size);return(0,o.jsx)(rW,{className:lP,style:{height:"316px"},children:(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"title-fNYU5O",children:[(0,o.jsx)("span",{children:n("Bundle Overall")}),(0,o.jsx)(rH.Ay,{type:"link",style:{padding:"0px"},onClick:()=>{s(X.Client.RsdoctorClientRoutes.BundleSize)},children:(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,o.jsx)("span",{style:{marginRight:"8px",fontSize:"13px"},children:n("ViewBundleSize")}),(0,o.jsx)(sE.A,{style:{fontSize:"10px"}})]})})]}),(0,o.jsx)(rO.A,{options:["Size","Files"],onChange:e=>{t(e.toLocaleLowerCase())},size:"small",style:{marginBottom:8,fontSize:"14px"}}),(0,o.jsx)(lN,{theme:"files"===e?"common":"warning",number:"files"===e?r.all.total.count:i,description:`Total ${e}`}),(0,o.jsx)(l$,{view:e,res:r})]})})}})};var lK=s(6048),lW=s(1607),lH=s(19947),lq=((n={}).BEGIN="B",n.END="E",n.COMPLETE="X",n.INSTANT="I",n.MARK="R",n);function lU(e){return function e(t){return t.reduce((t,s)=>{if(s.c){let n=e(s.c);t.push({name:s.n,ph:lq.BEGIN,pid:s.p,ts:s.s,args:s},...n,{name:s.n,ph:lq.END,pid:s.p,ts:s.e,args:s})}else t.push({name:s.n,ph:lq.BEGIN,pid:s.p,ts:s.s,args:s}),t.push({name:s.n,ph:lq.END,pid:s.p,ts:s.e,args:s});return t},[])}(Object.entries(e.sort((e,t)=>e.s-t.s).reduce((e,t)=>{let s=e[t.p];return s?function(e,t){let s=[e];for(;s.length>0;){let e,n=s.shift()||[];if(0===n.length)return;let r=n[n.length-1];if(r.e<=t.s)return n.push(t);for(let t=n.length-1;t>=0;t--){let{c:s}=n[t];s&&(e=s)}e?s.push(e):r.c=[t]}}(s,t):e[t.p]=[t],e},{})).reduce((e,t)=>{let[s,n]=t;return e.push(...n),e},[]))}function lV(e){let{ext:t}=e.data;return`
  <div class="loader-tooltip-container">
    <div class="loader-tooltip-title">[${t.args.p}] ${t.args.n}</div>
    <li class="loader-tooltip-item">
      <span>hook</span>
      <span>${t.args.p}</span>
    </li>
    <li class="loader-tooltip-item">
      <span>tap name</span>
      <span>${t.args.n}</span>
    </li>
    <li class="loader-tooltip-item">
      <span>start</span>
      <span>${N()(t.args.s).format("YYYY/MM/DD HH:mm:ss")}</span>
    </li>
    <li class="loader-tooltip-item">
      <span>end</span>
      <span>${N()(t.args.e).format("YYYY/MM/DD HH:mm:ss")}</span>
    </li>
    <li class="loader-tooltip-item">
      <span>duration</span>
      <span>${rw(t.args.e-t.args.s)}</span>
    </li>
  </div>
      `.trim()}let lJ=e=>{let{plugins:t,defaultDatas:s=[],type:n}=e,{isDark:r}=rj(),i=(0,w.useRef)(null),[l,a]=(0,w.useState)([]);return(0,w.useEffect)(()=>{let e=[];t.forEach(t=>{t.data.forEach(s=>{e.push({p:t.hook,n:`${t.tapName}`,s:s.startAt,e:s.endAt})})}),a([...lU(s),...lU(e)])},[]),(0,o.jsx)("div",{className:["loader-chart-container",r?"loader-chart-container_dark":""].join(" ").trim(),ref:i,style:{width:"100%"},children:(0,o.jsx)(G,{pluginsData:l,formatterFn:lV,chartType:n})})},lY=()=>(0,o.jsx)(is.A,{message:(0,o.jsxs)(rT.A.Text,{children:[(0,o.jsx)(rT.A.Text,{children:"make sure that you have turn on "}),(0,o.jsxs)(rT.A.Text,{children:[" ","in configuration for the Rsdoctor plugin."]})]}),type:"info",showIcon:!0}),lZ=e=>{let{summary:t}=e,{costs:s=[]}=t||{};return s.find(e=>e.name===em.SummaryCostsDataName.Bootstrap)?(0,o.jsx)(iS,{containerProps:{style:{display:"inline"}},drawerProps:{title:'Chart of the "Bootstrap -> BeforeCompile" stage'},text:(0,o.jsx)(sN.A,{children:"detail"}),children:(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetPluginData,body:{hooks:["environment","afterEnvironment","entryOption","afterPlugins","afterResolvers","initialize","beforeRun","run","watchRun","normalModuleFactory","contextModuleFactory","beforeCompile"]},children:e=>e&&e.length?(0,o.jsx)(lJ,{plugins:e,type:T.Bootstrap}):(0,o.jsx)(lY,{})})}):null};var lQ=s(36643);let lX=e=>{let{dataSource:t}=e;return(0,o.jsx)(lQ.A,{dataSource:t,rowKey:e=>`${e.tapName}_${e.hook}`,columns:[{title:"Plugin Tap Name",render:(e,t)=>t.tapName},{title:"Hook",render:(e,t)=>t.hook},{title:"calls",render:(e,t)=>(0,o.jsx)(rR.A,{title:`"${t.hook}" has been called ${t.data.length} times by "${t.tapName}"`,children:t.data.length}),sorter:(e,t)=>e.data.length-t.data.length},{title:"duration(total)",render:(e,t)=>rw((0,r4.A)(t.data,e=>e.costs)),sorter:(e,t)=>(0,r4.A)(e.data,e=>e.costs)-(0,r4.A)(t.data,e=>e.costs),defaultSortOrder:"descend"}]})},l0=e=>{let{summary:t}=e,{costs:s=[]}=t||{},n=s.find(e=>e.name===em.SummaryCostsDataName.Done),r='of the "AfterCompile -> Done" stage';return n?(0,o.jsx)(iS,{containerProps:{style:{display:"inline"}},drawerProps:{title:`Details ${r}`},text:(0,o.jsx)(sN.A,{children:"detail"}),children:(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetPluginData,body:{hooks:["afterCompile","shouldEmit","emit","afterEmit","assetEmitted","done"]},children:e=>e&&e.length?(0,o.jsxs)(sN.A,{direction:"vertical",style:{width:"100%"},children:[(0,o.jsx)(rW,{title:`Plugin DataSource of ${r}`,collapsable:!0,children:(0,o.jsx)(lX,{dataSource:e})}),(0,o.jsx)(r5.A,{}),(0,o.jsx)(rW,{title:`Chart ${r}`,children:(0,o.jsx)(lJ,{plugins:e,type:T.Done})})]}):(0,o.jsx)(lY,{})})}):null},l1=e=>{let{summary:t}=e,{costs:s=[]}=t||{};return s.find(e=>e.name===em.SummaryCostsDataName.Minify)?(0,o.jsx)(iS,{containerProps:{style:{display:"inline"}},drawerProps:{title:'Details of the "Minify" stage'},text:(0,o.jsx)(sN.A,{children:"detail"}),children:(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetPluginData,body:{hooks:["processAssets","optimizeChunkAssets"]},children:e=>e&&e.length?(0,o.jsxs)(sN.A,{direction:"vertical",style:{width:"100%"},children:[(0,o.jsx)(rW,{title:'Plugin DataSource of the "Minify"',collapsable:!0,children:(0,o.jsx)(lX,{dataSource:e})}),(0,o.jsx)(r5.A,{}),(0,o.jsx)(rW,{title:'Chart of the "Minify"',children:(0,o.jsx)(lJ,{plugins:e,type:T.Minify})})]}):(0,o.jsx)(lY,{})})}):null},l5=e=>{let{children:t,name:s,showDivider:n=!0}=e;return(0,o.jsxs)(rT.A.Text,{style:{color:"inherit"},children:[(0,o.jsx)(rT.A.Text,{style:{color:"inherit"},children:s}),n?(0,o.jsx)(r5.A,{type:"vertical"}):null,t]})},l2=e=>{var t;let{summary:s}=e,{t:n}=s6();if(!(null==s||null==(t=s.costs)?void 0:t.length))return null;let r=Math.max(...s.costs.map(e=>e.costs));return(0,o.jsx)(rW,{className:lP,children:(0,o.jsx)("div",{children:(0,o.jsxs)(sN.A,{style:{wordBreak:"break-all",width:"100%",marginTop:"0"},size:20,direction:"vertical",children:[(0,o.jsx)("div",{className:"title-wq4_QM",children:n("Compile Overall")}),s.costs.map(e=>{let{name:t,costs:n}=e,i=(0,o.jsx)(lK.A,{className:"progress-y4rFf4",percent:100*n/r,status:"normal",format:()=>rw(n)});switch(t){case em.SummaryCostsDataName.Bootstrap:return(0,o.jsxs)(l5,{name:"Bootstrap ~ BeforeCompile",children:[(0,o.jsx)(lZ,{summary:s}),i]},t);case em.SummaryCostsDataName.Compile:return(0,o.jsx)(l5,{name:"Compile",showDivider:!1,children:i},t);case em.SummaryCostsDataName.Done:return(0,o.jsxs)(l5,{name:"AfterCompile ~ Done",children:[(0,o.jsx)(l0,{summary:s}),i]},t);case em.SummaryCostsDataName.Minify:return(0,o.jsxs)(l5,{name:"Minify",children:[(0,o.jsx)(l1,{summary:s}),i]},t);default:return null}})]})})})};var l4=s(28695),l6=s(78965),l3=s(12303),l7=s(59531),l9=s(49983),l8=s(81760),ae=s.n(l8);let at=ig({Component:e=>{let{defaultKeys:t,configs:s}=e,n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(e)?e.find(e=>"webpack"===e.name||"rspack"===e.name):null}(s||[]);if(!n)return null;let{config:r,version:i,name:l}=n,a=Object.keys(r),[d,c]=(0,w.useState)(t||a);return(0,o.jsxs)(iS,{text:(0,o.jsxs)("div",{className:"title-BZ9xk1",children:[(0,o.jsx)("span",{style:{marginRight:"8px",fontSize:"13px"},children:"View Bundler Config"}),(0,o.jsx)(sE.A,{style:{fontSize:"10px"}})]}),children:[(0,o.jsxs)(r7.A,{children:[(0,o.jsx)(io,{text:"Bundler Config Viewer"}),(0,o.jsx)(r5.A,{}),(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rT.A.Text,{children:"Properties: "}),(0,o.jsx)(lh.A,{dropdownStyle:{zIndex:999},mode:"multiple",allowClear:!0,value:d.length===a.length?[]:d,style:{width:350},popupMatchSelectWidth:!0,placeholder:"Show Selected Properties Only.",onChange:e=>{c(e)},children:a.map(e=>(0,o.jsx)(lh.A.Option,{label:e,value:e,children:e},e))})]}),(0,o.jsx)(r5.A,{})]}),(0,o.jsx)(ae(),{name:i&&"unknown"!==i?`${l}@${i}`:"webpack.config",theme:"monokai",src:0===d.length?r:eP.pick(r,d),displayDataTypes:!1,displayObjectSize:!1,style:{overflowX:"auto"}})]})},api:X.SDK.ServerAPI.API.LoadDataByKey,responsePropName:"configs",body:{key:"configs"},showSkeleton:!1}),as=e=>{let{configs:t=[],cwd:s,envinfo:n,alerts:r=[]}=e,{t:i}=s6(),l=r.filter(e=>"warn"===e.level).length,a=r.length-l,d=[...Object.keys(n).map(e=>{let t=/Version$/,s=t.test(e);return{key:e,label:s?e.replace(t,""):e,children:n?n[e]:void 0}}),...t.filter(e=>!!e.version).map(e=>{let{name:t,version:s}=e;return{key:t,label:t,children:s}}),{key:"cwd",label:"cwd",children:s}];return(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetAssetsSummary,body:{withFileContent:!1},children:e=>{let t=rv(e.all.total.size),s=e.all.total.count,[n,r]=t.split(" "),c=[{title:"Errors",description:(0,o.jsx)("span",{style:{color:"#FF4D4F"},children:a}),icon:(0,o.jsx)(l4.A,{style:{background:"#FF4D4F"},shape:"circle",icon:(0,o.jsx)(l6.A,{style:{fontSize:"18px"}})})},{title:"Warnings",description:(0,o.jsx)("span",{style:{color:"#FAAD14"},children:l}),icon:(0,o.jsx)(l4.A,{style:{background:"#FAAD14"},shape:"circle",icon:(0,o.jsx)(l3.A,{style:{fontSize:"18px"}})})},{title:"Total Files",description:(0,o.jsx)("span",{children:s}),icon:(0,o.jsx)(l4.A,{style:{background:"#3874F6"},shape:"circle",icon:(0,o.jsx)(l7.A,{style:{fontSize:"18px"}})})},{title:"Total Size",description:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{style:{fontSize:"20px"},children:n}),(0,o.jsx)("span",{style:{fontSize:"13px",marginLeft:"5px"},children:r})]}),icon:(0,o.jsx)(l4.A,{style:{background:"rgba(226, 129, 73)"},shape:"circle",icon:(0,o.jsx)(l9.A,{style:{fontSize:"18px"}})})}];return(0,o.jsx)(rW,{className:lP,children:(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"title-cqt0lp",children:[(0,o.jsx)("span",{className:"left-sk7eLC",children:i("Project Overall")}),(0,o.jsx)(at,{})]}),(0,o.jsx)("div",{className:"overview-ZAp1A3",children:c.map((e,t)=>(0,o.jsx)(r1,{title:e.title,description:(0,o.jsx)("span",{children:e.description}),icon:e.icon},t))}),(0,o.jsx)(lD.A,{className:"projectOverall-T7onhG",items:d})]})})}})},an=e=>{let{children:t}=e;return(0,o.jsx)(lw.A,{vertical:!0,className:"layout-izKUgB",children:t.map(e=>(0,o.jsx)("div",{className:"row-RDk0Pl",children:e}))})},ar=ig({api:X.SDK.ServerAPI.API.GetProjectInfo,responsePropName:"project",Component:e=>{let{project:t}=e,{summary:s,configs:n,root:r,envinfo:i,errors:l}=t;return(0,o.jsx)("div",{className:"overall-MGHzQh",children:(0,o.jsxs)(lw.A,{style:{width:"100%"},children:[(0,o.jsx)("div",{style:{flex:3,marginRight:"16px",maxWidth:"75%"},children:(0,o.jsxs)(an,{children:[(0,o.jsx)(as,{configs:n,cwd:r,envinfo:i,alerts:l}),(0,o.jsx)(iV,{})]})}),(0,o.jsx)("div",{style:{flex:1},children:(0,o.jsxs)(an,{children:[(0,o.jsx)(lG,{errors:l,cwd:r}),(0,o.jsx)(l2,{summary:s}),(0,o.jsx)(lM,{})]})})]})})}});var ai=s(67211),al=s(1853),aa=s(2183),ao=s(2574),ad=s(28342);let ac="text-QI6k9S",au=e=>{let{text:t,keyword:s,...n}=e;if(!s||-1===t.indexOf(s))return ah({text:t,rest:n});let r=[],i=t;for(;i.length>0;){let e=i.indexOf(s);if(e>-1)0!==e&&r.push(ah({text:i,els:r})),r.push(ah({text:i,els:r,marked:!0})),i=i.slice(e+s.length);else{r.push(ah({text:i,els:r,marked:!0}));break}}return(0,o.jsx)(rT.A.Text,{className:ac,...n,children:r})},ah=e=>{let{text:t,els:s,marked:n=!1,rest:r}=e;if(!t)return null;let i=t.length;if(i>40){let e=Math.floor(18.5),s=Math.ceil(18.5);return(0,o.jsx)(ad.A,{content:t,placement:"left",children:(0,o.jsx)("div",{children:(0,o.jsxs)(rT.A.Text,{className:ac,mark:!!n,...r,children:[t.slice(0,e),"...",t.slice(i-s)]})})})}return(0,o.jsx)(ad.A,{content:t,children:(0,o.jsx)("div",{children:(0,o.jsx)(rT.A.Text,{className:ac,...r,children:t},s?s.length:0)})})};var ap=s(49026),am=s(64912);let af=(0,w.createContext)({setModuleJumpList(e){},moduleJumpList:[]});var ax=s(82552),ag=s(79002),aj=s(32619),ay=s(44644);let av="file-tree-com",aA=e=>{let{treeData:t,needJumpto:s=!1,defaultOpened:n=!1,defaultOpenFather:r=0}=e,{required:i,handlers:l}=(0,ay.pk)({id:`${av}-tree`,data:t||[],defaultOpened:n,multipleSelect:!1,refreshAsyncNodes:!0}),a=(0,w.useCallback)(e=>{var t;let{node:n,onToggle:i}=e;r&&n.data.level<r&&n.setOpened(!0);let l=sH(n.data.name);return(0,o.jsx)("div",{className:`${av}-titles-box`,children:(0,o.jsx)("div",{className:`${av}-titles`,children:(0,o.jsx)(sN.A,{direction:"vertical",children:(0,o.jsx)("div",{className:`${av}-node-title`,children:(0,o.jsxs)(sN.A,{children:[(0,o.jsx)("div",{onClick:i,children:(0,o.jsxs)(sN.A,{children:[!n.options.opened&&(null==(t=n.data.children)?void 0:t.length)?(0,o.jsx)(ax.A,{style:{color:"lightblue"}}):(0,o.jsx)(ag.A,{style:{color:"lightblue"}}),l,(0,o.jsx)(ad.A,{content:(0,o.jsx)(o.Fragment,{children:n.data.__RESOURCEPATH__?(0,o.jsx)(rT.A.Text,{code:!0,children:n.data.__RESOURCEPATH__},`${n.data.name}-popover-path`):(0,o.jsx)(o.Fragment,{})}),title:"INFO",trigger:"hover",children:(0,o.jsx)(rT.A.Text,{children:n.data.name})},`${n.data.name}popover`)]})}),(0,o.jsx)(sN.A,{children:s&&(0,o.jsx)(af.Consumer,{children:e=>{let{moduleJumpList:t,setModuleJumpList:s}=e;return(0,o.jsx)(aj.A,{onClick:()=>{let e=[...t];e.push(+n.id),s(e)}})}})})]})})})})},n.data.name)},[]);return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(ay.Ay,{...i,...l,horizontalLineStyles:{stroke:"#c4c4c4",strokeWidth:2,strokeDasharray:"1 1"},verticalLineStyles:{stroke:"#c4c4c4",strokeWidth:2,strokeDasharray:"1 1"},draggable:!1,depthGap:14,gapMode:"padding",disableLines:!1,disableTransitions:!0,disableHorizontalLines:!1,disableVerticalLines:!1,verticalLineTopOffset:0,verticalLineOffset:5,renderNode:a})})};X.Client.RsdoctorClientRoutes.ModuleAnalyze;let ab="module-analyze",aS=(0,w.memo)(e=>{let{dependencies:t,cwd:s,module:n}=e,r=(0,w.useMemo)(()=>{let e=n.dependencies.map(e=>{let s=t.find(t=>t.id===e);if(s)return{__RESOURCEPATH__:s.resolvedRequest||"",id:s.dependency,key:s.resolvedRequest,name:sv(s.resolvedRequest)||"",level:1,kind:s.kind,concatModules:void 0}});return eP.compact(e)},[n]);return(0,o.jsx)(r7.A,{justify:"start",align:"middle",children:(0,o.jsx)(r9.A,{span:24,children:r.length?(0,o.jsx)(aA,{treeData:r,needJumpto:!0,cwd:s}):(0,o.jsx)(rz.A,{})})})}),aw=(e,t)=>{var s;if(null==e||null==(s=e.imported)?void 0:s.length){let s=e.imported.map(e=>t.find(t=>t.id===Number(e)));return eP.compact(s)}return[]},aC=e=>{var t;let{curModule:s,modules:n,dependencies:r,cwd:i,activeTabKey:l,selectedChunk:a=""}=e,[d,c]=(0,w.useState)([]),{data:u}=(0,w.useMemo)(()=>d&&(null==d?void 0:d.length)?{data:eP.compact(null==d?void 0:d.map((e,t)=>({key:`0-${t}`,name:sv(e.path),__RESOURCEPATH__:e.path,id:e.id,level:1,chunks:e.chunks,size:rv(e.size.parsedSize),kind:e.kind,concatModules:e.concatenationModules,fatherPath:sv(s.path),dependencies:e.dependencies,getChildren:()=>(function e(t,s,n){let r=aw(t,s);return null==r?void 0:r.map((r,i)=>({key:`0-${i}`,name:sv(r.path),__RESOURCEPATH__:r.path,id:r.id,level:1,size:rv(r.size.parsedSize),kind:r.kind,chunks:r.chunks,concatModules:r.concatenationModules,fatherPath:sv(n.path),dependencies:r.dependencies,getChildren:()=>e(r,s,t),children:r.imported}))})(e,n,s),children:e.imported})))}:{filterData:[],data:[]},[d,s]);return(0,w.useEffect)(()=>{c(aw(s,n))},[s,n]),(0,o.jsx)(o.Fragment,{children:l===aP[aP.Reasons]?(0,o.jsx)(o.Fragment,{children:d?(0,o.jsx)(aA,{cwd:i,treeData:u,needCode:!0,needShowAllTree:!0,needJumpto:!0,selectedChunk:a}):(0,o.jsx)(rz.A,{className:`${ab}-empty`})}):l===aP[aP.Dependencies]?(0,o.jsx)("div",{className:`${ab}-file-tree`,style:{padding:x.BasePadding/2},children:(0,o.jsx)(r9.A,{span:24,style:{marginTop:x.BasePadding/2},children:s?(0,o.jsx)(aS,{module:s,dependencies:r,cwd:i}):(0,o.jsx)(rz.A,{className:`${ab}-empty`})})}):(0,o.jsx)("div",{children:null==(t=s.bailoutReason)?void 0:t.map(e=>(0,o.jsx)("div",{style:{marginBottom:10},children:(0,o.jsx)(rP.A,{children:(0,o.jsx)(ad.A,{content:e,children:(0,o.jsx)("span",{style:{display:"inline-block"},children:e.length>120?`${e.slice(0,120)}...`:e})})},e)}))})})};var aM=s(30964),ak=s(54377),aD=s(21416),aP=((r={})[r.Reasons=0]="Reasons",r[r.Dependencies=1]="Dependencies",r[r.BailoutReason=2]="BailoutReason",r);let az=[{key:aP[0],label:aP[0]},{key:aP[1],label:aP[1]},{key:aP[2],label:aP[2]}],aI=e=>{let{modules:t,cwd:s,moduleId:n,show:r,setShow:i}=e,[l,a]=(0,w.useState)(""),[d,c]=(0,w.useState)(aP[0]);return(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetModuleDetails,body:{moduleId:+n},children:e=>{let{module:n,dependencies:a}=e;return(0,o.jsx)(r3.A,{title:(0,o.jsxs)("div",{className:"module-analyze-box",children:[(0,o.jsx)(rT.A.Text,{children:sv(n.path)}),(0,o.jsx)(rT.A.Text,{style:{fontSize:12,color:"rgba(0, 0, 0, 0.45)"},children:`Current Module: ${n.path}`})]}),open:r,maskClosable:!0,width:.8*j,onClose:()=>i(!1),children:(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetAllChunkGraph,body:{},children:e=>(0,o.jsx)(af.Consumer,{children:e=>{let{moduleJumpList:r,setModuleJumpList:i}=e;return(0,o.jsx)(r_.A,{style:{minHeight:400},tabList:az,activeTabKey:d,tabProps:{size:"small",style:{fontSize:12}},onTabChange:e=>c(e),styles:{title:{paddingTop:0}},title:(0,o.jsxs)(sN.A,{style:{padding:"10px 0px"},children:[(0,o.jsx)(aM.A,{onClick:()=>{i([...r.slice(0,-1)])}}),(0,o.jsx)(rT.A.Text,{children:"Current Module Imported Reasons Tree"}),(0,o.jsx)(ad.A,{content:(0,o.jsx)("div",{children:(0,o.jsxs)("div",{children:[(0,o.jsx)(iJ.A,{status:"success",text:" "}),(0,o.jsx)(ak.A,{}),(0,o.jsx)(rT.A.Text,{children:": Jump button, click to jump to the Module dependency analysis page of this module."})]})}),title:"Usage",children:(0,o.jsx)(aD.A,{})})]}),children:(0,o.jsx)(r7.A,{justify:"start",align:"middle",children:(0,o.jsx)(r9.A,{span:24,children:(0,o.jsx)(aC,{curModule:n,modules:t,dependencies:a,cwd:s,selectedChunk:l,activeTabKey:d})})})})}})})})}})},aN={assets:"assets-ll1P_L",assetBox:"assetBox-Y8vGse",fileText:"fileText-W0quVZ","bundle-tree":"bundle-tree-IbtEQg",bundleTree:"bundle-tree-IbtEQg",box:"box-On1BLb",keyword:"keyword-PqQzB1",divider:"divider-asnppW",dividerDiv:"dividerDiv-s50mAr",assetsTag:"assetsTag-eAVvyj",bundle:"bundle-cPw2Kc","bundle-size-card":"bundle-size-card-N8rW3d",bundleSizeCard:"bundle-size-card-N8rW3d","ant-tabs-tab":"ant-tabs-tab-SpEjsl",antTabsTab:"ant-tabs-tab-SpEjsl",modal:"modal-afyzYa","search-btn":"search-btn-To902q",searchBtn:"search-btn-To902q","search-modal-list":"search-modal-list-G_Uxc8",searchModalList:"search-modal-list-G_Uxc8"},{DirectoryTree:aE}=lk.A,a_=[],aT={margin:"none",marginInlineEnd:0},aR=()=>(0,o.jsx)(rz.A,{description:`Do not have the module code.
  (1) If you use the brief mode, there will not have any codes to show.
  (2) If you use lite mode, there will not have source codes.`}),aO=e=>{let{data:t}=e,[s,n]=(0,w.useState)(""),{t:r}=s6(),i={source:"Source Code",transformed:`Transformed Code(${r("After Compile")})`,parsedSource:`Bundled Code(${r("After Bundled")})`};if(!t)return null;let{path:l}=t;return(0,o.jsx)(iS,{text:"",buttonProps:{size:"small",icon:(0,o.jsx)(ad.A,{content:"Open the Codes Box",children:(0,o.jsx)(ai.A,{})}),type:"default"},buttonStyle:{padding:"0 4px"},drawerProps:{destroyOnClose:!0,title:`Code of "${l}"`},children:(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetModuleCodeByModuleId,body:{moduleId:t.id},children:e=>(0,o.jsx)(o.Fragment,{children:e.source||e.parsedSource||e.transformed?(0,o.jsx)(r_.A,{className:"code-size-card",style:{width:"100%"},tabList:Object.keys((0,am.A)(e,e=>!e)).map(e=>({tab:e})).map(e=>({...e,tab:i[e.tab],key:e.tab})),defaultActiveTabKey:e.parsedSource?"parsedSource":"source",onTabChange:e=>n(e),tabBarExtraContent:(0,o.jsx)(ad.A,{placement:"bottom",title:(0,o.jsx)(rT.A.Title,{level:5,children:"Explain"}),content:(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginBottom:30},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(rT.A.Text,{strong:!0,children:"Source: "}),(0,o.jsx)(rT.A.Text,{children:"source code"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(rT.A.Text,{strong:!0,children:"Transformed:"}),(0,o.jsx)(rT.A.Text,{children:"Transformed Code (After compile)"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(rT.A.Text,{strong:!0,children:"Bundled Source:"}),(0,o.jsx)(rT.A.Text,{children:"Bundled Code (After bundle and tree-shaking)"})]}),(0,o.jsx)("br",{}),(0,o.jsx)(rT.A.Text,{strong:!0,children:"More"}),(0,o.jsx)(rT.A.Text,{children:r("CodeModeExplain")})]})}),trigger:"hover",children:(0,o.jsx)("a",{href:"#",children:"Explain"})}),styles:{body:{padding:0,overflow:"hidden"}},children:e.parsedSource||e.source||e.transformed?(0,o.jsx)(ln,{isEmbed:!0,code:s?e[s]:e.parsedSource?e.parsedSource:e.source,filePath:l}):(0,o.jsx)(aR,{})}):(0,o.jsx)(aR,{})})})})},aB=e=>{let{id:t,show:s,setShow:n,cwd:r}=e;return t?(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetAllModuleGraph,body:{},children:e=>(0,o.jsx)(aI,{cwd:r,moduleId:t,modules:e,show:s,setShow:n})}):null},aL="__RESOURCEPATH__",aF=e=>{let{modules:t,chunks:s,filteredModules:n}=e,{sourceSize:r,parsedSize:i,filteredParsedSize:l,filteredSourceSize:a}=(0,w.useMemo)(()=>({sourceSize:(0,r4.A)(t,e=>e.size.sourceSize),parsedSize:(0,r4.A)(t,e=>e.size.parsedSize),filteredSourceSize:(0,r4.A)(n,e=>e.size.sourceSize),filteredParsedSize:(0,r4.A)(n,e=>e.size.parsedSize)}),[t,n]);return(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rR.A,{title:`total modules count is ${t.length}, the filtered modules count is ${n.length}`,children:(0,o.jsxs)(sN.A,{children:[(0,o.jsxs)(rT.A.Text,{type:"secondary",style:{fontSize:12,fontWeight:400},children:["Modules: ",n.length," / ",t.length]}),(0,o.jsx)(ii.A,{})]})}),(0,o.jsx)(r5.A,{type:"vertical"}),(0,o.jsx)(rR.A,{title:(0,o.jsxs)(sN.A,{direction:"vertical",children:[(0,o.jsxs)(rT.A.Text,{style:{color:"inherit"},children:["Total modules bundled size: ",rv(i)]}),(0,o.jsxs)(rT.A.Text,{style:{color:"inherit"},children:["Total modules source size: ",rv(r)]}),(0,o.jsxs)(rT.A.Text,{style:{color:"inherit"},children:["Filtered modules bundled size: ",rv(l)]}),(0,o.jsxs)(rT.A.Text,{style:{color:"inherit"},children:["Filtered modules source size: ",rv(a)]})]}),children:(0,o.jsxs)(sN.A,{children:[(0,o.jsxs)(rT.A.Text,{type:"secondary",style:{fontSize:12,fontWeight:400},children:["Modules Size:",l===i?rv(i):`${rv(l)} / ${rv(i)}`]}),(0,o.jsx)(ii.A,{})]})}),(0,o.jsx)(r5.A,{type:"vertical"}),(0,o.jsx)(rR.A,{title:(0,o.jsxs)(sN.A,{direction:"vertical",children:[(0,o.jsxs)(rT.A.Text,{style:{color:"inherit"},children:["this asset includes ",s.length," chunks:"]}),s.map(e=>(0,o.jsx)(ic,{label:"chunk",value:e.name},e.name))]}),children:(0,o.jsxs)(sN.A,{children:[(0,o.jsxs)(rT.A.Text,{type:"secondary",style:{fontSize:12,fontWeight:400},children:["Chunks: ",s.length]}),(0,o.jsx)(ii.A,{})]})})]})},a$=e=>{let{moduleCount:t}=e;return(0,o.jsx)(rR.A,{title:(0,o.jsx)(sN.A,{children:(0,o.jsxs)(rT.A.Text,{style:{color:"inherit"},children:["This is a concatenated container module that includes ",t," ","modules"]})}),children:(0,o.jsx)(rP.A,{color:"blue",style:aT,children:"concatenated container"})})},aG=e=>{let{size:t}=e;return(0,o.jsx)(rR.A,{title:(0,o.jsx)(sN.A,{children:(0,o.jsx)(rT.A.Text,{style:{color:"inherit"},children:"The total output size of all the files in this folder. If you enabled minification, this value shows the minified size."})}),children:(0,o.jsx)(rP.A,{style:aT,color:"geekblue",children:`bundled size: ${rv(t)}`})})},aK=e=>{let{size:t}=e;return(0,o.jsx)(rR.A,{title:(0,o.jsx)(sN.A,{children:(0,o.jsx)(rT.A.Text,{style:{color:"inherit"},children:"The final output size of this file. If you enabled minification, this value shows the minified size."})}),children:(0,o.jsx)(rP.A,{color:"geekblue",children:`bundled size: ${rv(t)}`})})},aW=e=>{let{size:t}=e;return(0,o.jsx)(rR.A,{title:(0,o.jsx)(sN.A,{children:(0,o.jsx)(rT.A.Text,{style:{color:"inherit"},children:"The compressed file size that users actually download, as most web servers use gzip compression."})}),children:(0,o.jsx)(rP.A,{color:"orange",children:`gzipped: ${rv(t)}`})})},aH=e=>{let{size:t}=e;return(0,o.jsx)(rR.A,{title:(0,o.jsx)(sN.A,{children:(0,o.jsx)(rT.A.Text,{style:{color:"inherit"},children:"The total original size of all the files in this folder, before any transformations and minification."})}),children:(0,o.jsx)(rP.A,{style:aT,color:"cyan",children:`source size: ${rv(t)}`})})},aq=e=>{let{size:t}=e;return(0,o.jsx)(rR.A,{title:(0,o.jsx)(sN.A,{children:(0,o.jsx)(rT.A.Text,{style:{color:"inherit"},children:"The original size of this file, before any transformations and minification."})}),children:(0,o.jsx)(rP.A,{color:"cyan",children:`source size: ${rv(t)}`})})},aU=e=>{let{asset:t,chunks:s,modules:n,moduleSizeLimit:r,height:i,root:l}=e,[a,d]=(0,w.useState)(""),[c,u]=(0,w.useState)(!1),[h,p]=(0,w.useState)([]),[m,f]=(0,w.useState)(!1),g=(0,w.useMemo)(()=>{let e=n.slice();if(a){let t=RegExp(a,"i");e=e.filter(e=>t.test(e.path))}return r&&(e=e.filter(e=>e.size.parsedSize>=r)),e},[n,a,r]),j=(0,w.useMemo)(()=>sY({files:g.map(e=>e.path).filter(Boolean),inlinedResourcePathKey:aL,fileTitle(e,t){var s;let r=g.find(t=>t.path===e);if(!r)return t;let{parsedSize:i=0,sourceSize:l=0,gzipSize:a=0}=r.size,d=r.kind===X.SDK.ModuleKind.Concatenation,c=!d&&0===i&&n.filter(e=>e!==r&&e.modules&&e.modules.indexOf(r.id)>-1);return(0,o.jsxs)("div",{className:aN["bundle-tree"],children:[(0,o.jsx)(ad.A,{content:`Open the ${t}\u{2019}s module reasons tree.`,placement:"bottom",children:(0,o.jsxs)("div",{className:aN.box,onClick:()=>{p([r.id]),f(!0)},children:[(0,o.jsx)("div",{className:aN.keywords,children:(0,o.jsx)(au,{ellipsis:!0,text:t,keyword:""})}),(0,o.jsx)("div",{className:aN.dividerDiv,children:(0,o.jsx)(r5.A,{className:aN.divider,dashed:!0})})]})}),(0,o.jsxs)(sN.A,{children:[0!==i?(0,o.jsx)(o.Fragment,{children:"number"==typeof a?(0,o.jsx)(ad.A,{placement:"bottom",content:(0,o.jsx)(aq,{size:l}),children:(0,o.jsxs)(sN.A,{direction:"horizontal",children:[(0,o.jsx)(aK,{size:i}),(0,o.jsx)(aW,{size:a})]})}):(0,o.jsxs)(sN.A,{direction:"horizontal",children:[(0,o.jsx)(aK,{size:i}),(0,o.jsx)(aq,{size:l})]})}):0!==l?(0,o.jsx)(aq,{size:l}):null,d?(0,o.jsx)(a$,{moduleCount:(null==(s=r.modules)?void 0:s.length)||0}):null,c&&c.length?(0,o.jsx)(rR.A,{title:(0,o.jsxs)(sN.A,{direction:"vertical",children:[(0,o.jsx)(rT.A.Text,{style:{color:"inherit"},children:"This module is concatenated into another container module:"}),c.map(e=>{let{id:t,path:s}=e;if(s.startsWith("data:text/javascript;"))return(0,o.jsx)(rT.A.Paragraph,{ellipsis:{rows:4},style:{color:"inherit",maxWidth:"100%"},code:!0,children:s},t);let n=(0,el.relative)((0,el.dirname)(r.path),s);return n.startsWith("javascript;charset=utf-8;base64,")?(0,o.jsx)(rT.A.Text,{style:{color:"inherit",maxWidth:"100%"},code:!0,children:"."===n[0]?n:`./${n}`},t):(0,o.jsx)(rT.A.Text,{style:{color:"inherit"},code:!0,children:"."===n[0]?n:`./${n}`},t)})]}),children:(0,o.jsx)(rP.A,{color:"green",children:"concatenated"})}):null,(0,o.jsx)(aO,{data:r})]})]})},dirTitle(e,t){let s=function e(t,s){return t.children&&t.children.forEach(t=>{t.isLeaf?s.push(t[aL]):e(t,s)}),s}(e,[]);if(s.length){let e=s.map(e=>n.find(t=>t.path===e)),r=(0,r4.A)(e,e=>{var t;return(null==(t=e.size)?void 0:t.parsedSize)||0}),i=(0,r4.A)(e,e=>{var t;return(null==(t=e.size)?void 0:t.sourceSize)||0});return(0,o.jsxs)("div",{className:aN["bundle-tree"],children:[(0,o.jsxs)("div",{className:aN.box,children:[(0,o.jsx)("div",{className:aN.keywords,children:(0,o.jsx)(au,{ellipsis:!0,text:t,keyword:""})}),(0,o.jsx)("div",{className:aN.dividerDiv,children:(0,o.jsx)(r5.A,{className:aN.divider,dashed:!0})})]}),(0,o.jsx)(sN.A,{children:r>0?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(aG,{size:r}),(0,o.jsx)(aH,{size:i})]}):(0,o.jsx)(aH,{size:i})})]})}return t},page:"bundle"}),[g]);return(0,w.useEffect)(()=>{d(""),u(!1)},[t]),(0,w.useEffect)(()=>{u(!1)},[a]),(0,o.jsx)(af.Provider,{value:{moduleJumpList:h,setModuleJumpList:p},children:(0,o.jsxs)(r_.A,{className:aN.bundle,title:`Modules of "${t.path}"`,bodyStyle:{minHeight:i},size:"small",children:[n.length?(0,o.jsxs)(r7.A,{children:[(0,o.jsx)(r9.A,{span:24,children:(0,o.jsx)(aF,{modules:n,chunks:s,filteredModules:g})}),(0,o.jsx)(r9.A,{span:24,children:(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(la,{placeholder:"search module by keyword",onChange:e=>d(e)},t.path),(0,o.jsx)(rH.Ay,{onClick:()=>u(!0),size:"small",icon:(0,o.jsx)(ap.A,{})})]})}),(0,o.jsx)(r9.A,{span:24,style:{marginTop:x.BasePadding},children:g.length?(0,o.jsx)(aE,{selectable:!1,defaultExpandAll:c||g.length<=20,onExpand:e=>{a_=e},defaultExpandParent:!0,defaultExpandedKeys:(null==a_?void 0:a_.length)?a_:1===j.length?[j[0].key]:[],treeData:j,rootStyle:{maxHeight:"500px",overflow:"auto",border:"1px solid rgba(235, 237, 241)",padding:"14px 20px"}},`tree_${a}_${c}_${t.path}`):(0,o.jsx)(rz.A,{description:(0,o.jsx)(rT.A.Text,{strong:!0,children:`"${a}" can't match any modules`})})})]}):(0,o.jsx)(rz.A,{description:(0,o.jsx)(rT.A.Text,{strong:!0,children:`"${t.path}" doesn't have any modules`})}),(0,o.jsx)(aB,{id:(null==h?void 0:h.length)?h[h.length-1]:"",show:m,setShow:f,cwd:l})]})})};var aV=s(79740);let aJ="dataContainer-lJ0PuO",aY="title-Gj8JxL",aZ="description-miJCbD",{DirectoryTree:aQ}=lk.A,aX=e=>{let{files:t,total:s,showProgress:n=!1,type:r}=e,i=r.toLocaleLowerCase(),l=(0,w.useMemo)(()=>(0,r4.A)(t,e=>e.size),[t]);return(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetAssetsSummary,body:{withFileContent:!1},children:e=>{let r=i.includes("image")?"imgs":i,{treeData:a}=lL(e[r].total);return(0,o.jsxs)(sN.A,{style:{height:100},align:"center",children:[(0,o.jsx)(lK.A,{type:"circle",percent:+(l/s*100).toFixed(2),strokeColor:{"0%":"#108ee9","100%":"#108ee9"},strokeWidth:12,format:e=>(0,o.jsxs)("div",{className:"percentContainer-VJxs6L",children:[(0,o.jsxs)("span",{style:{marginTop:"10px"},children:[e,"%"]}),(0,o.jsxs)("span",{className:"percentDescription-ymSkb_",children:["total ",r]})]})}),(0,o.jsxs)("div",{style:{marginLeft:"10px"},children:[(0,o.jsxs)("div",{className:aJ,children:[(0,o.jsx)("div",{className:aY,children:"Size"}),(0,o.jsx)("div",{className:aZ,children:rv(l)})]}),(0,o.jsx)(iS,{buttonProps:{size:"small"},buttonStyle:{fontSize:"inherit"},drawerProps:{title:"Files"},text:(0,o.jsx)(sN.A,{style:{textAlign:n?"left":"center"},align:"end",children:(0,o.jsx)(sN.A,{direction:"vertical",children:(0,o.jsx)("div",{className:aJ,children:(0,o.jsxs)("div",{className:aY,children:[(0,o.jsx)("span",{style:{marginRight:"5px"},children:"Files"}),(0,o.jsx)(sE.A,{})]})})})}),children:a.length?(0,o.jsx)(aQ,{defaultExpandAll:!0,selectable:!1,treeData:a,rootStyle:{minHeight:"800px",border:"1px solid rgba(235, 237, 241)"}}):(0,o.jsx)("div",{style:{position:"relative",top:"50%",transform:"translateY(-50%)"},children:(0,o.jsx)(rz.A,{style:{height:"100%"}})})}),(0,o.jsx)("div",{className:aZ,children:t.length})]})]})}})},{DirectoryTree:a0}=lk.A,{useToken:a1}=sO.A,{innerWidth:a5}=window,a2=e=>{let{showProgress:t=!1,data:s,total:n,tagBgColor:r,type:i}=e,{token:l}=a1(),a=r||l.colorPrimaryBorderHover;return(0,o.jsx)(aX,{type:i,files:s.files,total:n,showProgress:t,tagBgColor:a})},a4=e=>{let{titles:t,datas:s,bgColor:n,type:r}=e,[i,l]=(0,w.useState)(t[0]),a=(0,w.useMemo)(()=>t.indexOf(i),[t,i]),d=a>=0?a:0,c=r||i||t[0],u=d>=0&&d<s.length?s[d]:s[0]||{};return(0,o.jsx)(rL,{title:(0,o.jsxs)("div",{className:"cardTitle-xNmEfV",children:[(0,o.jsx)("div",{className:"title-qIR7dd",children:c}),t.length>1?(0,o.jsx)(rO.A,{defaultValue:t[0],options:t,onChange:e=>{l(e)},size:"small",style:{transition:"transform 0.3s ease"},value:i}):null]}),value:(0,o.jsx)(a2,{type:c,...u,tagBgColor:null==n?void 0:n.tagBgColor}),boxProps:{style:{background:null==n?void 0:n.bgColor,width:a5>1300?"80%":"95%"}}})},a6=e=>{let{errors:t,summary:s}=e,n=ne(t),[r,i]=rv(s.all.total.size).split(" "),l=[(0,o.jsx)(a4,{type:"JS",titles:["Total","Initial"],datas:[{data:s.js.total,total:s.all.total.size,showProgress:!0},{data:s.js.initial,total:s.all.total.size,showProgress:!0}]}),(0,o.jsx)(a4,{type:"CSS",titles:["Total","Initial"],datas:[{data:s.css.total,total:s.all.total.size,showProgress:!0},{data:s.css.initial,total:s.all.total.size,showProgress:!0}]}),(0,o.jsx)(a4,{titles:["Images","Fonts","Media"],datas:[{data:s.imgs.total,total:s.all.total.size,showProgress:!0},{data:s.fonts.total,total:s.all.total.size,showProgress:!0},{data:s.media.total,total:s.all.total.size,showProgress:!0}]}),(0,o.jsx)(a4,{type:"HTML",titles:["HTML Files"],datas:[{data:s.html.total,total:s.all.total.size,showProgress:!0}]})];return(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetAssetsSummary,body:{withFileContent:!1},children:e=>{let{treeData:t}=lL(e.all.total);return(0,o.jsxs)("div",{className:"container-wODg_6",children:[(0,o.jsxs)("div",{className:"summary-zj0ygd",children:[(0,o.jsx)(r1,{title:(0,o.jsx)(iS,{buttonProps:{size:"small"},buttonStyle:{fontSize:"inherit"},drawerProps:{title:"Files"},text:(0,o.jsxs)("div",{style:{color:"#000000a6"},children:[(0,o.jsx)("span",{style:{marginRight:"5px"},children:"Total Files"}),(0,o.jsx)(sE.A,{})]}),children:(0,o.jsx)(a0,{defaultExpandAll:!0,selectable:!1,treeData:t,rootStyle:{minHeight:"800px",border:"1px solid rgba(235, 237, 241)"}})}),description:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"description-o0ffpO",children:r}),(0,o.jsx)("span",{className:"unit-n5Yty6",children:i}),(0,o.jsxs)("div",{className:"totalNumber-UweUl8",children:[(0,o.jsx)("span",{style:{marginRight:"7px"},children:"Number of files"}),(0,o.jsx)("span",{style:{fontWeight:500},children:s.all.total.count})]})]}),icon:(0,o.jsx)(l4.A,{style:{background:"#3874F6"},shape:"circle",icon:(0,o.jsx)(l7.A,{style:{fontSize:"18px"}})}),style:{marginBottom:"12px",minWidth:"210px"}}),(0,o.jsx)(r1,{style:{minWidth:"210px"},title:(0,o.jsx)("div",{style:{margin:"4px 0"},children:(0,o.jsx)("span",{style:{marginRight:"5px"},children:"Duplicate Packages"})}),description:n.length,icon:(0,o.jsx)(l4.A,{style:{background:"#13C2C2"},shape:"circle",icon:(0,o.jsx)(aV.A,{style:{fontSize:"18px"}})})})]}),(0,o.jsx)(r5.A,{style:{height:"200px"},type:"vertical"}),(0,o.jsx)("div",{className:"chartsContainer-msRyOd",children:l.map((e,t)=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"chart-GmBMa_",children:e},t),t!==l.length-1?(0,o.jsx)(r5.A,{style:{height:"200px"},type:"vertical"},`${t}-divider`):null]}))})]})}})};var a3=s(92554),a7=s(1836),a9=s(98426);let{Search:a8}=ll.A,oe=e=>{let{onModuleClick:t,onClose:s,open:n,setOpen:r,isIcon:i=!1}=e,[l,a]=(0,w.useState)(!1),[d,c]=(0,w.useState)(""),[u,h]=(0,w.useState)(""),p=void 0!==n?n:l,m=r||a,f=(0,w.useCallback)(function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];let[n,r]=t;c(n)},[]),x=()=>{m(!0)},g=()=>{m(!1),null==s||s()},j=()=>{m(!1),null==s||s()};return(0,o.jsxs)(o.Fragment,{children:[i?(0,o.jsx)(a9.A,{onClick:x}):(0,o.jsx)(rH.Ay,{className:aN["search-btn"],color:"cyan",onClick:x,children:"Search Module"}),(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetSearchModules,body:{moduleName:String(d)},children:e=>{let n=Object.keys(e)[0];return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(a3.A,{className:aN.modal,title:"Search Modules",onOk:g,onCancel:j,open:p,width:"65rem",footer:"",children:[(0,o.jsx)(a8,{placeholder:"input search module name",allowClear:!0,onSearch:f,style:{width:500}}),n?(0,o.jsx)(rI.A,{defaultActiveKey:n,tabPosition:"top",onChange:e=>h(e),items:Object.keys(e).map((r,i)=>({label:e[r],key:r,children:ot(d,u||n,e=>{null==t||t(e),m(!1),null==s||s()})}))}):(0,o.jsx)(rz.A,{description:"No modules found."})]})})}})]})},ot=(e,t,s)=>(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetSearchModuleInChunk,body:{moduleName:String(e),chunk:t},children:t=>(0,o.jsx)(o.Fragment,{children:(null==t?void 0:t.length)!==0?(0,o.jsx)(a7.A,{className:aN["search-modal-list"],loading:!t.length,itemLayout:"horizontal",pagination:{position:"bottom",align:"center"},dataSource:t,renderItem:t=>{let n=t.relativePath.split(e);return(0,o.jsx)(a7.A.Item,{className:s?"search-list-item clickable":"search-list-item",onClick:s?()=>s(t):void 0,children:(0,o.jsx)(iu.A,{avatar:!0,title:!1,loading:!t.path,active:!0,children:(0,o.jsx)(a7.A.Item.Meta,{description:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(rT.A.Text,{code:!0,children:"Module:"}),n.map((t,s)=>s<n.length-1?(0,o.jsxs)(rT.A.Text,{style:{fontWeight:200},children:[t,(0,o.jsx)(rT.A.Text,{strong:!0,style:{fontWeight:600},children:e},`${t}-${s}-strong`)]},`${t}-${s}`):(0,o.jsx)(rT.A.Text,{style:{fontWeight:200},children:t}))]})},`${t.path}-${t.relativePath}-meta`)})},`${t.path}-${t.relativePath}`)}}):(0,o.jsx)(rz.A,{})})});var os=s(44184),on=s(64857),or=s(45373);let oi={treemap:"treemap-DOrYiA","tooltip-row":"tooltip-row-sZbl0R",tooltipRow:"tooltip-row-sZbl0R","tooltip-label":"tooltip-label-INs_JK",tooltipLabel:"tooltip-label-INs_JK","tooltip-path":"tooltip-path-djJmWx",tooltipPath:"tooltip-path-djJmWx","collapse-icon":"collapse-icon-wzQxAS",collapseIcon:"collapse-icon-wzQxAS"};var ol=s(82557);function oa(e){let t=5381;for(let s=0;s<e.length;s++)t=(t<<5)+t+e.charCodeAt(s);return t>>>0}let oo=(0,w.memo)(e=>{let{treeData:t,valueKey:s="sourceSize",style:n,onChartClick:r,forwardedRef:i}=e,[l,a]=(0,w.useState)(null),d=w.useRef(null);return(0,w.useEffect)(()=>{i&&d.current&&("function"==typeof i?i(d.current):i.current=d.current)},[i,d.current]),(0,w.useEffect)(()=>{L.Y([os.a,k.a,z.a])},[]),(0,w.useEffect)(()=>{t&&a({title:{text:"Bundle Tree Map",left:"center"},tooltip:{position:"top",formatter:function(e){for(var t=e.treePathInfo,s=[],n=1;n<t.length;n++)s.push(t[n].name);var r=e.data||{},i=r.path||s.join("/"),l=r.sourceSize,a=r.bundledSize,o=r.gzipSize,d=r.level;function c(e,t,s){return`<div class="${oi["tooltip-row"]}"><span class="${oi["tooltip-label"]}">${e}</span><span${s?` style="color: ${s}"`:""}>${t}</span></div>`}return[`<div class="${oi["tooltip-path"]}">`+ol.Me(i)+"</div>",c(0===d?"Asset":"Source",void 0!==l?rv(l):"-"),!a?"":c("Bundled",rv(a),"#1890ff"),!o?"":c("Gzipped",rv(o),"#52c41a")].join("")}},series:[{name:"Bundle Tree Map",id:"bundle-treemap",type:"treemap",visibleMin:300,left:10,right:10,top:10,bottom:10,label:{show:!0,formatter:"{b}",color:"#000"},upperLabel:{show:!0,height:30},levels:[{itemStyle:{color:"white",borderColor:"#eee",borderWidth:5,gapWidth:5},emphasis:{itemStyle:{borderColor:"#a29f9f"}}},{colorSaturation:[.25,.5],itemStyle:{borderWidth:5,gapWidth:5,borderColorSaturation:.5,borderColor:"#eee"}}],data:t.map((e,t)=>(function e(t,n){var r;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=R[n],a=null==(r=t.children)?void 0:r.map((t,s)=>e(t,n,i+1));return{id:t.path?oa(t.path):void 0,name:t.name,value:t[s]??t.value??0,path:t.path,sourceSize:t.sourceSize??t.value,bundledSize:t.bundledSize,gzipSize:t.gzipSize,children:a&&a.length>0?a:void 0,itemStyle:{borderWidth:2,gapWidth:2,borderColorSaturation:.2,colorSaturation:.2,color:l[i%l.length],borderColor:l[i%l.length]},level:i}})(e,B[t%B.length],0))}]})},[t,s]),l?(0,o.jsx)("div",{children:(0,o.jsx)(C.A,{ref:d,option:l,echarts:$,onEvents:r?{click:r}:void 0,style:{width:"100%",minHeight:"500px",maxHeight:"1000px",border:"5px solid white",borderRadius:"10px",...n},className:oi["chart-container"]})}):null}),od=w.forwardRef((e,t)=>(0,o.jsx)(oo,{...e,forwardedRef:t})),oc=e=>{let{treeData:t,onChartClick:s,bundledSize:n=!1}=e,r=(0,w.useMemo)(()=>t.map(e=>e.name),[t]),[i,l]=(0,w.useState)(r),[a,d]=(0,w.useState)(!1),[c,u]=(0,w.useState)(!1),h=w.useRef(null),{t:p}=s6(),m=(0,w.useMemo)(()=>t.filter(e=>i.includes(e.name)),[t,i]);return(0,o.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:16},className:oi.treemap,children:(0,o.jsxs)(sN.A,{direction:"vertical",style:{width:"100%"},children:[(0,o.jsx)(r_.A,{title:(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rT.A.Text,{children:p("Output Assets List")}),(0,o.jsx)(oe,{onModuleClick:e=>{if(!(null==e?void 0:e.path))return;let t=oa(e.path);h.current&&h.current.getEchartsInstance().dispatchAction({type:"treemapZoomToNode",seriesId:"bundle-treemap",targetNodeId:t.toString()}),u(!1)},open:c,setOpen:u,isIcon:!0}),(0,o.jsx)(rR.A,{color:"white",title:(0,o.jsxs)("span",{children:["✨ In Rspack, TreeMap proportions are always based on Bundled Size by default.",(0,o.jsx)("br",{}),"✨ In Webpack, TreeMap proportions are based on Bundled Size only when SourceMap is enabled.",(0,o.jsx)("br",{}),"✨ ",(0,o.jsx)("b",{children:"Bundled Size"}),": The size of a module after bundling and minification.",(0,o.jsx)("br",{}),"✨ ",(0,o.jsx)("b",{children:"Source Size"}),": The size of a module after compilation (e.g., TypeScript/JSX to JS), but before bundling and minification.",(0,o.jsx)("br",{}),"✨ ",(0,o.jsx)("b",{children:"Gzipped Size"}),": The compressed file size that users actually download, as most web servers use gzip compression.",(0,o.jsx)("br",{})]}),overlayInnerStyle:{width:620,color:"black"},children:(0,o.jsx)(ii.A,{style:{color:"#1890ff",marginLeft:8}})}),(0,o.jsxs)(rP.A,{color:"blue",children:["TreeMap area based on"," ",n?"Bundled Size":"Source Size"]})]}),extra:(0,o.jsx)("span",{className:oi["collapse-icon"],onClick:()=>d(e=>!e),"aria-label":p(a?"Expand":"Collapse"),children:a?(0,o.jsx)(on.A,{}):(0,o.jsx)(or.A,{})}),size:"small",className:`card-body ${a?"collapsed":""}`,children:(0,o.jsxs)("div",{className:`checkbox-container ${a?"collapsed":""}`,children:[(0,o.jsx)(ls.A,{indeterminate:i.length>0&&i.length<r.length,checked:i.length===r.length,onChange:e=>l(e.target.checked?r:[]),className:oi["all-none-checkbox"],children:"ALL / NONE"},"all-none-checkbox"),(0,o.jsx)(ls.A.Group,{options:r,value:i,onChange:l,className:`checkbox-container ${a?"collapsed":""} ${oi["asset-checkbox-group"]}`},"asset-checkbox-group")]})}),(0,o.jsx)("div",{style:{flex:1},children:(0,o.jsx)(od,{ref:h,treeData:m,valueKey:n?"bundledSize":"sourceSize",onChartClick:s})})]})})},{Option:ou}=lh.A,oh=[{key:"tree",label:(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rT.A.Text,{children:"Tree Graph"}),(0,o.jsx)(rR.A,{overlayStyle:{maxWidth:380},overlayInnerStyle:{marginLeft:16,padding:10},color:"white",title:(0,o.jsxs)(sN.A,{direction:"vertical",color:"white",size:"middle",children:[(0,o.jsx)(r7.A,{children:(0,o.jsxs)(r9.A,{children:[(0,o.jsx)(rP.A,{color:"cyan",style:{margin:0},children:"initial"}),(0,o.jsx)(rT.A.Text,{style:{marginLeft:4},children:"Identify whether the chunk is an initial chunk."})]})}),(0,o.jsx)(r7.A,{children:(0,o.jsxs)(r9.A,{children:[(0,o.jsx)(rP.A,{color:"green",style:{margin:0},children:"concatenated"}),(0,o.jsx)(rT.A.Text,{style:{marginLeft:4},children:"Identify whether the module is a concatenated module"}),(0,o.jsx)(rR.A,{overlayStyle:{maxWidth:408},placement:"bottom",color:"white",title:(0,o.jsx)(sN.A,{direction:"vertical",color:"white",children:(0,o.jsx)(r7.A,{children:(0,o.jsxs)(r9.A,{children:[(0,o.jsx)(rT.A.Text,{strong:!0,children:"Concatenated Module"}),(0,o.jsx)(rT.A.Text,{children:': A performance optimization where multiple modules are merged (or "hoisted") into a single scope instead of wrapping each module in separate function closures. This reduces the bundle size and improves runtime performance by minimizing function call overhead.'})]})})}),children:(0,o.jsx)(ii.A,{style:{color:"rgba(0,0,0,.45)",marginLeft:4}})}),(0,o.jsx)(rT.A.Text,{children:"."})]})}),(0,o.jsx)(r7.A,{children:(0,o.jsxs)(r9.A,{children:[(0,o.jsx)(rH.Ay,{size:"small",icon:(0,o.jsx)(ai.A,{})}),(0,o.jsx)(rT.A.Text,{style:{marginLeft:4},children:"Open the code."})]})}),(0,o.jsx)(r7.A,{children:(0,o.jsxs)(r9.A,{children:[(0,o.jsx)(rH.Ay,{size:"small",icon:(0,o.jsx)(al.A,{})}),(0,o.jsx)(rT.A.Text,{style:{marginLeft:4},children:"View the module dependency, that is, module reasons in stats.json."})]})}),(0,o.jsx)(r7.A,{children:(0,o.jsxs)(r9.A,{children:[(0,o.jsx)(rP.A,{color:"purple",children:"Bundled: 15.77 KB"}),(0,o.jsx)(rT.A.Text,{children:"The final size of the output files after processing, bundling, and optimization. This is what is delivered to the browser."})]})}),(0,o.jsx)(r7.A,{children:(0,o.jsxs)(r9.A,{children:[(0,o.jsx)(rP.A,{color:"orange",children:"Source: 60.46 KB"}),(0,o.jsx)(rT.A.Text,{children:"The original size of your source code files before any processing or transformations. This is the raw size of your code as you wrote it."})]})})]}),children:(0,o.jsx)(ii.A,{style:{color:"rgba(0,0,0,.45)"}})})]})},{key:"treemap",label:"Treemap"}],op=e=>{let{errors:t,cwd:s,summary:n,entryPoints:r}=e,[i,l]=(0,w.useState)([]),[a,d]=(0,w.useState)(0),[c,u]=(0,w.useState)(""),[h,p]=(0,w.useState)(0),[m,f]=(0,w.useState)(!1),[g,j]=(0,w.useState)(""),[y,v]=(0,w.useState)(""),[A,b]=(0,w.useState)(null),[S,C]=(0,w.useState)("tree"),{showCode:M,codeDrawerComponent:k}=function(e){let[t,s]=(0,w.useState)(""),[n,r]=(0,w.useState)(""),[i,l]=(0,w.useState)(""),[a,d]=(0,w.useState)(!1),[c,u]=(0,w.useState)(),[h,p]=(0,w.useState)();return{showCode(e){s(e.code||""),r(e.lang||""),l(e.filePath||""),u(e.defaultLine),p(e.ranges),d(!0)},codeDrawerComponent:(0,o.jsx)(r3.A,{maskClosable:!0,zIndex:999,width:"70%",destroyOnClose:!0,title:`Code of "${i}"`,open:a,onClose:()=>d(!1),children:t?(0,o.jsx)(ln,{code:t,lang:n,filePath:i,defaultLine:c,ranges:h}):(0,o.jsx)(rz.A,{description:e||"No Code"})})}}("Do not have the codes of assets. If you use the lite or brief mode, there will have codes."),{t:D}=s6(),P=n.all.total.files,z=(0,w.useCallback)(e=>t=>{"module"===e?j(t):"chunk"===e&&v(t)},[]),I=e=>(0,o.jsxs)(lh.A,{defaultValue:"kb",onChange:z(e),children:[(0,o.jsx)(ou,{value:"kb",children:"KB"}),(0,o.jsx)(ou,{value:"mb",children:"MB"})]}),N=(0,w.useCallback)((0,ao.A)(e=>{d("mb"===g?1024*e*1024:1024*e)},300),[]),E=(0,w.useCallback)((0,ao.A)(e=>{p("mb"===y?1024*e*1024:1024*e)},300),[]),_=(0,w.useMemo)(()=>{let e=P.slice();return c&&(e=e.filter(e=>e.path.indexOf(c)>-1)),h>0&&(e=e.filter(e=>e.size>=h)),i.length&&(e=e.filter(e=>!!i.some(t=>t.assets.includes(e.path)))),e.sort((e,t)=>{let s=+(e.path.indexOf("/")>-1);return(t.path.indexOf("/")>-1)-s})},[P,i,c,h]);(0,w.useEffect)(()=>{n.all.total.files.forEach(e=>{"js"===function(e){let t=e.split(".");return t.length>1?t.pop():""}(e.path)&&b(e.path)})},[n.all.total.files]);let T=(0,w.useMemo)(()=>sY({files:_.map(e=>e.path).filter(Boolean),fileTitle(e,t){let{size:s,initial:n,path:r,content:i}=_.find(t=>t.path===e);return(0,o.jsxs)("div",{className:aN.assetBox,onClick:()=>{b(r)},children:[(0,o.jsx)(au,{text:t,keyword:"",className:aN.fileText}),(0,o.jsxs)(sN.A,{size:"small",className:aN.assetsTag,children:[(0,o.jsx)(r5.A,{type:"vertical"}),(0,o.jsx)(rT.A.Text,{style:{color:"#4FD233"},children:rv(s)}),(0,o.jsx)(r5.A,{type:"vertical"}),n?(0,o.jsx)(rT.A.Text,{style:{color:"#009A9E"},children:"initial"}):null,(0,o.jsx)(r6.A,{style:{fontSize:14,padding:0},onClick:()=>M({code:i,filePath:r})})]})]})}}),[_]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"bundle-size-card",children:[(0,o.jsx)(a6,{cwd:s,errors:t,summary:n}),(0,o.jsx)(r_.A,{className:"bundle-size=card",tabList:oh,activeTabKey:S,onTabChange:e=>C(e),hidden:"tree"===S,tabProps:{size:"middle"},children:(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetProjectInfo,children:e=>{let{isRspack:t,hasSourceMap:s}=ek.checkSourceMapSupport(e.configs);return(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetSummaryBundles,children:e=>{let n=e.filter(e=>(e=>{let t=e.toLowerCase().split(".").pop()||"";return"js"===t||"cjs"===t||"mjs"===t||"css"===t||"html"===t})(e.asset.path)).map(e=>({name:e.asset.path,value:e.asset.size,children:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dist",s=function e(t){if(!t.children||0===t.children.length)return t;let s=t;for(;s.children&&1===s.children.length&&!s.children[0].sourceSize;)s={name:s.name+"/"+s.children[0].name,children:s.children[0].children};return s.children&&(s.children=s.children.map(e)),s}(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dist",s={name:t,children:[],_map:new Map};for(let t of e){let e=t.path.split(/[\\/]/).filter(Boolean),l=s;for(let s=0;s<e.length;s++){let a=e[s];if(s===e.length-1){var n,r,i;l.children||(l.children=[]),l.children.push({name:a,path:t.path,sourceSize:(null==(n=t.size)?void 0:n.sourceSize)??0,bundledSize:(null==(r=t.size)?void 0:r.parsedSize)??0,gzipSize:(null==(i=t.size)?void 0:i.gzipSize)??0})}else{l._map||(l._map=new Map);let e=l._map.get(a);e||(e={name:a,children:[],_map:new Map},l.children.push(e),l._map.set(a,e)),l=e}}}return!function e(t){delete t._map,t.children&&t.children.forEach(e)}(s),s}(e,t));return!function e(t){if(!t.children||0===t.children.length)return{sourceSize:t.sourceSize??0,bundledSize:t.bundledSize??0,gzipSize:t.gzipSize??0};let s=0,n=0,r=0;for(let i of t.children){let{sourceSize:t,bundledSize:l,gzipSize:a}=e(i);s+=t,n+=l,r+=a}return t.sourceSize=s,t.bundledSize=n,t.gzipSize=r,{sourceSize:s,bundledSize:n,gzipSize:r}}(s),s}(e.modules).children}));return(0,o.jsx)(oc,{treeData:n,bundledSize:s||t})}})}})}),(0,o.jsx)(r_.A,{hidden:"treemap"===S,tabList:oh,activeTabKey:S,onTabChange:e=>C(e),tabProps:{size:"middle"},children:(0,o.jsxs)(sN.A,{direction:"vertical",children:[(0,o.jsxs)(r7.A,{align:"middle",gutter:[x.BasePadding,x.BasePadding],children:[r&&r.length?(0,o.jsx)(r9.A,{children:(0,o.jsx)(lh.A,{mode:"multiple",value:i.map(e=>e.name),style:{minWidth:230,width:"auto",maxWidth:300},placeholder:"filter assets by entry point",onChange:e=>{l(e.map(e=>r.find(t=>t.name===e)).filter(Boolean))},allowClear:!0,onClear:()=>{l([])},children:r.map(e=>(0,o.jsx)(lh.A.Option,{value:e.name,children:(0,o.jsx)(sN.A,{children:(0,o.jsx)(ic,{label:e.name,value:rv(e.size),tooltip:e.name})})},e.name))})}):null,(0,o.jsx)(r9.A,{children:(0,o.jsx)(la,{placeholder:"search asset by keyword",onChange:e=>{u(e),f(!1)}})}),(0,o.jsx)(r9.A,{span:6,children:(0,o.jsx)(aa.A,{min:0,style:{width:"95%"},addonBefore:(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rT.A.Text,{style:{fontSize:14,color:"inherit"},children:"Asset Size"}),(0,o.jsx)(rR.A,{title:D("filter the output assets which size is greater than the input value"),style:{marginLeft:3},children:(0,o.jsx)(ii.A,{style:{color:"rgba(0,0,0,.45)"}})})]}),onChange:e=>E(Number(e)),addonAfter:I("chunk")})}),(0,o.jsx)(r9.A,{span:6,children:(0,o.jsx)(aa.A,{min:0,style:{width:"95%"},addonBefore:(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rT.A.Text,{style:{fontSize:14,color:"inherit"},children:"Module Size"}),(0,o.jsx)(rR.A,{title:D("filter the modules which size is greater than the input value"),style:{marginLeft:3},children:(0,o.jsx)(ii.A,{style:{color:"rgba(0,0,0,.45)"}})})]}),onChange:e=>{N(Number(e))},addonAfter:I("module")})})]}),(0,o.jsx)(r7.A,{children:(0,o.jsx)(oe,{})}),(0,o.jsx)(r7.A,{align:"middle",gutter:[x.BasePadding,x.BasePadding],children:(0,o.jsx)(r9.A,{span:24,children:_.length?(0,o.jsxs)(r7.A,{gutter:x.BasePadding,children:[(0,o.jsx)(r9.A,{span:6,children:(0,o.jsx)(r_.A,{title:(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rT.A.Text,{children:D("Output Assets List")}),(0,o.jsx)(r5.A,{type:"vertical"}),(0,o.jsx)(rR.A,{title:`total assets count is ${P.length}, the filtered assets count is ${_.length}`,children:(0,o.jsxs)(rT.A.Text,{type:"secondary",style:{fontSize:12,fontWeight:400},children:[_.length," / ",P.length]})}),(0,o.jsx)(r5.A,{type:"vertical"}),(0,o.jsx)(rT.A.Text,{type:"secondary",style:{fontSize:12,fontWeight:400},children:rv((0,r4.A)(_,e=>e.size))})]}),size:"small",bodyStyle:{overflow:"scroll",height:600},children:(0,o.jsx)(sq,{className:aN.assets,treeData:T,autoExpandParent:!0,defaultExpandAll:m||_.length<=20},`tree_${c}_${m}`)})}),(0,o.jsx)(r9.A,{span:18,children:A?(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetAssetDetails,body:{assetPath:A},children:e=>(0,o.jsx)(aU,{asset:e.asset,chunks:e.chunks,modules:e.modules,height:600,moduleSizeLimit:a,root:s})}):(0,o.jsx)(r_.A,{bodyStyle:{height:600},children:(0,o.jsx)(rz.A,{description:(0,o.jsx)(rT.A.Text,{strong:!0,children:"Click the file path on the left to show the modules of the asset"})})})})]}):(0,o.jsx)(rz.A,{})})})]})})]}),k]})},om=ig({api:X.SDK.ServerAPI.API.GetProjectInfo,responsePropName:"project",Component:e=>{let{root:t,errors:s}=e.project;return(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetAssetsSummary,body:{withFileContent:!0},children:e=>(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetEntryPoints,children:n=>(0,o.jsx)(op,{cwd:t,errors:s,summary:e,entryPoints:n})})})}}),of="BundleSize",ox=X.Client.RsdoctorClientRoutes.BundleSize,og=()=>(0,o.jsx)(r7.A,{children:(0,o.jsx)(r9.A,{span:24,style:{marginBottom:x.BasePadding},children:(0,o.jsx)(om,{})})});var oj=s(3124),oy=s(25659);let ov=e=>{let{style:t,onChange:s,loaderNames:n}=e,[r,i]=(0,w.useState)([]);return(0,o.jsxs)(ll.A.Group,{compact:!0,style:t,children:[(0,o.jsxs)(rH.Ay,{style:{width:120},children:[(0,o.jsx)(oj.A,{}),(0,o.jsx)(rT.A.Text,{children:"Loaders"})]}),(0,o.jsx)(lh.A,{mode:"multiple",allowClear:!0,defaultValue:r,className:"loader-select",style:{width:300},popupMatchSelectWidth:300,placeholder:"select loaders",onChange:e=>{i(e),s(e)},children:n.map(e=>(0,o.jsx)(lh.A.Option,{label:e,value:e,children:e},e))})]})},oA=e=>{let{onChange:t,layers:s}=e,[n,r]=(0,w.useState)("");return(0,o.jsxs)(ll.A.Group,{compact:!0,children:[(0,o.jsxs)(rH.Ay,{style:{width:120},children:[(0,o.jsx)(oj.A,{}),(0,o.jsx)(rT.A.Text,{children:"Layers"})]}),(0,o.jsx)(lh.A,{allowClear:!0,className:"layer-select",style:{width:150},defaultValue:n,placeholder:"select layer",onChange:e=>{r(e),t(e)},children:(null==s?void 0:s.length)?null==s?void 0:s.map(e=>(0,o.jsx)(lh.A.Option,{label:e,value:e,children:e},e)):(0,o.jsx)(o.Fragment,{})})]})},ob=e=>{let{onChange:t,loaderNames:s}=e,[n,r]=(0,w.useState)([]),[i,l]=(0,w.useState)(""),[a,d]=(0,w.useState)("");return(0,w.useEffect)(()=>{t({loaders:n,filename:i,layer:a})},[n,i,a]),(0,o.jsxs)(r7.A,{style:{marginBottom:x.BasePadding,marginLeft:10},children:[(0,o.jsx)(r9.A,{children:(0,o.jsx)(ov,{loaderNames:s,style:{marginRight:x.BasePadding},onChange:e=>{r(e)}})}),(0,o.jsx)(r9.A,{children:(0,o.jsx)(la,{icon:(0,o.jsx)(oy.A,{}),style:{marginRight:x.BasePadding},label:"Filename",placeholder:"search filename by keyword",onChange:e=>{l(e)}})}),(0,o.jsx)(r9.A,{children:(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetLayers,children:e=>e.length?(0,o.jsx)(oA,{layers:e,onChange:e=>{d(e)}}):(0,o.jsx)(o.Fragment,{})})})]})},oS=0,ow=0,oC=e=>{let{loaders:t,cwd:s}=e,{isDark:n}=rj(),r=(0,w.useRef)(null),[i,l]=(0,w.useState)([]),a=function(e,t){let[s,n]=(0,w.useState)(e);return(0,w.useEffect)(()=>{let t=setTimeout(()=>n(e),200);return()=>clearTimeout(t)},[e,200]),s}(i,200),d=(0,w.useMemo)(()=>(0,E.A)(t,e=>e.loader),[t]),c=(0,w.useCallback)(e=>{let{name:n,data:r}=e,i=n.replace(" total","");if(null==r?void 0:r.ext){var l;return l=r.ext,`
  <div class="loader-tooltip-container">
    <div class="loader-tooltip-title">${l.loader}</div>
    <li class="loader-tooltip-item">
      <span>isPitch</span>
      <span>${l.isPitch}</span>
    </li>
    ${l.layer&&"undefined"!==l.layer?`<li class="loader-tooltip-item">
        <span>layer</span>
        <span>${l.layer}</span>
      </li>`:""}
    <li class="loader-tooltip-item">
      <span>duration</span>
      <span class="loader-tooltip-text-bold">${rw(l.costs)}</span>
    </li>
    <li class="loader-tooltip-item">
      <span>filepath</span>
      <span>${l.resource}</span>
    </li>
    <li class="loader-tooltip-item">
      <span>start</span>
      <span class="loader-tooltip-text-bold">${N()(l.startAt).format("YYYY/MM/DD HH:mm:ss")}</span>
    </li>
    <li class="loader-tooltip-item">
      <span>end</span>
      <span class="loader-tooltip-text-bold">${N()(l.endAt).format("YYYY/MM/DD HH:mm:ss")}</span>
    </li>
  </div>
  `.trim()}return function(e,t,s){let n=t=>t.loader===e,r=t.filter(n),i=r.map(e=>e.resource),l=i.filter(e=>e.includes("/node_modules/")),a=i.filter(e=>!e.startsWith(s)),o=(0,lW.A)(r,e=>e.startAt).startAt,d=(0,lH.A)(r,e=>e.endAt).endAt,c=ey.getLoadersCosts(n,t);return`
<div class="loader-tooltip-container">
  <div class="loader-tooltip-title">${e}</div>
  <li class="loader-tooltip-item">
    <span>files</span>
    <span class="loader-tooltip-text-bold">${i.length}</span>
  </li>
  <li class="loader-tooltip-item">
    <span>files(node_modules)</span>
    <span class="loader-tooltip-text-bold">${l.length}</span>
  </li>
  <li class="loader-tooltip-item">
    <span>files(outside the cwd)</span>
    <span class="loader-tooltip-text-bold">${a.length}</span>
  </li>
  <li class="loader-tooltip-item">
    <span>duration(estimated)</span>
    <span class="loader-tooltip-text-bold">${rw(c)}</span>
  </li>
  <li class="loader-tooltip-item">
    <span>start(min)</span>
    <span>${N()(o).format("YYYY/MM/DD HH:mm:ss")}</span>
  </li>
  <li class="loader-tooltip-item">
    <span>end(max)</span>
    <span>${N()(d).format("YYYY/MM/DD HH:mm:ss")}</span>
  </li>
  </div>
    `.trim()}(i,t,s)},[]);return(0,w.useEffect)(()=>{l(Object.keys(d).map(e=>{let t=d[e]||[],{start:n,end:r}=nt(t);return(n<oS||0===oS)&&(oS=n),(r>ow||0===ow)&&(ow=r),{p:e,n:e,s:n,e:r,c:t.map(t=>({p:e,n:sZ(t.resource,s),s:t.startAt,e:t.endAt,ext:t}))}}))},[d]),(0,o.jsx)(o.Fragment,{children:(null==i?void 0:i.length)?(0,o.jsx)("div",{className:["loader-chart-container",n?"loader-chart-container_dark":""].join(" ").trim(),ref:r,style:{width:"100%"},children:(0,o.jsx)(G,{loaderData:a,formatterFn:c,chartType:T.Loader,exts:{startTimestamp:oS,endTimestamp:ow}})}):(0,o.jsx)(rz.A,{})})},oM=ig({api:X.SDK.ServerAPI.API.GetProjectInfo,responsePropName:"project",Component:e=>{let{project:t}=e,{root:s}=t,[n,r]=(0,w.useState)({filename:"",loaders:[],layer:""}),[i,l]=(0,w.useState)(0);return(0,o.jsxs)(sN.A,{direction:"vertical",style:{width:"100%"},children:[(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetLoaderNames,children:e=>(0,o.jsx)(ob,{onChange:r,loaderNames:e})}),(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetLoaderChartData,children:e=>{let t=e.filter(e=>nn(e.resource,e.loader,n.filename,n.loaders,e.layer,null==n?void 0:n.layer));return 0===i?(0,o.jsx)(oC,{loaders:t,cwd:s}):(0,o.jsx)(o.Fragment,{})}})]})}});var ok=s(58359),oD=s(2083);let oP=X.Client.RsdoctorClientRoutes.WebpackLoaderOverall,oz=()=>{let{t:e}=(0,s5.B)();return(0,o.jsx)(rW,{title:(0,o.jsxs)(ok.Space,{align:"baseline",children:[(0,o.jsx)(ok.Typography.Title,{level:5,style:{margin:0},children:"Loader Timeline"}),(0,o.jsx)(ok.Popover,{content:(0,o.jsxs)("div",{children:[e("AsyncLoaderInfo"),(0,o.jsx)("a",{href:"https://rsdoctor.rs/guide/more/faq#cssextractrspackplugin-%E7%9A%84-loader-%E8%80%97%E6%97%B6%E8%BF%87%E9%95%BF%E9%97%AE%E9%A2%98",target:"_blank",rel:"noreferrer",children:e("Details")})]}),title:"Info",children:(0,o.jsx)(ok.Tag,{icon:(0,o.jsx)(oD.A,{}),color:"warning",children:"Info"})})]}),extra:(0,o.jsx)(at,{defaultKeys:["module"]}),children:(0,o.jsx)(oM,{})})};var oI=s(9136);let oN=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:10,height:12,fill:"none",viewBox:"0 0 10 12",...e,children:[(0,o.jsx)("path",{fill:"#FAAD14",fillRule:"evenodd",d:"M3.151 7.98h-1.85a.925.925 0 0 1-.924-.925V1.508c0-.511.414-.925.925-.925h7.396c.511 0 .925.414.925.925v5.547c0 .51-.414.924-.925.924H6.85V6.13a1.85 1.85 0 0 0-3.698 0z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#FAAD14",d:"M4.076 9.829a.925.925 0 0 0 1.849 0V6.13a.925.925 0 0 0-1.85 0z"}),(0,o.jsx)("path",{fill:"#FAAD14",d:"M5 11.416 7.402 8.92H2.598z"})]}),oE=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",...e,children:[(0,o.jsx)("rect",{width:16,height:16,fill:"#F6FFED",rx:2}),(0,o.jsx)("path",{fill:"#52C41A",fillRule:"evenodd",d:"M4.302 6.02a.925.925 0 0 0-.925.925v5.547c0 .51.414.925.925.925h7.396c.511 0 .925-.414.925-.925V6.945a.925.925 0 0 0-.925-.925zm5.547 0H6.151v1.85a1.85 1.85 0 0 0 3.698 0z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#52C41A",d:"M7.076 4.171a.925.925 0 0 1 1.849 0V7.87a.925.925 0 0 1-1.85 0z"}),(0,o.jsx)("path",{fill:"#52C41A",d:"m8 2.584 2.402 2.496H5.598z"})]}),o_=e=>(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:14,height:14,fill:"none",viewBox:"0 0 14 14",...e,children:(0,o.jsx)("path",{fill:"#2994FF",d:"M7 10.736 1.7 6.589a.125.125 0 0 0-.201.098v1.208c0 .077.036.15.095.197l5.097 3.989a.5.5 0 0 0 .617 0l5.095-3.99a.25.25 0 0 0 .096-.196V6.687a.125.125 0 0 0-.202-.098zm0-4.75L1.7 1.839a.125.125 0 0 0-.201.098v1.208c0 .077.036.15.095.197L6.692 7.33a.5.5 0 0 0 .617 0l5.095-3.99a.25.25 0 0 0 .096-.196V1.937a.125.125 0 0 0-.202-.098z"})}),oT=+Date.now().toString().slice(-4)+1e3,oR=e=>{let{cwd:t,url:s,loc:n,windowId:r=oT,label:i,disabled:l,code:a=!1}=e,d=ea().resolve(t,function(e){let t=e.split(" "),s="";return 1===t.length?[s]=t:[s]=t.filter(e=>ea().isAbsolute(e)||e.startsWith("./")),s||e}(s)),{line:c,columnStart:u}=function(e){if(!e)return{line:1,column:1};let[t,s=""]=e.split(":"),[n=1,r]=s.split("-");return{line:t,columnStart:n,columnEnd:r||n}}(n);return(0,o.jsxs)("span",{style:{wordBreak:"break-all"},children:[(0,o.jsx)(rT.A.Text,{copyable:{text:d},children:(0,o.jsxs)(rT.A.Text,{code:a,onClick:()=>{l||function(e){let{file:t,line:s=1,column:n=1,windowId:r}=e,i={windowId:r},l=Object.keys(i).map(e=>{let t=i[e];return eP.isNil(t)||""===t?null:`${e}=${t}`}).filter(Boolean).join("&"),a=`vscode://file/${t}:${s}:${n}`;l&&(a+=`?${l}`),window.open(a)}({file:d,line:c,column:u,windowId:r})},style:{cursor:l?"revert":"pointer"},children:[i||sv(s),n?`:${n}`:""]})}),(0,o.jsx)("div",{style:{display:"inline-block"}})]})},oO={loaderAnalysis:"loaderAnalysis-h6mG3n",dividerDiv:"dividerDiv-hrfVKQ",divider:"divider-hnPRxv",box:"box-lFdvrG",keyword:"keyword-UO64w1",textBox:"textBox-sVZZ_A",text:"text-omPvlh",space:"space-qT5CaN",executions:"executions-uZxmQC",timeline:"timeline-wMFXyU",loader:"loader-PHR4ca",selected:"selected-wUMOH3"},oB=e=>{let{loader:t,resource:s,cwd:n}=e;return(0,o.jsx)(rW,{title:"Loader Details",style:{border:"none"},extra:(0,o.jsx)(rP.A,{icon:(0,o.jsx)(oI.A,{}),color:"default",children:N()(t.startAt).format("YYYY-MM-DD HH:mm:ss")}),children:(0,o.jsxs)(sN.A,{direction:"vertical",style:{width:"100%"},children:[t.isPitch?(0,o.jsx)(rT.A.Text,{code:!0,children:"pitch"}):null,(0,o.jsxs)(a7.A,{size:"large",bordered:!0,children:[(0,o.jsxs)(a7.A.Item,{children:[(0,o.jsx)(rT.A.Text,{strong:!0,children:"File Path"}),(0,o.jsx)("div",{children:sZ(s.path,n)})]}),(0,o.jsxs)(a7.A.Item,{children:[(0,o.jsx)(rT.A.Text,{strong:!0,children:"Resource Path"}),(0,o.jsx)(oR,{cwd:n,url:s.path,loc:"",disabled:!0})]}),(0,o.jsxs)(a7.A.Item,{children:[(0,o.jsx)(rT.A.Text,{strong:!0,children:"Resource Query"}),(0,o.jsx)("div",{children:s.queryRaw||"-"})]}),(0,o.jsxs)(a7.A.Item,{children:[(0,o.jsx)(rT.A.Text,{strong:!0,children:"Duration"}),(0,o.jsx)("div",{children:rw(t.costs)})]}),(0,o.jsxs)(a7.A.Item,{children:[(0,o.jsx)(rT.A.Text,{strong:!0,children:"Loader"}),(0,o.jsx)("div",{children:(0,o.jsx)(rT.A.Text,{code:!0,children:t.loader})})]}),(0,o.jsxs)(a7.A.Item,{children:[(0,o.jsx)(rT.A.Text,{strong:!0,children:"Loader Index"}),(0,o.jsx)("div",{children:`${t.loaderIndex}`})]}),(0,o.jsxs)(a7.A.Item,{children:[(0,o.jsx)(rT.A.Text,{strong:!0,children:"Loader Path"}),(0,o.jsx)(oR,{cwd:n,url:t.path,loc:"",disabled:!0})]}),(0,o.jsxs)(a7.A.Item,{children:[(0,o.jsx)("div",{style:{width:180},children:(0,o.jsx)(rT.A.Text,{strong:!0,children:"Options"})}),(0,o.jsx)(r5.A,{type:"vertical"}),(0,o.jsx)(rT.A.Paragraph,{ellipsis:{rows:2,expandable:!0,symbol:"more"},copyable:!0,children:JSON.stringify(t.options||"-")})]})]})]})})},oL=e=>{let{data:t,cwd:s,index:n}=e,{loaders:r,resource:i}=t,[l,a]=(0,w.useState)(n||0),{theme:d}=rj(),c="light"===d,u=r[l],h=u.input||"",p=u.errors&&u.errors.length,[m,f]=(0,w.useState)("loaderDetails"),g=(0,w.useCallback)(e=>{f(e)},[]);return(0,o.jsxs)(r7.A,{className:oO.executions,style:{height:"100%"},children:[(0,o.jsx)(r9.A,{span:5,style:{borderRight:c?"1px solid #f0f0f0":void 0,padding:x.BasePadding},children:(0,o.jsxs)(sN.A,{direction:"vertical",style:{width:"100%"},children:[(0,o.jsx)(io,{text:"Executions"}),(0,o.jsx)(ie.A,{mode:"left",style:{marginTop:x.BasePadding},children:r.map((e,t,s)=>{var n;let{loader:r,isPitch:i}=e,d=rw(e.costs);return(0,o.jsxs)(ie.A.Item,{dot:i?(0,o.jsx)(rP.A,{style:{marginLeft:1,fontWeight:500},children:"pitch"}):(0,o.jsx)(oI.A,{}),style:{paddingBottom:10,textAlign:"center"},children:[(0,o.jsx)(r7.A,{align:"middle",justify:"space-between",gutter:[0,10],children:(0,o.jsx)(r9.A,{span:24,className:oO.timeline,children:(0,o.jsx)(rR.A,{title:r,trigger:"hover",children:(0,o.jsxs)("div",{className:`${oO.box} ${l===t?oO.selected:""}`,onClick:()=>{a(t)},style:{textAlign:"left"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(rT.A.Text,{style:{color:"#000"},children:null==(n=d.match(/[0-9]*\.?[0-9]+/g))?void 0:n[0]})," ",(0,o.jsx)(rT.A.Text,{style:{color:"rgba(0,0,0,0.45)"},children:d.match(/[a-zA-Z]+/g)})]}),(0,o.jsx)(rT.A.Text,{style:{color:"rgba(0,0,0,0.65)"},className:oO.loader,children:r})]})})})}),t===s.length-1?null:(0,o.jsx)("div",{style:{paddingTop:10},children:(0,o.jsx)(o_,{})})]},t)})})]})}),(0,o.jsx)(r9.A,{span:19,style:{height:"100%"},children:(0,o.jsx)(rI.A,{type:"card",defaultActiveKey:"loaderDetails",activeKey:m,items:[{label:"Loader Props",key:"loaderProps",children:(0,o.jsx)(oB,{loader:u,resource:i,cwd:s})},{label:"Loader Details",key:"loaderDetails",children:(0,o.jsx)("div",{style:{height:"100%"},children:p?(0,o.jsxs)(r9.A,{span:24,style:{height:"53%",minHeight:400},children:[(0,o.jsx)("div",{style:{padding:x.BasePadding,borderTop:`1px solid ${c?"#f0f0f0":"rgba(253, 253, 253, 0.12)"}`,borderBottom:`1px solid ${c?"#f0f0f0":"rgba(253, 253, 253, 0.12)"}`},children:(0,o.jsx)(io,{text:`the error stack of [${u.loader}] ${u.isPitch?"pitch":""}`})}),(0,o.jsx)("div",{style:{height:"90%"},children:(0,o.jsx)(ln,{code:u.errors[0].message,lang:"javascript"})})]}):(0,o.jsxs)(r9.A,{span:24,style:{height:"53%",minHeight:400},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:x.BasePadding,borderBottom:`1px solid ${c?"#f0f0f0":"rgba(253, 253, 253, 0.12)"}`},children:[(0,o.jsx)(io,{text:(0,o.jsxs)(o.Fragment,{children:[`the result of [${u.loader}] ${u.isPitch?"pitch":""}`,!u.isPitch&&(0,o.jsxs)("span",{style:{fontWeight:400},children:["(",(0,o.jsx)(oN,{style:{verticalAlign:"middle",margin:"0 2px"}}),"Input ⟷",(0,o.jsx)(oE,{style:{verticalAlign:"middle",position:"relative",top:-2}}),"Output)"]})]})}),(0,o.jsx)("div",{style:{flex:1}})]}),u.isPitch?u.result?(0,o.jsx)("div",{style:{height:"90%"},children:(0,o.jsx)(ln,{isEmbed:!0,code:u.result,filePath:i.path})}):(0,o.jsx)(rz.A,{description:"No loader result. If you use the Brief Mode, there will not have loader results."}):(0,o.jsx)("div",{style:{minHeight:"700px"},children:(0,o.jsx)("div",{style:{height:"40rem",overflow:"hidden"},children:u.result||h?(0,o.jsx)(li,{isEmbed:!0,original:h,modified:u.result||"",originalFilePath:i.path,modifiedFilePath:i.path}):(0,o.jsx)(rz.A,{description:"No loader result. If you use the Brief Mode, there will not have loader results."})})})]})})}],onChange:g})})]})},oF=e=>{let{cwd:t,filetree:s}=e,[n,r]=(0,w.useState)(!1),[i,l]=(0,w.useState)(""),[a,d]=(0,w.useState)(0),[c,u]=(0,w.useState)(null),h=(0,w.useMemo)(()=>s.filter(t=>t.loaders.some(s=>nn(t.path,s.loader,e.filename,e.loaders,t.layer,null==e?void 0:e.layer))),[e.filename,e.loaders,e.layer]),p="__RESOURCEPATH__",m=(0,w.useMemo)(()=>sY({files:h.map(e=>e.path),cwd:t,fileTitle(e,t){let{loaders:n,layer:i}=s.find(t=>t.path===e),a=[];return n.forEach((e,t)=>t>3&&a.push(e)),(0,o.jsxs)("div",{style:{wordBreak:"break-all",display:"flex",cursor:"pointer"},onClick:()=>{d(0),l(e),r(!0)},children:[(0,o.jsx)("div",{className:oO.box,children:(0,o.jsx)("div",{className:oO.keywords,children:(0,o.jsx)(au,{text:t.replace(/\[.*?\]/g,""),keyword:""})})}),(0,o.jsx)("div",{className:oO.dividerDiv,style:{flex:1},children:(0,o.jsx)(r5.A,{className:oO.divider,dashed:!0})}),i&&(0,o.jsx)(rP.A,{color:"cyan",bordered:!1,children:i}),(0,o.jsxs)(sN.A,{children:[n.slice(0,3).map((t,s)=>{let n=t.errors&&t.errors.length,i=`${e}_${t.loader}_${s}`;if(s<=3){var a;return(0,o.jsx)(rR.A,{title:t.path,children:(0,o.jsxs)(rT.A.Text,{className:oO.textBox,style:{color:n?"#f50":"inherit"},onClick:t=>{t.stopPropagation(),l(e),d(s),r(!0)},children:[(0,o.jsx)(rT.A.Text,{className:oO.text,ellipsis:!0,children:(null==(a=t.loader.match(/([^/]+-loader)/g))?void 0:a[0])||t.loader}),(0,o.jsx)(r5.A,{type:"vertical"}),n?(0,o.jsx)(iY.A,{}):(0,o.jsx)(rT.A.Text,{className:oO.text,children:rw(t.costs)})]})},i)}}),(null==a?void 0:a.length)?(0,o.jsx)(ad.A,{content:(0,o.jsx)(a7.A,{dataSource:a,renderItem:(t,s)=>{var n;let i=t.errors&&t.errors.length,a=`${e}_${t.loader}_${s+3}`;return(0,o.jsx)(a7.A.Item,{children:(0,o.jsx)(rR.A,{title:t.path,children:(0,o.jsx)("div",{style:{paddingBottom:5},children:(0,o.jsxs)(rT.A.Text,{className:oO.textBox,style:{color:i?"#f50":"inherit"},onClick:t=>{t.stopPropagation(),l(e),d(s),r(!0)},children:[(0,o.jsx)(rT.A.Text,{className:oO.text,ellipsis:!0,children:(null==(n=t.loader.match(/([^/]+-loader)/g))?void 0:n[0])||t.loader}),(0,o.jsx)(r5.A,{type:"vertical"}),(0,o.jsx)(rT.A.Text,{className:oO.text,children:rw(t.costs)})]})})},a)})}}),children:(0,o.jsx)("div",{className:oO.textBox,children:(0,o.jsx)(rT.A.Text,{children:"\xb7\xb7\xb7"})})}):(0,o.jsx)(o.Fragment,{})]})]})},dirTitle:(e,t)=>(0,o.jsx)("div",{style:{display:"flex",cursor:"pointer"},children:(0,o.jsx)(au,{text:t,keyword:""})})}),[h]);return(0,o.jsxs)(r7.A,{style:{width:"100%",marginLeft:0},gutter:x.BasePadding,children:[(0,o.jsx)(r9.A,{span:24,children:(0,o.jsxs)(r_.A,{title:(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rT.A.Text,{strong:!0,children:"Files"}),(0,o.jsxs)(rT.A.Text,{style:{fontSize:12,fontWeight:400,color:"#1C1F2399",opacity:.6},children:["Total Files: ",h.length]})]}),bodyStyle:{overflow:"auto",maxHeight:800,minHeight:"40rem",padding:14},children:[(0,o.jsx)(sq,{defaultExpandedKeys:sV(m,h.length>=100?3:4,e=>!((0,sl.A)(e,p).indexOf("/node_modules/")>-1)),treeData:m,onSelect:(e,t)=>{t.node.isLeaf||u(t.node)},selectedKeys:c?[c.key]:void 0,expandAction:"click"},`${e.loaders.join("|")}_${e.filename}`),(0,o.jsx)(r3.A,{open:n,onClose:()=>r(!1),maskClosable:!0,width:j,zIndex:999,bodyStyle:{padding:0},children:n?(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetLoaderFileDetails,body:{path:i},children:e=>(0,o.jsx)(oL,{data:e,cwd:t,index:a})}):null})]})}),(0,o.jsx)(r3.A,{open:!!c,onClose:()=>u(null),maskClosable:!0,width:j,zIndex:999,bodyStyle:{padding:0},children:c&&(0,o.jsx)(r7.A,{children:(0,o.jsx)(r9.A,{span:24,children:(0,o.jsx)(r_.A,{title:(0,o.jsx)(rR.A,{title:w.cloneElement(c.title,{style:{color:"#fff"}}),children:(0,o.jsxs)(rT.A.Text,{children:["Statistics of",c.title]})}),children:(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetLoaderFolderStatistics,body:{folder:c[p]},children:e=>(0,o.jsx)(lQ.A,{style:{width:"100%",maxHeight:800,height:"40rem",overflowY:"scroll",wordBreak:"break-all"},pagination:!1,bordered:!0,rowKey:e=>e.loader,columns:[{title:"Loader Name",dataIndex:"loader"},{title:"Files",dataIndex:"files"},{title:"Total Duration",dataIndex:"costs",render:e=>(0,o.jsx)(rT.A.Text,{strong:!0,children:rw(e)}),sorter:(e,t)=>e.costs-t.costs,defaultSortOrder:"descend",sortDirections:["descend","ascend"]}],dataSource:e})})})})})})]})},o$=ig({api:X.SDK.ServerAPI.API.LoadDataByKey,body:{key:"root"},responsePropName:"cwd",Component:e=>{let{cwd:t}=e,[s,n]=(0,w.useState)({filename:"",loaders:[],layer:""});return(0,o.jsx)(rg.Consumer,{children:e=>(0,o.jsx)(iU.Ay,{locale:nl(e.locale),theme:{token:{padding:16,fontSize:14}},children:(0,o.jsxs)("div",{className:oO.loaderAnalysis,children:[(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetLoaderNames,children:e=>(0,o.jsx)(ob,{onChange:e=>n(e),loaderNames:e})}),(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetLoaderFileTree,children:e=>(0,o.jsx)(oF,{filename:s.filename,filetree:e,loaders:s.loaders,layer:s.layer,cwd:t})})]})})})}}),oG=X.Client.RsdoctorClientRoutes.WebpackLoaderAnalysis,{useToken:oK}=sO.A,oW=()=>{let{token:e}=oK();return(0,o.jsx)(rW,{title:(0,o.jsxs)(sN.A,{align:"baseline",children:[(0,o.jsx)(rT.A.Title,{level:5,style:{margin:0},children:"Loader Analysis"}),(0,o.jsx)(ad.A,{content:(0,o.jsxs)("div",{children:[(0,d.t)("AsyncLoaderInfo"),(0,o.jsx)("a",{href:"https://rsdoctor.rs/guide/more/faq#cssextractrspackplugin-%E7%9A%84-loader-%E8%80%97%E6%97%B6%E8%BF%87%E9%95%BF%E9%97%AE%E9%A2%98",target:"_blank",rel:"noreferrer",children:(0,d.t)("Details")})]}),title:"Info",children:(0,o.jsx)(rP.A,{icon:(0,o.jsx)(oD.A,{}),color:"warning",children:"Info"})})]}),extra:(0,o.jsx)(at,{defaultKeys:["module","resolve"]}),bodyStyle:{paddingTop:e.padding,height:800},children:(0,o.jsx)(o$,{})})};var oH=s(29398),oq=s(74522);let oU=X.Client.RsdoctorClientRoutes.WebpackPlugins,oV=()=>{let[e,t]=(0,w.useState)([]),[s,n]=(0,w.useState)([]);return(0,o.jsx)("div",{children:(0,o.jsx)(r_.A,{title:"Plugins Overall",bodyStyle:{paddingTop:x.BasePadding/3},extra:(0,o.jsx)(at,{defaultKeys:["plugins"]}),children:(0,o.jsxs)(sN.A,{direction:"vertical",style:{width:"100%",padding:"0 30px"},children:[(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetPluginSummary,children:e=>{let{hooks:s,tapNames:r}=e;return(0,o.jsxs)(sN.A,{style:{marginBottom:x.BasePadding/2},children:[(0,o.jsxs)(ll.A.Group,{compact:!0,children:[(0,o.jsxs)(rH.Ay,{children:[(0,o.jsx)(oH.A,{}),(0,o.jsx)(rT.A.Text,{children:"Plugin Tap Names"})]}),(0,o.jsx)(lh.A,{mode:"multiple",allowClear:!0,className:"plugin-select",style:{width:300},popupMatchSelectWidth:!0,onChange:e=>{t(e)},children:r.map(e=>(0,o.jsx)(lh.A.Option,{label:e,value:e,children:e},e))})]}),(0,o.jsxs)(ll.A.Group,{compact:!0,children:[(0,o.jsxs)(rH.Ay,{children:[(0,o.jsx)(oq.A,{}),(0,o.jsx)(rT.A.Text,{children:"Hooks"})]}),(0,o.jsx)(lh.A,{mode:"multiple",allowClear:!0,className:"plugin-select",style:{width:300},popupMatchSelectWidth:!0,onChange:e=>{n(e)},children:s.map(e=>(0,o.jsx)(lh.A.Option,{label:e,value:e,children:e},e))})]})]})}}),(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetPluginData,body:{hooks:s,tapNames:e},children:e=>(0,o.jsx)(lX,{dataSource:e})})]})})})};var oJ=s(55007),oY=s(35234);let oZ=e=>{let{filepath:t,before:s,after:n,resolvers:r}=e,[i,l]=(0,w.useState)(!1);return(0,o.jsxs)(w.Fragment,{children:[(0,o.jsx)(r9.A,{flex:1,children:(0,o.jsx)(r_.A,{title:"Resolve Diff Viewer",styles:{body:{padding:0,overflow:"hidden"}},children:(0,o.jsx)(li,{style:{height:785},isEmbed:!0,originalFilePath:t,modifiedFilePath:t,original:s,modified:n})})}),(0,o.jsx)(r9.A,{span:i?2:7,children:(0,o.jsx)(r_.A,{title:i?"...":"Resolve Details",extra:(0,o.jsx)(rH.Ay,{onClick:()=>l(!i),size:"small",icon:i?(0,o.jsx)(oJ.A,{}):(0,o.jsx)(oY.A,{})}),style:i?{width:80}:void 0,children:i?null:(0,o.jsx)(lQ.A,{style:{width:"100%",height:735,overflowY:"scroll",wordBreak:"break-all"},size:"small",pagination:!1,bordered:!0,rowKey:e=>e.request,columns:[{title:"Source Code",width:200,render:(e,t)=>(0,o.jsx)(rT.A.Text,{copyable:!0,children:(0,o.jsx)(rT.A.Text,{code:!0,strong:!0,children:t.request})})},{title:"Duration",width:80,render:(e,t)=>(0,o.jsx)(rT.A.Text,{strong:!0,children:rw(t.costs)}),sorter:(e,t)=>e.costs-t.costs,sortDirections:["descend","ascend"]},{title:"Resolve Result",render:(e,t)=>eA.isResolveSuccessData(t)?(0,o.jsx)(rT.A.Text,{copyable:!0,children:t.result}):(0,o.jsx)(iY.A,{style:{color:"#f50"}})}],dataSource:r})})})]})},oQ=e=>{let{resolver:t,cwd:s}=e,[n,r]=(0,w.useState)(""),i="/node_modules/",l=(0,w.useMemo)(()=>t.map(e=>e.issuerPath).filter(Boolean),[t]),a=(0,w.useMemo)(()=>l.filter(t=>!e.filename||t.indexOf(e.filename)>-1),[e.filename,l]),d=a.length&&a.every(e=>e.indexOf(i)>-1),c=(0,w.useMemo)(()=>sY({files:a.length?a:l,cwd:s,fileTitle:(e,t)=>(0,o.jsx)("div",{onClick:()=>r(e),children:t})}),[e.filename]);return(0,o.jsxs)(r7.A,{justify:"start",align:"top",wrap:!1,gutter:x.BasePadding,children:[(0,o.jsx)(r9.A,{span:7,children:(0,o.jsx)(r_.A,{title:"Files",children:(0,o.jsx)(sq,{style:{width:"100%",height:735,overflow:"scroll"},treeData:c,defaultExpandedKeys:sV(c,d?1:4,d?void 0:e=>{let t=(0,sl.A)(e,"__RESOURCEPATH__").indexOf(i)>-1;return!!(a.length&&a.every(e=>e.indexOf(i)>-1))||!t})},`tree_${e.filename}`)})}),n&&(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetResolverFileDetails,body:{filepath:n},children:e=>(0,o.jsx)(oZ,{...e})})]})},oX=ig({api:X.SDK.ServerAPI.API.GetProjectInfo,responsePropName:"project",Component:e=>{let{project:t}=e,{root:s}=t,[n,r]=(0,w.useState)("");return(0,o.jsxs)("div",{style:{width:"100%"},children:[(0,o.jsx)(sN.A,{style:{marginTop:x.BasePadding,marginBottom:x.BasePadding},children:(0,o.jsx)(la,{icon:(0,o.jsx)(oy.A,{}),label:"Filename",placeholder:"search filename by keyword",onChange:e=>r(e)})}),(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetResolverFileTree,children:e=>(0,o.jsx)(oQ,{filename:n,resolver:e,cwd:s})})]})}}),o0=X.Client.RsdoctorClientRoutes.ModuleResolve,o1=()=>(0,o.jsx)("div",{children:(0,o.jsx)(r_.A,{title:"Webpack Resolver Analysis",extra:(0,o.jsx)(at,{defaultKeys:["resolve","resolveLoader"]}),bodyStyle:{paddingTop:0},children:(0,o.jsx)(oX,{})})});var o5=s(75418);let o2=X.Client.RsdoctorClientRoutes.RuleIndex,o4=()=>{let e=s7()[X.Rule.RsdoctorRuleClientConstant.UrlQueryForErrorCode]||"",[t,s]=(0,w.useState)(X.Rule.RuleErrorMap[e]),n=Object.values(X.Rule.RuleErrorMap);return(0,w.useEffect)(()=>{window.scrollTo({top:0})},[]),(0,o.jsxs)(r7.A,{gutter:x.BasePadding/2,children:[(0,o.jsx)(r9.A,{span:8,children:(0,o.jsx)(r_.A,{title:(0,o.jsx)(io,{text:"list of the error codes."}),bordered:!0,children:(0,o.jsx)(sN.A,{direction:"vertical",children:n.map((e,n)=>(0,o.jsxs)(sN.A,{style:{marginTop:0===n?0:x.BasePadding/2,cursor:"pointer"},onClick:()=>s(e),align:"center",children:[(0,o.jsx)(iJ.A,{status:"default"}),(0,o.jsx)(rT.A.Text,{code:!0,children:(0,o.jsx)("a",{children:e.code})}),(0,o.jsx)(rT.A.Text,{style:{color:t&&t.code===e.code?"#1890ff":void 0},children:e.title})]},e.code))})})}),(0,o.jsx)(r9.A,{span:16,children:t?(0,o.jsx)(r_.A,{title:(0,o.jsxs)(r7.A,{justify:"space-between",children:[(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rT.A.Text,{code:!0,children:t.code}),(0,o.jsx)(rT.A.Text,{children:t.title})]}),(0,o.jsx)("div",{children:(0,o.jsx)(rP.A,{children:t.category})})]}),bodyStyle:{paddingTop:0},bordered:!0,children:(0,o.jsx)(rT.A.Paragraph,{children:"markdown"===t.type?(0,o.jsx)(o5.oz,{children:t.description}):(0,o.jsx)(rT.A.Text,{children:t.description})})}):(0,o.jsx)(r_.A,{title:"This page lists all the error codes emitted by the Rsdoctor.",bordered:!0,children:(0,o.jsx)(rT.A.Text,{children:"click the error code in left bar to show more details."})})})]})};var o6=s(94019),o3=s(64080);function o7(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class o9{isEmpty(){return o9.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return o9.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber)&&!(t.lineNumber>e.endLineNumber)&&(t.lineNumber!==e.startLineNumber||!(t.column<e.startColumn))&&(t.lineNumber!==e.endLineNumber||!(t.column>e.endColumn))}static strictContainsPosition(e,t){return!(t.lineNumber<e.startLineNumber)&&!(t.lineNumber>e.endLineNumber)&&(t.lineNumber!==e.startLineNumber||!(t.column<=e.startColumn))&&(t.lineNumber!==e.endLineNumber||!(t.column>=e.endColumn))}containsRange(e){return o9.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber)&&!(t.endLineNumber<e.startLineNumber)&&!(t.startLineNumber>e.endLineNumber)&&!(t.endLineNumber>e.endLineNumber)&&(t.startLineNumber!==e.startLineNumber||!(t.startColumn<e.startColumn))&&(t.endLineNumber!==e.endLineNumber||!(t.endColumn>e.endColumn))}strictContainsRange(e){return o9.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber)&&!(t.endLineNumber<e.startLineNumber)&&!(t.startLineNumber>e.endLineNumber)&&!(t.endLineNumber>e.endLineNumber)&&(t.startLineNumber!==e.startLineNumber||!(t.startColumn<=e.startColumn))&&(t.endLineNumber!==e.endLineNumber||!(t.endColumn>=e.endColumn))}plusRange(e){return o9.plusRange(this,e)}static plusRange(e,t){let s,n,r,i;return t.startLineNumber<e.startLineNumber?(s=t.startLineNumber,n=t.startColumn):t.startLineNumber===e.startLineNumber?(s=t.startLineNumber,n=Math.min(t.startColumn,e.startColumn)):(s=e.startLineNumber,n=e.startColumn),t.endLineNumber>e.endLineNumber?(r=t.endLineNumber,i=t.endColumn):t.endLineNumber===e.endLineNumber?(r=t.endLineNumber,i=Math.max(t.endColumn,e.endColumn)):(r=e.endLineNumber,i=e.endColumn),new o9(s,n,r,i)}intersectRanges(e){return o9.intersectRanges(this,e)}static intersectRanges(e,t){let s=e.startLineNumber,n=e.startColumn,r=e.endLineNumber,i=e.endColumn,l=t.startLineNumber,a=t.startColumn,o=t.endLineNumber,d=t.endColumn;return(s<l?(s=l,n=a):s===l&&(n=Math.max(n,a)),r>o?(r=o,i=d):r===o&&(i=Math.min(i,d)),s>r||s===r&&n>i)?null:new o9(s,n,r,i)}equalsRange(e){return o9.equalsRange(this,e)}static equalsRange(e,t){return!e&&!t||!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return o9.getEndPosition(this)}static getEndPosition(e){return new o8(e.endLineNumber,e.endColumn)}getStartPosition(){return o9.getStartPosition(this)}static getStartPosition(e){return new o8(e.startLineNumber,e.startColumn)}toString(){return`[${this.startLineNumber},${this.startColumn} -> ${this.endLineNumber},${this.endColumn}]`}setEndPosition(e,t){return new o9(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new o9(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return o9.collapseToStart(this)}static collapseToStart(e){return new o9(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}collapseToEnd(){return o9.collapseToEnd(this)}static collapseToEnd(e){return new o9(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn)}delta(e){return new o9(this.startLineNumber+e,this.startColumn,this.endLineNumber+e,this.endColumn)}static fromPositions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return new o9(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new o9(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber)&&(e.endLineNumber!==t.startLineNumber||!(e.endColumn<t.startColumn))&&!(t.endLineNumber<e.startLineNumber)&&(t.endLineNumber!==e.startLineNumber||!(t.endColumn<e.startColumn))}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber)&&(e.endLineNumber!==t.startLineNumber||!(e.endColumn<=t.startColumn))&&!(t.endLineNumber<e.startLineNumber)&&(t.endLineNumber!==e.startLineNumber||!(t.endColumn<=e.startColumn))}static compareRangesUsingStarts(e,t){if(e&&t){let s=0|e.startLineNumber,n=0|t.startLineNumber;if(s===n){let s=0|e.startColumn,n=0|t.startColumn;if(s===n){let s=0|e.endLineNumber,n=0|t.endLineNumber;return s===n?(0|e.endColumn)-(0|t.endColumn):s-n}return s-n}return s-n}return!!e-!!t}static compareRangesUsingEnds(e,t){if(e.endLineNumber===t.endLineNumber)return e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn;return e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}toJSON(){return this}constructor(e,t,s,n){o7(this,"startLineNumber",void 0),o7(this,"startColumn",void 0),o7(this,"endLineNumber",void 0),o7(this,"endColumn",void 0),e>s||e===s&&t>n?(this.startLineNumber=s,this.startColumn=n,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=s,this.endColumn=n)}}class o8{with(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.lineNumber,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.column;return e===this.lineNumber&&t===this.column?this:new o8(e,t)}delta(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.with(this.lineNumber+e,this.column+t)}equals(e){return o8.equals(this,e)}static equals(e,t){return!e&&!t||!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return o8.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<t.column}isBeforeOrEqual(e){return o8.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<=t.column}static compare(e,t){let s=0|e.lineNumber,n=0|t.lineNumber;return s===n?(0|e.column)-(0|t.column):s-n}clone(){return new o8(this.lineNumber,this.column)}toString(){return`(${this.lineNumber},${this.column})`}static lift(e){return new o8(e.lineNumber,e.column)}static isIPosition(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}constructor(e,t){o7(this,"lineNumber",void 0),o7(this,"column",void 0),this.lineNumber=e,this.column=t}}var de=s(35730);let dt=i8();function ds(e){let{module:t,moduleGraph:s,ranges:n,toLine:r,setEditorData:i,source:l}=e,a=(0,w.useRef)(),d=(0,w.useRef)([]),c=(0,w.useRef)([]),u=(0,w.useRef)(),h=(0,w.useRef)(!1),[p,m]=(0,w.useState)("");return((0,w.useEffect)(()=>{let{isPreferSource:e}=t;h.current=!0,m(l.source||e?l.source:l.transformed),setTimeout(()=>{var e,n;c.current=(null==(n=a.current)||null==(e=n.getModel())?void 0:e.deltaDecorations(c.current,function(e,t){let s=t.getModuleGraphModule(e).getOwnExports(),n=s.map(e=>e.variable).filter(e=>!!e);if(0===s.length&&0===n.length)return[];let{isPreferSource:r}=e;return n.map(e=>{let t=r?e.identifier.position.source:e.identifier.position.transformed,s=t&&lt(t,o9);if(t&&s)return{range:s,options:{stickiness:1,inlineClassName:"tree-shaking-statement-declaration-identifier",isWholeLine:!1,showIfCollapsed:!0,hoverMessage:{supportHtml:!0,supportThemeIcons:!0,isTrusted:!0,value:function(e){let t=e.getExportInfo();if(!t)return"Can not find SideEffect info.";let s=t.getSideEffects();if(0===s.length)return"Have no sideEffect.";let n=`Used **${s.length}** times:

<div data-code="tree-shaking-hover">
<li>`;for(let e of s){var r,i;if(!e)continue;let{identifier:t,module:s}=e;if(!s)continue;let{id:l,isPreferSource:a}=s,o=t.getLineCode();n+=`
<ol>
      ${r=a?t.position.source:t.position.transformed,i=function(e,t){let{path:s,isPreferSource:n}=t,r=n?e.position.source.start:e.position.transformed.start,i=`:${r.line??1}:${r.column??0}`;return s.length<=30?`${s}${i}`:`...${s.substring(s.length-30)}${i}`}(t,s),`<a data-href="data-module=${l}&data-range=${encodeURIComponent(JSON.stringify(r))}">${i}</a>`}
      ${o?`<pre>${(0,o3.A)(o)}</pre>`:""}
      </ol>`}return n+"\n</li></div>"}(e)}}}}).filter(e=>!!e)}(t,s)))??[]},200)},[t,l]),(0,w.useEffect)(()=>{function e(){var e;let t=null==(e=a.current)?void 0:e.getModel();t&&(d.current=t.deltaDecorations(d.current,n.map(e=>({range:lt(e,o9),options:{stickiness:1,inlineClassName:"tree-shaking-statement-side-effect",isWholeLine:!1,showIfCollapsed:!0}}))),a.current&&"number"==typeof r&&u.current!==r&&(u.current=r,a.current.revealLine(r,0)))}h?setTimeout(e,300):e(),h.current=!1},[n,r]),(0,w.useEffect)(()=>{let e=e=>{let t=function(e){if("a"!==e.tagName.toLocaleLowerCase())return;let t=e.getAttribute("data-href")??"",s={module:-1,range:{start:{line:1,column:0},end:{line:1,column:0}}};for(let e of t.split("&")){let[t,n]=e.split("=");if("data-module"===t){s.module=Number.parseInt(n,10);continue}"data-range"===t&&(s.range=JSON.parse(decodeURIComponent(n)))}return s}(e.target);if(t){let e=s.getModuleById(t.module);e&&i(e,[t.range],t.range.start.line)}};return document.body.addEventListener("click",e),()=>{document.body.removeEventListener("click",e)}},[]),t)?(0,o.jsx)(r_.A,{title:(0,o.jsx)(rR.A,{title:t.path,children:(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rT.A.Text,{children:ea().basename(t.path)}),(0,o.jsx)(ii.A,{})]})}),className:"tree-shaking-editor",children:(0,o.jsx)(i6.Ay,{theme:"vs-dark",language:i7(t.path),value:p,loading:(0,o.jsx)(de.A,{style:{fontSize:30}}),options:dt,onMount:e=>{a.current=e}})}):(0,o.jsx)("div",{children:"请选择要查看的模块"})}function dn(){return(0,o.jsx)(r_.A,{title:"Tree Shaking Analysis",bodyStyle:{paddingTop:0},className:"tree-shaking-page",children:(0,o.jsx)(rz.A,{style:{marginTop:30}})})}var dr=s(57474),di=s.n(dr);function dl(e,t){if(!e)return(0,o.jsx)("div",{children:"Can not find declaration."});let{module:s}=e,n=s.isPreferSource?e.position.source:e.position.transformed;return(0,o.jsx)(rR.A,{title:`${s.path}, line ${n.start.line}`,children:(0,o.jsx)(rH.Ay,{type:"link",onClick:()=>t(s,[n],n.start.line),children:"Move To"})})}function da(e){let[t,s]=(0,w.useState)(""),[n,r]=(0,w.useState)(""),i=(0,w.useRef)(null),l=(e,t,n)=>{t(),s(e[0]),r(n)};return{filterDropdown:t=>{let{setSelectedKeys:n,selectedKeys:r,confirm:a,clearFilters:d,close:c}=t;return(0,o.jsxs)("div",{style:{padding:8},onKeyDown:e=>e.stopPropagation(),children:[(0,o.jsx)(ll.A,{ref:i,placeholder:`Search ${e}`,value:r[0],onChange:e=>n(e.target.value?[e.target.value]:[]),onPressEnter:()=>l(r,a,e),style:{marginBottom:8,display:"block"}}),(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rH.Ay,{type:"primary",onClick:()=>l(r,a,e),icon:(0,o.jsx)(a9.A,{}),size:"small",style:{width:90},children:"Search"}),(0,o.jsx)(rH.Ay,{onClick:()=>d&&void(d(),s("")),size:"small",style:{width:90},children:"Reset"}),(0,o.jsx)(rH.Ay,{type:"link",size:"small",onClick:c,children:"close"})]})]})},filterIcon:e=>(0,o.jsx)(a9.A,{style:{color:e?"#1890ff":void 0}}),onFilter:(t,s)=>s[e].toString().toLowerCase().includes(t.toLowerCase()),render:s=>n===e?(0,o.jsx)(di(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[t],autoEscape:!0,textToHighlight:s?s.toString():""}):s}}let dd=e=>{let{module:t,moduleGraph:s,setEditorData:n}=e,r=(0,w.useMemo)(()=>s.getModuleGraphModule(t).getSideEffects(),[t]),i=r.map((e,s)=>{let{variable:n,name:r,identifier:i}=e;return{key:s,name:r,identifier:t.isPreferSource?i.position.source:i.position.transformed,declaration:null==n?void 0:n.identifier}}).sort((e,t)=>e.name===t.name?e.identifier.start.line>t.identifier.start.line?1:-1:e.name>t.name?1:-1).reduce((e,t)=>{let s=e[e.length-1];return s&&s.name===t.name?(s.children||(s.children=[]),s.children.push(t)):e.push(t),e},[]),l=[{title:"Name",dataIndex:"name",key:"name",align:"center",...da("name")},{title:"SideEffect",dataIndex:"identifier",key:"identifier",align:"center",render:e=>(0,o.jsx)(rR.A,{title:`Current File line ${e.start.line}`,children:(0,o.jsx)(rH.Ay,{type:"link",onClick:()=>n(t,[e],e.start.line),children:"Move To"})})},{title:"Declaration",dataIndex:"declaration",key:"declaration",align:"center",render:e=>dl(e,n)}],a=(0,o.jsx)(w.Fragment,{children:(0,o.jsxs)(sN.A,{style:{fontWeight:400},children:["Import",(0,o.jsx)(rT.A.Text,{strong:!0,children:i.length}),"variables",(0,o.jsx)(r5.A,{type:"vertical"}),(0,o.jsx)(rT.A.Text,{strong:!0,children:r.length}),"sideEffects"]})});return(0,o.jsx)(rW,{style:{marginBottom:10},title:a,className:"tree-shaking-export-table",children:(0,o.jsx)(lQ.A,{size:"small",dataSource:i,columns:l,pagination:!1,scroll:{y:600}})})},dc=e=>{let{module:t,moduleGraph:s,setEditorData:n}=e,r=(0,w.useMemo)(()=>s.getModuleGraphModule(t).getExports(),[t]),i=r.filter(e=>0===e.getSideEffects().length),l=(0,o.jsxs)(w.Fragment,{children:[(0,o.jsxs)(sN.A,{style:{fontWeight:400},children:["Export",(0,o.jsx)(rT.A.Text,{strong:!0,children:r.length})]}),r.length>0?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r5.A,{type:"vertical"}),(0,o.jsxs)(rT.A.Text,{style:{fontWeight:400},code:!0,children:[(0,o.jsx)(rT.A.Text,{children:"Unused"}),(0,o.jsx)(r5.A,{type:"vertical"}),(0,o.jsx)(rT.A.Text,{strong:!0,children:i.length})]}),(0,o.jsx)(r5.A,{type:"vertical"}),(0,o.jsxs)(rT.A.Text,{style:{fontWeight:400},code:!0,children:[(0,o.jsx)(rT.A.Text,{children:"Used"}),(0,o.jsx)(r5.A,{type:"vertical"}),(0,o.jsx)(rT.A.Text,{strong:!0,children:r.length-i.length})]})]}):""]}),a=r.map((e,t)=>{let{variable:s}=e;return{key:t,name:e.name,declaration:null==s?void 0:s.identifier,used:e.getSideEffects().map(e=>{let{module:t,identifier:s}=e,n=(null==t?void 0:t.isPreferSource)?s.position.source:s.position.transformed;if(t&&n)return{module:t,range:n}}).filter(sA)}}),d=[{title:"Name",dataIndex:"name",key:"name",align:"center",...da("name")},{title:"Declaration",dataIndex:"declaration",key:"declaration",align:"center",render:e=>dl(e,n)},{title:"Info",dataIndex:"used",key:"used",align:"center",sorter:(e,t)=>e.used.length-t.used.length,sortDirections:["descend","ascend"],render:e=>(0,o.jsxs)("span",{children:["Used ",e.length," times"]})}];return(0,o.jsx)(rW,{title:l,className:"tree-shaking-export-table",children:(0,o.jsx)(lQ.A,{size:"small",dataSource:a,columns:d,pagination:!1,scroll:{y:600},expandable:{expandedRowRender:e=>(0,o.jsxs)("div",{className:"tree-shaking-side-effect-list",children:[(0,o.jsx)(rT.A.Text,{children:"List of SideEffect:"}),e.used.map(e=>{let{module:t,range:s}=e;return(0,o.jsx)(rR.A,{title:`${t.path}:${s.start.line}`,children:(0,o.jsx)(rH.Ay,{className:"tree-shaking-side-effect-list-item",type:"link",onClick:()=>{n(t,[s],s.start.line)},children:`${function(e){let t="",s=e;for(let e=0;e<3;e++)t=t?`${ea().basename(s)}/${t}`:ea().basename(s),s=ea().dirname(s);return`...${t}`}(t.path)}:${s.start.line}`})},t.id)})]}),rowExpandable:e=>e.used.length>0}})})},du=e=>"side-effect"===e.kind?(0,o.jsx)(dd,{...e}):(0,o.jsx)(dc,{...e}),dh=X.Client.RsdoctorClientRoutes.TreeShaking,dp=function(e,t,s){let n=e();return function(){let[r,i]=(0,w.useState)(),[l,a]=(0,w.useState)(h.Pending),[d,c]=(0,w.useState)({}),{loader:u}=sz(r);function p(e){return e.then(e=>{i(e)}).catch(()=>{a(h.Fail)})}function m(e){e&&Promise.all(t.map(t=>{let[s]=t;return e.loadData(s)})).then(e=>{c(e.reduce((e,s,n)=>{let[r,i]=t[n];return e[i]=s,e},{})),a(h.Success)}).catch(e=>{console.error(e),a(h.Fail)})}return((0,w.useEffect)(()=>{p(n).then(()=>{m(u)})},[u]),l===h.Pending)?(0,o.jsx)(iu.A,{active:!0}):l===h.Fail?(0,o.jsx)(ih,{retry:()=>{a(h.Pending),n.then(()=>{m(u)}).catch(()=>{p(e())})}}):(0,o.jsx)(s,{...d})}}(sC,[["moduleGraph","data"],["root","cwd"]],e=>{var t;let{data:s,cwd:n}=e,r=(0,w.useMemo)(()=>nK.fromData(s),[s]);if(0===r.size())return(0,o.jsx)(dn,{});let[i,l]=(0,w.useState)(""),[a,d]=(0,w.useState)(1),[c,u]=(0,w.useState)([]),[h,p]=(0,w.useState)("side-effect"),m=(0,w.useMemo)(()=>r.getModules().filter(e=>e.kind===X.SDK.ModuleKind.Normal&&ea().basename(e.path).includes(i)),[i]),f=(0,w.useMemo)(()=>m.find(e=>e.isEntry),[]),[g,j]=(0,w.useState)(f||(null==m?void 0:m.length)&&(null==m?void 0:m[0])),y=(t=e=>{v(m.find(t=>t.path===e),[])},(0,w.useMemo)(()=>sY({files:m.map(e=>e.path),cwd:n,fileTitle(e,s){let n=r.getModules().find(t=>t.path===e&&t.kind===nT.kind.Normal),i=r.getModuleGraphModule(n),l=i.getExports().filter(e=>0===e.getSideEffects().length);return(0,o.jsxs)(sN.A,{style:{wordBreak:"break-all"},children:[(0,o.jsx)(au,{text:s,keyword:e,onClick:()=>t(e)}),i.dynamic?(0,o.jsx)(rP.A,{color:"cyan",children:"dynamic"}):"",l.length>0?(0,o.jsxs)(rP.A,{color:"green",children:[l.length," Unused"]}):""]})}}),[i,g])),v=(e,t,s)=>{j(e),u(t.slice()),eP.isNumber(s)&&d(s)};return(0,o.jsxs)(r_.A,{title:"Tree Shaking Analysis",bodyStyle:{paddingTop:0},className:"tree-shaking-page",children:[(0,o.jsxs)(r7.A,{justify:"space-between",align:"middle",style:{marginBottom:x.BasePadding,marginTop:x.BasePadding},children:[(0,o.jsx)(la,{icon:(0,o.jsx)(oy.A,{}),width:400,label:"FileName",placeholder:"search filename by keyword",style:{width:"auto"},onChange:e=>l(e)}),(0,o.jsxs)(o6.Ay.Group,{value:h,onChange:e=>{let{target:t}=e;return p(t.value)},children:[(0,o.jsx)(o6.Ay.Button,{value:"side-effect",children:"SideEffects"}),(0,o.jsx)(o6.Ay.Button,{value:"export",children:"Export Variables"})]})]}),(0,o.jsxs)(r7.A,{justify:"space-between",align:"top",wrap:!1,gutter:[x.BasePadding,x.BasePadding],children:[(0,o.jsx)(r9.A,{span:7,children:(0,o.jsx)(r_.A,{title:`Total Files: ${m.length}`,className:"tree-shaking-files-box",children:(0,o.jsx)(sq,{style:{height:"80%"},className:"tree-shaking-files",selectedKeys:g?[g.path]:[],defaultExpandedKeys:sV(y,3,e=>!((0,sl.A)(e,"__RESOURCEPATH__").indexOf("/node_modules/")>-1)),treeData:y,expandAction:"click"})})}),(0,o.jsx)(r9.A,{span:9,children:(0,o.jsx)(ix,{api:X.SDK.ServerAPI.API.GetModuleCodeByModuleId,body:{moduleId:g.id},children:e=>(0,o.jsx)(ds,{module:g,moduleGraph:r,ranges:c,toLine:a,setEditorData:v,source:e})})}),(0,o.jsx)(r9.A,{flex:1,children:(0,o.jsx)(du,{kind:h,setEditorData:v,module:g,moduleGraph:r})})]})]})});var dm=s(1661),df=s(31766),dx=s(29503),dg=s(40056);let dj=e=>{let{file:t,data:s}=e,[n,r]=(0,w.useState)(s[0].group),i=s.find(e=>e.group===n);return(0,o.jsxs)(r7.A,{wrap:!0,gutter:[x.BasePadding,x.BasePadding],style:{height:"100%",alignContent:"flex-start"},children:[s.length>1?(0,o.jsx)(r9.A,{span:24,children:(0,o.jsx)(rO.A,{value:n,options:s.map(e=>e.group),onChange:e=>r(e)})}):null,i?(0,o.jsxs)(w.Fragment,{children:[(0,o.jsx)(r9.A,{span:24,children:(0,o.jsxs)(rT.A.Text,{strong:!0,children:[i.baselineTitle||"Baseline"," ⟷"," ",i.currentTitle||"Current"]})}),(0,o.jsx)(r9.A,{span:24,children:(0,o.jsx)(li,{originalFilePath:t,modifiedFilePath:t,original:i.baseline||"",modified:i.current||""})})]},n):null]})},dy=e=>{let{text:t="View Changes",...s}=e;return(0,o.jsx)(iS,{text:t,buttonProps:{size:"small",icon:(0,o.jsx)(dg.A,{})},drawerProps:{destroyOnClose:!0,title:`Content diff for "${s.file}"`},children:(0,o.jsx)(dj,{...s})})};var dv=((i={}).New="New",i.Changed="Changed",i.Deleted="Deleted",i.NotChanged="Not Changed",i),dA=((l={}).Name="Sorted by Name",l.Size="Sorted by Size",l.Delta="Sorted by Delta",l);let db=(e,t,s,n)=>(0,o.jsx)(o.Fragment,{children:t-e==0?(0,o.jsx)(o.Fragment,{}):(0,o.jsxs)(rT.A.Text,{strong:!0,style:{color:s===X.Client.RsdoctorClientDiffState.Up?g.Red:g.Green,...n},children:[s===X.Client.RsdoctorClientDiffState.Up?"+":"-",rv(Math.abs(t-e))]})}),dS=/[a-fA-F0-9]{20,}/,dw=(e,t,s)=>{let n=s?(e,s)=>{var n,r,i,l;return((null==(n=e.current)?void 0:n.size[t])||0)-((null==(r=e.baseline)?void 0:r.size[t])||0)-((null==(i=s.current)?void 0:i.size[t])||0)+((null==(l=s.baseline)?void 0:l.size[t])||0)}:(s,n)=>{var r,i;return((null==(r=s[e])?void 0:r.size[t])||0)-((null==(i=n[e])?void 0:i.size[t])||0)};return{width:200,sorter:(e,t)=>n(e,t),render:(s,n)=>{var r,i;if(!n[e])return"-";let l=n[e].size[t];return(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rT.A.Text,{children:rv(l)}),"current"===e?db((null==(r=n.baseline)?void 0:r.size[t])||0,l,((null==(i=n.baseline)?void 0:i.size[t])||0)>l?X.Client.RsdoctorClientDiffState.Down:X.Client.RsdoctorClientDiffState.Up):null]})}}},dC=(e,t,s)=>{let[n,r]=(0,w.useState)(!1),i="baseline"===e;return{title:()=>{let n=i?t:s,r=(0,ia.A)(e),l=eS.diffSize(t,s);return(0,o.jsxs)("div",{children:[(0,o.jsx)(rT.A.Text,{children:r}),(0,o.jsx)(r5.A,{type:"vertical"}),(0,o.jsx)(rR.A,{title:(0,o.jsxs)(sN.A,{direction:"vertical",children:[(0,o.jsxs)(rT.A.Text,{style:{color:"inherit"},children:[r," modules is ",n]}),i?null:(0,o.jsxs)(rT.A.Text,{style:{color:"inherit"},children:["Percent is ",rA(l.percent)]})]}),children:(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rT.A.Text,{type:"secondary",style:{fontSize:10,fontWeight:400},children:n}),(0,o.jsx)(ii.A,{})]})})]})},children:[{title:"Source Size",...dw(e,"sourceSize",n)},{title:"Parsed Size",defaultSortOrder:i?void 0:"descend",...dw(e,"parsedSize",n)}],filterSearch:!0,filters:[{text:"Show Changed",value:dv.NotChanged},{text:"Show All",value:"All"}],onFilter:(e,t)=>(e===dv.NotChanged?r(!0):r(!1),e!==dv.NotChanged||dk(t)!==e)}},dM=e=>{let{data:t,baseline:s,current:n}=e,{modules:r}=s.moduleGraph,{modules:i}=n.moduleGraph,{chunks:l}=s.chunkGraph,{chunks:a}=n.chunkGraph,d=s.root,c=n.root,[u,h]=(0,w.useState)(""),p=(0,w.useRef)(null),m=(e,t)=>{t(),h(e[0])},f="__is_baseline__",x=(0,w.useMemo)(()=>t.baseline?eS.getModulesByAsset(t.baseline,l,r).map(e=>({...e,[f]:!0})).filter(e=>{var t;return!(null==(t=e.concatenationModules)?void 0:t.length)}):[],[t,s]),j=(0,w.useMemo)(()=>t.current?eS.getModulesByAsset(t.current,a,i).map(e=>({...e,[f]:!1})).filter(e=>{var t;return!(null==(t=e.concatenationModules)?void 0:t.length)}):[],[t,n]),y=e=>sQ(e.path,e.__is_baseline__?d:c),v=(0,w.useMemo)(()=>{let e=[...x,...j],t=new Map;return e.forEach(e=>{var s,n;let r=(null==(s=e.webpackId)?void 0:s.replace(dS,""))||(null==(n=e.path)?void 0:n.replace(dS,"")),i=t.get(r);i||(i={path:r}),e[f]?i.baseline=e:i.current=e,t.set(r,i)}),[...t.values()]},[x,j,u]),{bModulesCount:A,cModulesCount:b,totalCount:S}=(0,w.useMemo)(()=>{let e=e=>y(e).alias.indexOf(u)>-1,t=v.filter(e=>e.baseline),s=v.filter(e=>e.current),n=v.length;return u&&(t=t.filter(e),s=s.filter(e),n=v.filter(e).length),{bModulesCount:t.length,cModulesCount:s.length,totalCount:n}},[v,u]);return(0,o.jsx)(lQ.A,{dataSource:v,rowKey:e=>e.path,size:"small",pagination:{size:"small"},bordered:!0,scroll:{x:1500},columns:[{fixed:"left",title:()=>(0,o.jsxs)("div",{children:[(0,o.jsxs)(rT.A.Text,{children:["Modules of ",`"${t.alias}"`]}),(0,o.jsx)(r5.A,{type:"vertical"}),(0,o.jsxs)(rR.A,{title:(0,o.jsxs)(sN.A,{direction:"vertical",children:[(0,o.jsxs)(rT.A.Text,{style:{color:"inherit"},children:["filtered modules: ",S]}),(0,o.jsxs)(rT.A.Text,{style:{color:"inherit"},children:["total modules: ",v.length]})]}),children:[(0,o.jsxs)(rT.A.Text,{type:"secondary",style:{fontSize:10,fontWeight:400,marginRight:4},children:[S,"/",v.length]}),(0,o.jsx)(ii.A,{})]})]}),filterDropdown(e){let{setSelectedKeys:t,selectedKeys:s,confirm:n,clearFilters:r}=e;return(0,o.jsxs)("div",{style:{padding:8},onKeyDown:e=>e.stopPropagation(),children:[(0,o.jsx)(ll.A,{ref:p,placeholder:"Search by file name",value:s[0],onChange:e=>t(e.target.value?[e.target.value]:[]),onPressEnter:()=>m(s,n),style:{marginBottom:8,display:"block"}}),(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rH.Ay,{type:"primary",onClick:()=>m(s,n),icon:(0,o.jsx)(a9.A,{}),size:"small",style:{width:90},children:"Search"}),(0,o.jsx)(rH.Ay,{onClick:()=>{r&&(r(),h("")),t([]),m([],n)},size:"small",style:{width:90},children:"Reset"})]})]})},filterSearch:!0,filterIcon:e=>(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rT.A.Text,{type:u?void 0:"secondary",style:{fontWeight:400},children:u||"Search by file name"}),(0,o.jsx)(a9.A,{style:{color:e?g.Blue:void 0}})]}),onFilterDropdownOpenChange:e=>{e&&setTimeout(()=>{var e;return null==(e=p.current)?void 0:e.focus()},100)},onFilter:(e,t)=>y(t).alias.indexOf(e)>-1,render:(e,t)=>{let{alias:s,inNodeModules:n}=y(t);return(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rR.A,{title:t.path,children:(0,o.jsx)(rT.A.Text,{copyable:{text:t.path},children:s})}),n?(0,o.jsx)(rP.A,{color:"warning",children:"node_modules"}):null,(0,o.jsx)(dD,{type:dk(t)})]})}},dC("current",A,b),dC("baseline",A,b),{title:"Actions",width:200,render:(e,t)=>{var r,i,l,a,d,c,u,h,p,m,f,x;return(0,o.jsx)(sN.A,{direction:"vertical",style:{maxWidth:170},children:(0,o.jsx)(dy,{text:"View Changes",file:t.path,data:[{baseline:null==(r=s.moduleCodeMap[null==(i=t.baseline)?void 0:i.id])?void 0:r.source,current:null==(l=n.moduleCodeMap[null==(a=t.current)?void 0:a.id])?void 0:l.source,group:"Source"},{baseline:null==(d=s.moduleCodeMap[null==(c=t.baseline)?void 0:c.id])?void 0:d.transformed,current:null==(u=n.moduleCodeMap[null==(h=t.current)?void 0:h.id])?void 0:u.transformed,group:"Transformed Source"},{baseline:null==(p=s.moduleCodeMap[null==(m=t.baseline)?void 0:m.id])?void 0:p.parsedSource,current:null==(f=n.moduleCodeMap[null==(x=t.current)?void 0:x.id])?void 0:f.parsedSource,group:"Parsed Source"}]})})}}]})};function dk(e){if(e.baseline&&!e.current)return dv.Deleted;if(!e.baseline&&e.current)return dv.New;if(e.baseline&&e.current)return e.baseline.size.sourceSize===e.current.size.sourceSize&&e.baseline.size.parsedSize===e.current.size.parsedSize?dv.NotChanged:dv.Changed;throw Error("Update Type not match")}let dD=e=>{let{type:t}=e;return t===dv.NotChanged?(0,o.jsx)(rR.A,{title:"It hasn't changed between Baseline and Current",children:(0,o.jsx)(rP.A,{color:"success",children:"Not Changed"})}):t===dv.Changed?(0,o.jsx)(rR.A,{title:"It has been changed between Baseline and Current",children:(0,o.jsx)(rP.A,{color:"warning",children:"Changed"})}):t===dv.New?(0,o.jsx)(rR.A,{title:"It is created in Current",children:(0,o.jsx)(rP.A,{color:"error",children:"New"})}):t===dv.Deleted?(0,o.jsx)(rR.A,{title:"It has been deleted in Current",children:(0,o.jsx)(rP.A,{color:"error",children:"Deleted"})}):null},dP=e=>{let{baseline:t,current:s}=e,n=(0,w.useMemo)(()=>s8(t.moduleGraph.modules),[t]),r=(0,w.useMemo)(()=>s8(s.moduleGraph.modules),[s]),i=t.chunkGraph.chunks,l=s.chunkGraph.chunks,a=t.root,d=s.root,[c,u]=(0,w.useState)(),[h,p]=(0,w.useState)([]),m=(0,w.useMemo)(()=>{let e={};return n.forEach(t=>{var s,n;let r=(null==(s=t.webpackId)?void 0:s.replace(dS,""))||(null==(n=t.path)?void 0:n.replace(dS,""));e[r]?console.warn("[Baseline Module Exists]: ",t,e):e[r]={path:r,baseline:t}}),r.forEach(t=>{var s,n;let r=(null==(s=t.webpackId)?void 0:s.replace(dS,""))||(null==(n=t.path)?void 0:n.replace(dS,""));e[r]||(e[r]={path:r}),e[r].current=t}),Object.values(e)},[n,r]),f=(0,w.useMemo)(()=>{let e=m.slice();return c&&(e=e.filter(e=>e.path.indexOf(c)>-1)),h.length&&(e=e.filter(e=>h.includes(dk(e)))),e},[m,c,h]),{bFilteredModulesLength:g,cFilteredModulesLength:j}=(0,w.useMemo)(()=>({bFilteredModulesLength:f.filter(e=>e.baseline).length,cFilteredModulesLength:f.filter(e=>e.current).length}),[f]);return(0,o.jsxs)(r7.A,{gutter:[x.BasePadding,x.BasePadding],children:[(0,o.jsx)(r9.A,{span:24,children:(0,o.jsxs)(sN.A,{wrap:!0,children:[(0,o.jsx)(la,{icon:(0,o.jsx)(oy.A,{}),label:"",labelStyle:{width:45},placeholder:"Search by name",onChange:e=>{u(e)}}),(0,o.jsx)(lh.A,{mode:"multiple",placeholder:"Filter by changed type",style:{width:200},options:Object.values(dv).map(e=>({label:e,value:e})),allowClear:!0,onChange:e=>{p(e)}})]})}),(0,o.jsx)(r9.A,{span:24,children:(0,o.jsx)(lQ.A,{bordered:!0,sticky:{offsetHeader:54},pagination:{pageSize:20,size:"small"},scroll:{x:1700},dataSource:f,rowKey:e=>e.path,columns:[{fixed:"left",title:(0,o.jsxs)(rR.A,{title:(0,o.jsxs)(sN.A,{direction:"vertical",children:[(0,o.jsxs)(rT.A.Text,{style:{color:"inherit"},children:["filtered modules is ",f.length," (Current & Baseline)"]}),(0,o.jsxs)(rT.A.Text,{style:{color:"inherit"},children:["total modules is ",m.length," (Current & Baseline)"]})]}),children:[(0,o.jsx)(rT.A.Text,{strong:!0,children:"Modules"}),(0,o.jsx)(r5.A,{type:"vertical"}),(0,o.jsxs)(rT.A.Text,{type:"secondary",style:{fontSize:10,fontWeight:400,marginRight:4},children:[f.length,"/",m.length]}),(0,o.jsx)(ii.A,{})]}),render:(e,t)=>{let{alias:s,inNodeModules:n}=sQ(t.path,t.baseline?a:d);return(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rR.A,{title:t.path,children:(0,o.jsx)(rT.A.Text,{copyable:{text:t.path},children:s})}),(0,o.jsx)(dD,{type:dk(t)}),n?(0,o.jsx)(rP.A,{color:"warning",children:"node_modules"}):null]})}},dC("current",g,j),dC("baseline",g,j),{title:"in Assets",render:(e,t)=>{let s=[],n=[];return(t.current&&eS.getChunksByModule(t.current,l).forEach(e=>e.assets.forEach(e=>n.push(e))),t.baseline&&eS.getChunksByModule(t.baseline,i).forEach(e=>e.assets.forEach(e=>s.push(e))),s.length||n.length)?(0,o.jsxs)(sN.A,{direction:"vertical",children:[(0,dx.A)(n).filter(Boolean).map(e=>(0,o.jsx)(ic,{label:"Current",value:e},`c_${e}`)),(0,dx.A)(s).filter(Boolean).map(e=>(0,o.jsx)(ic,{label:"Baseline",value:e},`b_${e}`))]}):null}},{title:"Actions",width:200,render:(e,n)=>{var r,i,l,a,d,c,u,h,p,m,f,x,g,j,y,v;let A=dk(n)===dv.Changed;return(0,o.jsxs)(sN.A,{direction:"vertical",style:{maxWidth:170},children:[A?(0,o.jsx)(dy,{text:"View Changes",file:n.path,data:[{baseline:null==(r=t.moduleCodeMap[null==(i=n.baseline)?void 0:i.id])?void 0:r.source,current:null==(l=s.moduleCodeMap[null==(a=n.current)?void 0:a.id])?void 0:l.source,group:"Source"},{baseline:null==(d=t.moduleCodeMap[null==(c=n.baseline)?void 0:c.id])?void 0:d.transformed,current:null==(u=s.moduleCodeMap[null==(h=n.current)?void 0:h.id])?void 0:u.transformed,group:"Transformed Source"},{baseline:null==(p=t.moduleCodeMap[null==(m=n.baseline)?void 0:m.id])?void 0:p.parsedSource,current:null==(f=s.moduleCodeMap[null==(x=n.current)?void 0:x.id])?void 0:f.parsedSource,group:"Parsed Source"}]}):null,(null==n?void 0:n.current)?(0,o.jsx)(dy,{text:"Current Result Viewer",file:n.path,data:[{baseline:null==(g=s.moduleCodeMap[n.current.id])?void 0:g.source,current:null==(j=s.moduleCodeMap[n.current.id])?void 0:j.transformed,baselineTitle:"Current Source",currentTitle:"Current Transformed Source",group:"Transformed Source"},{baseline:null==(y=s.moduleCodeMap[n.current.id])?void 0:y.source,current:null==(v=s.moduleCodeMap[n.current.id])?void 0:v.parsedSource,baselineTitle:"Current Source",currentTitle:"Current Parsed Source",group:"Parsed Source"}]}):null]})}}]})})]})},dz=e=>e.baseline&&e.current?e.baseline.map(e=>e.version).sort().join()===e.current.map(e=>e.version).sort().join()?dv.NotChanged:dv.Changed:e.baseline||e.current?e.baseline&&!e.current?dv.Deleted:dv.New:dv.NotChanged,dI=e=>dz(e)!==dv.NotChanged,dN=e=>{let{dataSource:t}=e,{newCount:s,deleteCount:n,changedCount:r}=(0,w.useMemo)(()=>({newCount:t.filter(e=>e.updateType===dv.New).length,deleteCount:t.filter(e=>e.updateType===dv.Deleted).length,changedCount:t.filter(e=>e.updateType===dv.Changed).length}),[t]);return(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(ic,{label:"New",value:s,type:s>0?"error":"default",tooltip:`Current has ${s} packages which not found in Baseline`}),(0,o.jsx)(ic,{label:"Deleted",value:n,type:n>0?"error":"default",tooltip:`Current delete ${n} packages than Baseline`}),(0,o.jsx)(ic,{label:"Changed",value:r,type:r>0?"error":"default",tooltip:`Current has ${r} changed packages than Baseline`})]})},dE=e=>{let{baseline:t,current:s}=e,{packages:n=[]}=t||{},{packages:r=[]}=s||{},i={},l=(e,t)=>{i[e.name]||(i[e.name]={name:e.name,updateType:dv.NotChanged}),i[e.name][t]||(i[e.name][t]=[]),i[e.name][t].push(e)};n.forEach(e=>l(e,"baseline")),r.forEach(e=>l(e,"current"));let a=[],o=[];return Object.values(i).forEach(e=>{dI(e)?a.push(e):o.push(e)}),a.concat(o).map(e=>({...e,updateType:dz(e)}))},d_=e=>{let{baseline:t,current:s}=e,{packages:n=[]}=t||{},{packages:r=[]}=s||{};if(!n.length&&!r.length)return(0,o.jsx)(rz.A,{});let i=(0,w.useMemo)(()=>(0,dx.A)(n.concat(r).map(e=>e.name)),[n,r]),[l,a]=(0,w.useState)([]),[d,c]=(0,w.useState)([]),u=(0,w.useMemo)(()=>dE({baseline:t,current:s}),[t,s]),h=(0,w.useMemo)(()=>u.filter(e=>d.length?d.indexOf(e.updateType)>-1:!l.length||l.indexOf(e.name)>-1),[u,l,d]);return(0,o.jsxs)(r7.A,{gutter:[x.BasePadding,x.BasePadding],children:[(0,o.jsx)(r9.A,{span:24,style:{marginTop:16},children:(0,o.jsxs)(sN.A,{wrap:!0,children:[(0,o.jsx)(lh.A,{mode:"multiple",placeholder:"Filter by package names",style:{width:400},options:i.map(e=>{let t=u.find(t=>t.name===e);return t&&dI(t)?{label:(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rT.A.Text,{children:e}),(0,o.jsx)(dD,{type:dz(t)})]}),value:e}:{label:e,value:e}}),allowClear:!0,onChange:e=>{a(e)}}),(0,o.jsx)(lh.A,{mode:"multiple",placeholder:"Filter by changed type",style:{width:200},options:Object.values(dv).map(e=>({label:e,value:e})),allowClear:!0,onChange:e=>{c(e)}})]})}),(0,o.jsx)(r9.A,{span:24,children:(0,o.jsx)(lQ.A,{bordered:!0,sticky:{offsetHeader:54},pagination:{pageSize:20,size:"small"},dataSource:h,rowKey:e=>e.name,columns:[{title:()=>(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rT.A.Text,{children:"Package Name"}),(0,o.jsx)(r5.A,{type:"vertical"}),(0,o.jsx)(rR.A,{title:`Filtered Package Count is ${h.length}, Total Package Count is ${u.length}`,children:(0,o.jsxs)(rT.A.Text,{type:"secondary",style:{fontSize:10,fontWeight:400},children:[h.length," / ",u.length]})})]}),render:(e,t)=>t.updateType!==dv.NotChanged?(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rT.A.Text,{children:t.name}),(0,o.jsx)(dD,{type:t.updateType})]}):t.name},{title:()=>(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rT.A.Text,{children:"Current"}),(0,o.jsx)(r5.A,{type:"vertical"}),(0,o.jsx)(dN,{dataSource:u})]}),children:[{title:"Version",render:(e,t)=>t.current?(0,o.jsx)(sN.A,{direction:"vertical",children:t.current.map(e=>(0,o.jsx)(ic,{label:"version",value:e.version,tooltip:e.root,type:t.updateType===dv.Deleted?"error":t.updateType===dv.Changed?"warn":"default"},e.version))}):null},{title:"Parsed Size",render:(e,t)=>{let s=(0,r4.A)(t.current,e=>e.size.parsedSize),n=()=>(0,o.jsx)(rF,{baseline:(0,r4.A)(t.baseline,e=>e.size.parsedSize),current:s});return t.current?(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rT.A.Text,{strong:t.updateType!==dv.NotChanged,children:rv(s)}),(0,o.jsx)(n,{})]}):(0,o.jsx)(n,{})}}]},{title:"Baseline",children:[{title:"Version",render:(e,t)=>t.baseline?(0,o.jsx)(sN.A,{direction:"vertical",children:t.baseline.map(e=>(0,o.jsx)(ic,{label:"version",value:e.version,tooltip:e.root,type:t.updateType===dv.Deleted?"error":t.updateType===dv.Changed?"warn":"default"},e.version))}):null},{title:"Parsed Size",render:(e,t)=>{if(t.baseline){let e=(0,r4.A)(t.baseline,e=>e.size.parsedSize);return(0,o.jsx)(rT.A.Text,{children:rv(e)})}return null}}]}]})})]})},dT=e=>{let{baseline:t,current:s,assetsDiffResult:n}=e,r=s8(t.moduleGraph.modules),i=s8(s.moduleGraph.modules),l=ne(t.errors),a=ne(s.errors),d=s9(t.moduleGraph),c=s9(s.moduleGraph),u=t.root,h=s.root,p=dE({baseline:t.packageGraph,current:s.packageGraph}),m=[{title:["Bundle Size"],value:[n.all.total]},{title:["Total JS","Initial JS"],value:[n.js.total,n.js.initial]},{title:["Total CSS","Initial CSS"],value:[n.css.total,n.css.initial]},{title:["Images","Fonts","Media"],value:[n.imgs.total,n.fonts.total,n.media.total]},{title:["HTML"],value:[n.html.total]},{title:["Others"],value:[n.others.total]}];return(0,o.jsxs)(r7.A,{gutter:[x.BasePadding,x.BasePadding],wrap:!0,style:{marginBottom:x.BasePadding},children:[m.map(e=>(0,o.jsx)(r9.A,{style:{minWidth:335},children:(0,o.jsx)(rK,{titles:e.title,datas:e.value,showPercentInTitle:!0})},e.title.join(","))),(0,o.jsx)(r9.A,{style:{minWidth:335},children:(0,o.jsx)(rK,{titles:["Duplicate Packages"],datas:[{size:{baseline:l.length,current:a.length},count:{baseline:l.length,current:a.length},percent:0,state:X.Client.RsdoctorClientDiffState.Equal}],formatter:(e,n)=>(0,o.jsx)(ib,{duplicatePackages:"baseline"===n?l:a,moduleGraph:"baseline"===n?d:c,cwd:"baseline"===n?u:h,buttonProps:{size:"small"},moduleCodeMap:"baseline"===n?t.moduleCodeMap:s.moduleCodeMap})})}),(0,o.jsx)(r9.A,{style:{minWidth:335},children:(0,o.jsx)(rK,{titles:["Modules"],datas:[{size:{baseline:r.length,current:i.length},count:{baseline:r.length,current:i.length},percent:0,state:X.Client.RsdoctorClientDiffState.Equal}],formatter:(e,t)=>{if("baseline"===t)return e;let s=eS.diffSize(r.length,i.length);return(0,o.jsxs)(sN.A,{style:{fontSize:"inherit"},children:[(0,o.jsx)(rT.A.Text,{style:{fontSize:"inherit"},children:e}),(0,o.jsx)(r$,{...s})]})}})}),(0,o.jsx)(r9.A,{style:{minWidth:335},children:(0,o.jsx)(rK,{titles:[(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rT.A.Text,{style:{color:"inherit"},children:"Packages"}),(0,o.jsx)(dN,{dataSource:p})]},"0")],datas:[{size:{baseline:p.filter(e=>e.baseline).length,current:p.filter(e=>e.current).length},count:{baseline:p.filter(e=>e.baseline).length,current:p.filter(e=>e.current).length},percent:0,state:X.Client.RsdoctorClientDiffState.Equal}],formatter:(e,t)=>"baseline"===t?e:(0,o.jsx)(sN.A,{children:e})})})]})},dR=e=>{let{assetsDiffResult:t}=e,s=[{type:"JS",data:t.js},{type:"CSS",data:t.css},{type:"Imgs",data:t.imgs},{type:"Fonts",data:t.fonts},{type:"Media",data:t.media},{type:"HTML",data:t.html},{type:"Others",data:t.others}];return(0,o.jsx)(lQ.A,{bordered:!0,pagination:!1,dataSource:s,rowKey:e=>e.type,style:{marginTop:x.BasePadding-x.BasePadding/4},columns:[{title:"File Type",dataIndex:"type",key:"type",render:e=>(0,o.jsx)(rT.A.Text,{strong:!0,children:e})},{title:"Size",dataIndex:"data",key:"size",children:[{title:"Current",dataIndex:"data",key:"csize",render:e=>{let t=(0,o.jsxs)(w.Fragment,{children:[(0,o.jsx)(rT.A.Text,{strong:!0,children:rv(e.total.size.current)}),(0,o.jsx)(r$,{percent:e.total.percent,state:e.total.state}),db(e.total.size.baseline,e.total.size.current,e.total.state)]});return e.initial?(0,o.jsxs)(sN.A,{direction:"vertical",children:[(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rP.A,{color:g.Blue,children:"Total"}),t]}),(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rP.A,{color:g.Blue,children:"Initial"}),(0,o.jsx)(rT.A.Text,{strong:!0,children:rv(e.initial.size.current)}),(0,o.jsx)(r$,{percent:e.initial.percent,state:e.initial.state}),db(e.initial.size.baseline,e.initial.size.current,e.initial.state)]})]}):(0,o.jsx)(sN.A,{children:t})}},{title:"Baseline",dataIndex:"data",key:"bsize",render:e=>{let t=(0,o.jsx)(rT.A.Text,{children:rv(e.total.size.baseline)});return e.initial?(0,o.jsxs)(sN.A,{direction:"vertical",children:[(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rP.A,{color:g.Blue,children:"Total"}),t]}),(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rP.A,{color:g.Blue,children:"Initial"}),(0,o.jsx)(rT.A.Text,{children:rv(e.initial.size.baseline)})]})]}):t}}]},{title:"Count",dataIndex:"data",key:"count",children:[{title:"Current",dataIndex:"data",key:"ccount",render:e=>{let t=(0,o.jsx)(rT.A.Text,{strong:!0,children:e.total.count.current});return e.initial?(0,o.jsxs)(sN.A,{direction:"vertical",children:[(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rP.A,{color:g.Blue,children:"Total"}),t]}),(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rP.A,{color:g.Blue,children:"Initial"}),(0,o.jsx)(rT.A.Text,{strong:!0,children:e.initial.count.current})]})]}):(0,o.jsx)(sN.A,{children:t})}},{title:"Baseline",dataIndex:"data",key:"bcount",render:e=>{let t=(0,o.jsx)(rT.A.Text,{children:e.total.count.baseline});return e.initial?(0,o.jsxs)(sN.A,{direction:"vertical",children:[(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rP.A,{color:g.Blue,children:"Total"}),t]}),(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rP.A,{color:g.Blue,children:"Initial"}),(0,o.jsx)(rT.A.Text,{children:e.initial.count.baseline})]})]}):(0,o.jsx)(sN.A,{children:t})}}]}]})};var dO=s(46201),dB=s(12168),dL=s(12199),dF=s(68794),d$=s(52762);let dG={JS:[X.Constants.JSExtension],CSS:[X.Constants.CSSExtension],HTML:[X.Constants.HtmlExtension],Imgs:X.Constants.ImgExtensions,Fonts:X.Constants.FontExtensions,Media:X.Constants.MediaExtensions,Others:[]},dK=Object.values(dG).flat(),dW=e=>{let{data:t}=e,s=(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rT.A.Text,{strong:!0,children:t.alias}),(0,o.jsx)(rR.A,{title:(0,o.jsxs)(sN.A,{style:{color:"inherit"},direction:"vertical",children:[t.current?(0,o.jsxs)(rT.A.Text,{style:{color:"inherit"},children:["Current realpath: ",t.current.path]}):null,t.baseline?(0,o.jsxs)(rT.A.Text,{style:{color:"inherit"},children:["Baseline realpath: ",t.baseline.path]}):null]}),children:(0,o.jsx)(ii.A,{})})]});return t.baseline&&!t.current?(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(dO.A,{style:{color:g.Red}}),s]}):!t.baseline&&t.current?(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(dB.A,{style:{color:g.Green}}),s]}):t.baseline&&t.current?(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(dL.A,{style:{color:g.Yellow}}),s]}):s},dH=e=>{let{baseline:t,current:s,outputFilename:n}=e,[r,i]=(0,w.useState)(),[l,a]=(0,w.useState)([]),[d,c]=(0,w.useState)([]),[u,h]=(0,w.useState)(dA.Size),[p,m]=(0,w.useState)(null),[f,j]=(0,w.useState)(null),{assets:y}=t.chunkGraph,{assets:v}=s.chunkGraph,A=(0,w.useMemo)(()=>{let e={};return p&&f?e.choose={alias:`${p} 
 ${f}`,current:v.find(e=>e.path===f),baseline:y.find(e=>e.path===p)}:(y.forEach(t=>{let s=eS.formatAssetName(t.path,n);e[s]?console.warn("[Baseline Asset Exists]: ",t,e):e[s]={alias:s,baseline:t}}),v.forEach(t=>{let s=eS.formatAssetName(t.path,n);e[s]||(e[s]={alias:s}),e[s].current=t})),Object.values(e)},[y,v,p,f]),b=(0,w.useMemo)(()=>{let e=A.slice();if(r&&(e=e.filter(e=>e.alias.indexOf(r)>-1)),l.length){let t=l.map(e=>dG[e]).flat(),s=l.indexOf("Others")>-1;e=e.filter(e=>{let n=e.baseline||e.current;return!!eS.isAssetMatchExtensions(n,t)||!!s&&!eS.isAssetMatchExtensions(n,dK)})}if(d.length&&(e=e.filter(e=>e.baseline&&!e.current?d.includes(dv.Deleted):!e.baseline&&e.current?d.includes(dv.New):!!e.baseline&&!!e.current&&(e.baseline.size===e.current.size?d.includes(dv.NotChanged):d.includes(dv.Changed)))),u)if(u===dA.Name)e.sort((e,t)=>e.alias.localeCompare(t.alias));else{let{prev:r,others:i}=e.reduce((e,t)=>(t.current?t.baseline?e.prev.unshift(t):e.prev.push(t):e.others.push(t),e),{prev:[],others:[]});e=[...r.sort((e,r)=>{if(r.current&&e.current){if(u===dA.Delta){let{percent:i}=eS.diffAssetsByExtensions(t.chunkGraph,s.chunkGraph,t=>eS.formatAssetName(t.path,n)===e.alias),{percent:l}=eS.diffAssetsByExtensions(t.chunkGraph,s.chunkGraph,e=>eS.formatAssetName(e.path,n)===r.alias);return l-i}return r.current.size-e.current.size}return -1}),...i]}return e},[A,r,l,d,u]),S=(0,w.useMemo)(()=>(0,r4.A)(b,e=>e.current?e.current.size:0)||0,[b]),C=(0,w.useMemo)(()=>(0,r4.A)(b,e=>e.baseline?e.baseline.size:0)||0,[b]);return(0,o.jsxs)(r7.A,{gutter:[x.BasePadding,x.BasePadding],children:[(0,o.jsxs)(r9.A,{span:24,children:[(0,o.jsxs)(sN.A,{wrap:!0,children:[(0,o.jsx)(la,{icon:(0,o.jsx)(oy.A,{}),label:"",labelStyle:{width:45},placeholder:"Search by file name",onChange:e=>{i(e)}}),(0,o.jsx)(lh.A,{mode:"multiple",placeholder:"Filter by file type",style:{width:250},options:Object.keys(dG).map(e=>({label:e,value:e})),allowClear:!0,onChange:e=>{a(e)}}),(0,o.jsx)(lh.A,{mode:"multiple",placeholder:"Filter by file changed type",style:{width:200},options:Object.values(dv).map(e=>({label:e,value:e})),allowClear:!0,onChange:e=>{c(e)}}),(0,o.jsx)(lh.A,{suffixIcon:(0,o.jsx)(dF.A,{}),options:Object.values(dA).map(e=>({label:e,value:e})),value:u,onChange:e=>{h(e)}})]}),(0,o.jsxs)(r7.A,{style:{marginTop:10},gutter:[6,6],children:[(0,o.jsx)(r9.A,{children:(0,o.jsx)(rH.Ay,{children:"Select Baseline Asset and Current Asset to Diff "})}),(0,o.jsx)(r9.A,{children:(0,o.jsx)(lh.A,{allowClear:!0,placeholder:"select baseline assets",showSearch:!0,style:{width:300},options:Object.values(t.chunkGraph.assets).map(e=>({label:e.path,value:e.path})),onChange:e=>m(e)})}),(0,o.jsx)(r9.A,{children:(0,o.jsx)(lh.A,{allowClear:!0,placeholder:"select current assets",showSearch:!0,style:{width:300},options:Object.values(s.chunkGraph.assets).map(e=>({label:e.path,value:e.path})),onChange:e=>j(e)})})]})]}),(0,o.jsx)(r9.A,{span:24,children:(0,o.jsx)(lQ.A,{bordered:!0,sticky:{offsetHeader:54},pagination:{pageSize:20,size:"small"},dataSource:b,rowKey:e=>e.alias,expandable:{expandedRowRender:e=>(0,o.jsx)("div",{style:{margin:x.BasePadding/3},children:(0,o.jsx)(dM,{data:e,baseline:t,current:s})}),columnTitle:(0,o.jsx)(rR.A,{title:"Click to expand row to see the modules which the chunk contains",placement:"left",children:(0,o.jsx)(d$.A,{style:{cursor:"pointer"}})})},columns:[{title:(0,o.jsxs)(rR.A,{title:(0,o.jsxs)(sN.A,{direction:"vertical",children:[(0,o.jsxs)(rT.A.Text,{style:{color:"inherit"},children:["filtered assets is ",b.length]}),(0,o.jsxs)(rT.A.Text,{style:{color:"inherit"},children:["total assets is ",A.length]})]}),children:[(0,o.jsx)(rT.A.Text,{strong:!0,children:"Assets"}),(0,o.jsx)(r5.A,{type:"vertical"}),(0,o.jsxs)(rT.A.Text,{type:"secondary",style:{fontSize:10,fontWeight:400,marginRight:4},children:[b.length,"/",A.length]}),(0,o.jsx)(ii.A,{})]}),render:(e,t)=>(0,o.jsx)(dW,{data:t})},{title:()=>{let e=rv(S),t=eS.diffSize(C,S);return(0,o.jsxs)(rR.A,{title:`Current size is ${e}, Delta is ${rA(t.percent)}`,children:[(0,o.jsx)(rT.A.Text,{strong:!0,children:"Current"}),(0,o.jsx)(r5.A,{type:"vertical"}),(0,o.jsxs)(rT.A.Text,{style:{fontSize:10,fontWeight:400,marginRight:4},children:[(0,o.jsx)(rT.A.Text,{style:{fontSize:"inherit",marginRight:8},children:e}),(0,o.jsx)(rF,{fontSize:"inherit",baseline:C,current:S}),db(C,S,C>S?X.Client.RsdoctorClientDiffState.Down:X.Client.RsdoctorClientDiffState.Up,{fontSize:10,fontWeight:400,marginLeft:4})]}),(0,o.jsx)(ii.A,{})]})},render:(e,r)=>{if(r.current){let{percent:e,state:i}=eS.diffAssetsByExtensions(t.chunkGraph,s.chunkGraph,e=>eS.formatAssetName(e.path,n)===r.alias),l=eS.isInitialAsset(r.current,s.chunkGraph.chunks);return(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rT.A.Text,{children:rv(r.current.size)}),(0,o.jsx)(r$,{percent:e,state:i}),l?(0,o.jsx)(rP.A,{color:g.Blue,children:"initial"}):null]})}return"-"}},{title:()=>{let e=rv(C);return(0,o.jsxs)(rR.A,{title:`Baseline size is ${e}`,children:[(0,o.jsx)(rT.A.Text,{strong:!0,children:"Baseline"}),(0,o.jsx)(r5.A,{type:"vertical"}),(0,o.jsx)(rT.A.Text,{style:{fontSize:10,fontWeight:400,marginRight:4},children:e}),(0,o.jsx)(ii.A,{})]})},render:(e,s)=>{if(s.baseline){let e=eS.isInitialAsset(s.baseline,t.chunkGraph.chunks);return(0,o.jsxs)(sN.A,{children:[(0,o.jsx)(rT.A.Text,{children:rv(s.baseline.size)}),e?(0,o.jsx)(rP.A,{color:g.Blue,children:"initial"}):null]})}return"-"}},{title:"Actions",key:"actions",render:(e,t)=>{var s,n;return(0,o.jsx)(dy,{file:t.alias,data:[{baseline:null==(s=t.baseline)?void 0:s.content,current:null==(n=t.current)?void 0:n.content,group:"assets"}]})}}]})})]})},dq=e=>{var t;let{api:s,body:n,children:r,manifests:i}=e,[l,a]=(null==(t=s7()[X.Client.RsdoctorClientUrlQuery.BundleDiffFiles])?void 0:t.split(","))||[];return(null==i?void 0:i.length)?(0,o.jsx)(o.Fragment,{children:r(i[0].data,i[1].data)}):(0,o.jsx)(ix,{api:s,body:n,manifestLoader:l?()=>sC(l):void 0,children:e=>(0,o.jsx)(ix,{api:s,body:n,manifestLoader:a?()=>sC(a):void 0,children:t=>r(e,t)})})},dU=e=>{let{manifests:t}=e;return(0,w.useEffect)(()=>{console.log("BundleDiff Manifests: ",t)},[t]),(0,o.jsx)(dq,{api:X.SDK.ServerAPI.API.GetBundleDiffSummary,manifests:t,children:(e,t)=>{let s=e.chunkGraph===t.chunkGraph,n=e.chunkGraph,r=s?n:t.chunkGraph,i=eS.getAssetsDiffResult(n,r);return(0,o.jsxs)("div",{children:[(0,o.jsxs)(ld.A.Group,{children:[(0,o.jsx)(rR.A,{placement:"leftBottom",title:(0,o.jsx)(sN.A,{direction:"vertical",children:[{title:"Baseline",data:e},{title:"Current",data:t}].map(e=>{let{title:t,data:s}=e;return(0,o.jsx)(r_.A,{size:"small",children:(0,o.jsxs)(sN.A,{direction:"vertical",children:[(0,o.jsx)(rT.A.Text,{strong:!0,children:t}),(0,o.jsxs)(sN.A,{style:{fontSize:10},children:[(0,o.jsx)(rT.A.Text,{style:{fontSize:"inherit",width:30,display:"inline-block"},children:"Hash"}),(0,o.jsx)(r5.A,{type:"vertical"}),(0,o.jsx)(rT.A.Text,{type:"secondary",style:{fontSize:"inherit"},children:s.hash||"-"})]}),s.cloudManifestUrl?(0,o.jsx)(rH.Ay,{type:"link",size:"small",style:{padding:0,fontSize:10},onClick:()=>window.open(s.cloudManifestUrl),children:"Open File"}):null]})},t)})}),children:(0,o.jsx)(ld.A,{icon:(0,o.jsx)(ii.A,{})})}),(0,o.jsx)(dm.A,{title:(0,o.jsxs)(rT.A.Text,{children:["Are you sure to",(0,o.jsx)(rT.A.Text,{strong:!0,children:" re-upload "}),"json files for bundle diff?"]}),onConfirm:()=>{},okText:"Yes",cancelText:"Cancel",placement:"topLeft",trigger:"hover",children:(0,o.jsx)(ld.A,{icon:(0,o.jsx)(df.A,{})})}),(0,o.jsx)(ld.A.BackTop,{})]}),(0,o.jsx)(dT,{baseline:e,current:t,onlyBaseline:s,assetsDiffResult:i}),(0,o.jsx)(rI.A,{defaultActiveKey:"Overview",tabBarStyle:{marginBottom:x.BasePadding/3},items:[{label:"Overview",key:"Overview",children:(0,o.jsx)(dR,{assetsDiffResult:i})},{label:"Assets",key:"Assets",children:(0,o.jsx)(dH,{outputFilename:e.outputFilename,baseline:e,current:t})},{label:"Modules",key:"Modules",children:(0,o.jsx)(dP,{baseline:e,current:t,onlyBaseline:s,assetsDiffResult:i})},{label:"Packages",key:"Packages",children:(0,o.jsx)(d_,{baseline:e.packageGraph,current:t.packageGraph})}].map(e=>({...e,label:(0,o.jsx)(rT.A.Text,{strong:!0,children:e.label})}))})]})}})},dV=X.Client.RsdoctorClientRoutes.BundleDiff,dJ=()=>(0,o.jsx)(dU,{manifests:[]});var dY=s(68338),dZ=s(16984);let dQ=[X.Manifest.RsdoctorManifestClientRoutes.Overall,X.Manifest.RsdoctorManifestClientRoutes.BundleSize],dX=(e,t)=>{window[X.Constants.WINDOW_RSDOCTOR_TAG]=e,window[X.Constants.WINDOW_RSDOCTOR_TAG].enableRoutes=t;let s=(e=>{let t=`//${location.host}${location.pathname}#/overall`,s=e&&e.length>0?`?${X.Client.RsdoctorClientUrlQuery.EnableRoutes}=${encodeURIComponent(JSON.stringify(e))}`:"";return`${t}${s}`})(t);location.href=s,sI.Ay.success("JSON data loaded successfully!")},d0=async e=>{try{let t=await rD([e]);if(t&&t[0])dX(t[0].data,dQ);else throw Error("Invalid manifest data")}catch(t){let e=t instanceof Error?t.message:"Unknown error";throw sI.Ay.error(`Failed to load Rspack stats: ${e}`),t}},d1=X.Client.RsdoctorClientRoutes.Uploader,d5=()=>{let[e,t]=(0,w.useState)(!1),s=async e=>{if(e){t(!0);try{let t=await new Promise((t,s)=>{let n=new FileReader;n.onloadend=()=>{let{result:e}=n;console.log("reader result: ",e);try{let s=JSON.parse(e.toString());t(s)}catch(e){sI.Ay.error("json parse error"),s(e)}},n.onerror=()=>{let e="upload json file error, please try again.";sI.Ay.error(e),s(Error(e))},n.readAsText(e.originFileObj||e)});if(!t||"object"!=typeof t)throw Error("Invalid JSON format");if((0,rk.A)(t.assets)&&(0,rk.A)(t.chunks))await d0(t);else{try{let e=t.clientRoutes||dQ;dX(t.data,e)}catch(t){let e=t instanceof Error?t.message:"Unknown error";sI.Ay.error(`Failed to load manifest data: ${e}`),console.error("Failed to load manifest data:",t)}}}catch(t){let e=t instanceof Error?t.message:"Unknown error";sI.Ay.error(`Upload failed: ${e}`),console.error("Upload error:",t)}finally{t(!1)}}};return(0,o.jsx)(ip.A,{spinning:e,tip:"uploading...",children:(0,o.jsxs)(dZ.A.Dragger,{multiple:!1,showUploadList:!1,accept:".json",onChange:e=>{let{file:t}=e;s(t)},style:{width:"100%"},beforeUpload:()=>!1,children:[(0,o.jsx)("p",{className:"ant-upload-drag-icon",children:(0,o.jsx)(dY.A,{})}),(0,o.jsx)("p",{className:"ant-upload-text",children:"Click or drag JSON file to this area to upload and analyze your stats.json or rsdoctor's rsdoctor-data.json."}),(0,o.jsxs)("p",{className:"ant-upload-hint",children:["The rsdoctor's rsdoctor-data.json is in brief mode, and use the file type: ['json'].",(0,o.jsx)("a",{href:"https://rsdoctor.rs/zh/config/options/output#mode-brief",target:"_blank",rel:"noopener noreferrer",children:"Check the details."})]}),(0,o.jsx)("p",{className:"ant-upload-hint",children:"By default, Rsdoctor will emit the rsdoctor-data.json to the output folder."})]})})},d2="Compile Analysis",d4={overall:(0,o.jsx)(e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:13,height:12,fill:"none",viewBox:"0 0 13 12",...e,children:[(0,o.jsx)("rect",{width:12,height:9.333,x:.615,y:.167,fill:"#5E6673",rx:1}),(0,o.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"M3.781 3.5c.277 0 .5.214.5.478v3.044a.49.49 0 0 1-.5.478.49.49 0 0 1-.5-.478V3.978a.49.49 0 0 1 .5-.478M6.615 1.833c.276 0 .5.214.5.479v4.71a.49.49 0 0 1-.5.478.49.49 0 0 1-.5-.478v-4.71a.49.49 0 0 1 .5-.479M9.448 4.833c.276 0 .5.214.5.479v1.71a.49.49 0 0 1-.5.478.49.49 0 0 1-.5-.478v-1.71a.49.49 0 0 1 .5-.479",clipRule:"evenodd"}),(0,o.jsx)("rect",{width:6,height:1.333,x:3.615,y:10.5,fill:"#5E6673",fillOpacity:.5,rx:.667})]}),{}),webpack:(0,o.jsx)(e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:13,height:12,fill:"none",viewBox:"0 0 13 12",...e,children:[(0,o.jsx)("rect",{width:12,height:9.333,x:.615,y:.167,fill:"#5E6673",rx:1}),(0,o.jsx)("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",d:"M4.241 6.212 2.895 5.014 4.24 3.815M8.97 6.212l1.347-1.198-1.346-1.199M5.96 7.014l1.363-4"}),(0,o.jsx)("rect",{width:6,height:1.333,x:3.615,y:10.5,fill:"#5E6673",fillOpacity:.5,rx:.667})]}),{}),bundle:(0,o.jsx)(e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:14,fill:"none",viewBox:"0 0 12 14",...e,children:[(0,o.jsx)("path",{fill:"#5E6673",fillRule:"evenodd",d:"M6.44.672a1 1 0 0 0-.977.013L.578 3.505l5.36 2.83 5.327-3.044zm-.992 12.777V7.206L.175 4.423v5.404a1 1 0 0 0 .5.866z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#5E6673",fillOpacity:.5,fillRule:"evenodd",d:"m5.466.683-.003.002L.658 3.459l.017-.01L5.448.693zM5.448 13.45V7.206L.175 4.423l5.273 2.783zm1-6.254 5.265-3.009q.009.064.009.13v5.511a1 1 0 0 1-.5.866L6.448 13.45z",clipRule:"evenodd"})]}),{})},d6=ig({api:X.SDK.ServerAPI.API.GetClientRoutes,responsePropName:"routes",Component:e=>{let{t}=s6(),{pathname:s}=(0,s2.zy)(),n=(0,s2.Zp)(),[r,i]=(0,w.useState)(d4),{routes:l}=e,a=sy(),d=l&&l.length>0?l:a||[];(0,w.useEffect)(()=>{s.includes("webpack")?i({...d4,webpack:(0,o.jsx)(lb,{})}):s.includes("overall")||"/"===s?i({...d4,overall:(0,o.jsx)(lA,{})}):s.includes("bundle")&&i({...d4,bundle:(0,o.jsx)(lS,{})})},[s]);let c={color:"rgba(96, 102, 114)"},u=[];d.includes(X.Manifest.RsdoctorManifestClientRoutes.Overall)&&u.push({label:t("Overall"),key:lv,icon:r.overall,children:[],onTitleClick(e){n(e.key)}}),(d.includes(X.Manifest.RsdoctorManifestClientRoutes.WebpackLoaders)||d.includes(X.Manifest.RsdoctorManifestClientRoutes.ModuleResolve)||d.includes(X.Manifest.RsdoctorManifestClientRoutes.WebpackPlugins))&&u.push({label:t(d2),key:d2,icon:r.webpack,children:[d.includes(X.Manifest.RsdoctorManifestClientRoutes.WebpackLoaders)&&{label:t("Loaders Timeline"),key:oP,icon:(0,o.jsx)(lm.A,{style:c})},d.includes(X.Manifest.RsdoctorManifestClientRoutes.WebpackLoaders)&&{label:t("Loaders Analysis"),key:oG,icon:(0,o.jsx)(lf.A,{style:c})},d.includes(X.Manifest.RsdoctorManifestClientRoutes.ModuleResolve)&&{label:t("ModuleResolve"),key:o0,icon:(0,o.jsx)(lx.A,{style:c})},d.includes(X.Manifest.RsdoctorManifestClientRoutes.WebpackPlugins)&&{label:t("Plugins Analysis"),key:oU,icon:(0,o.jsx)(lg.A,{style:c})}].filter(e=>!!e)}),(d.includes(X.Manifest.RsdoctorManifestClientRoutes.BundleSize)||d.includes(X.Manifest.RsdoctorManifestClientRoutes.ModuleGraph)||d.includes(X.Manifest.RsdoctorManifestClientRoutes.TreeShaking))&&u.push({label:t(of),key:of,icon:r.bundle,children:[],onTitleClick(){n(ox)}});let h=(0,o.jsx)(ly.A,{items:u,mode:"horizontal",onClick:e=>{e.keyPath.includes("builder-switcher")||n(e.key)},overflowedIndicator:(0,o.jsx)(lj.A,{}),style:{height:x.NavBarHeight,lineHeight:`${x.NavBarHeight}px`,minWidth:0,justifyContent:"flex-end",...e.style},selectedKeys:["/"===s?lv:s]},d.join(""));return(0,o.jsx)("div",{style:{marginLeft:"30px"},children:h})},fallbackComponent:()=>null,showSkeleton:!1}),d3=e=>{let{enableRoutes:t}=e,{i18n:s}=s6(),n=(0,s2.Zp)(),{isLight:r}=rj(),i=[{value:f.Cn,label:"中文"},{value:f.En,label:"English"}];return(0,o.jsx)(lo.A.Header,{style:{height:x.NavBarHeight,padding:0,paddingLeft:x.BasePadding,paddingRight:x.BasePadding,position:"fixed",zIndex:999,width:"100%",backgroundColor:r?"#fff":"#141414",transition:"none"},children:(0,o.jsxs)(r7.A,{justify:"space-between",align:"middle",style:{height:x.NavBarHeight},wrap:!1,children:[(0,o.jsx)(r9.A,{style:{height:x.NavBarHeight,lineHeight:`${x.NavBarHeight+2}px`},children:(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"100%"},children:[(0,o.jsx)("img",{src:"https://assets.rspack.rs/rsdoctor/rsdoctor-title-logo.png",className:"rsdoctor-logo",alt:"logo",onClick:()=>{location.hash.includes(X.Client.RsdoctorClientRoutes.Uploader)&&location.pathname.includes("/preview")?location.href="http://rsdoctor.rs":n(X.Client.RsdoctorClientRoutes.Home)}}),(0,o.jsx)(lp,{})]})}),(0,o.jsx)(d6,{style:{transition:"none"}},t?JSON.stringify(t):"default"),(0,o.jsx)(r9.A,{flex:1,children:(0,o.jsxs)(r7.A,{align:"middle",justify:"end",style:{height:x.NavBarHeight},wrap:!1,gutter:[x.BasePadding/3,0],children:[(0,o.jsx)(r9.A,{children:(0,o.jsx)(i4,{})}),(0,o.jsx)(r9.A,{children:(0,o.jsx)(lu.A,{overlayStyle:{zIndex:1e3},menu:{items:i.map(e=>({label:e.label,key:e.value,onClick(){s.changeLanguage(e.value)}})),selectedKeys:[s.language]},children:(0,o.jsx)(lc.A,{className:"header-icon",style:{display:"inline-block",fontSize:20,textAlign:"center",verticalAlign:"middle",cursor:"pointer",width:30,transition:"all 0.3s ease"}})})})]})})]})})},d7=ig({api:X.SDK.ServerAPI.APIExtends.GetCompileProgress,responsePropName:"progress",Component:e=>{let{progress:t}=e;if(!t)return null;let{percentage:s=1,message:n}=t;if(s>=1)return null;let r=+(100*s).toFixed(1);return(0,o.jsx)(r7.A,{wrap:!0,style:{width:"100%",position:"fixed",top:x.NavBarHeight,left:1,zIndex:99},children:(0,o.jsx)(r9.A,{span:Math.min(Math.floor(24*s),24),children:(0,o.jsx)(lK.A,{percent:100,status:"active",size:"small",format:()=>(0,o.jsx)(rT.A.Text,{style:{fontSize:12},type:"secondary",children:`${r}% ${n}`})})})})},fallbackComponent:()=>null,showSkeleton:!1}),d9=e=>{let t=(0,w.useContext)(rg).locale,{i18n:s}=s6(),{children:n}=e,r=s7(),[i,l]=(0,w.useState)(()=>sy()||void 0);(0,w.useEffect)(()=>{let e=t;if(!v("FIRST_VISIT")){var n;A("FIRST_VISIT","1");let t="cn"===(n=window.navigator.language.split("-")[0])||"zh"===n?f.Cn:f.En;Object.values(f).includes(t)&&(e=t)}s.language!==e&&s.changeLanguage(e)},[t]),(0,w.useEffect)(()=>{l(sy()||void 0)},[r]);let a=(0,w.useContext)(rg);return(0,o.jsxs)(lo.A,{children:[a.embedded?null:(0,o.jsx)(d3,{enableRoutes:i}),(0,o.jsx)(d7,{}),(0,o.jsxs)(lo.A.Content,{style:{height:"100%",minHeight:"100vh",padding:x.BasePadding,marginTop:a.embedded?0:x.NavBarHeight,background:y},children:[n,(0,o.jsx)(ld.A.BackTop,{})]})]})};var d8=s(95121),ce=s(67409),ct=s(65691);function cs(){let e=[{path:ox,element:(0,o.jsx)(og,{})},{path:oG,element:(0,o.jsx)(oW,{})},{path:oU,element:(0,o.jsx)(oV,{})},{path:o0,element:(0,o.jsx)(o1,{})},{path:oP,element:(0,o.jsx)(oz,{})},{path:o2,element:(0,o.jsx)(o4,{})},{path:dh,element:(0,o.jsx)(dp,{})}].filter(e=>!!e);return(0,o.jsxs)(s2.BV,{children:[(0,o.jsx)(s2.qh,{path:"/",element:(0,o.jsx)(ar,{})}),(0,o.jsx)(s2.qh,{path:lv,element:(0,o.jsx)(ar,{})}),e.map(e=>(0,o.jsx)(s2.qh,{path:e.path,element:e.element},e.path)),(0,o.jsx)(s2.qh,{path:dV,element:(0,o.jsx)(dJ,{})}),(0,o.jsx)(s2.qh,{path:d1,element:(0,o.jsx)(d5,{})})]})}let{jK:cn,Sx:cr}=a;var ci=s(58997);let cl=document.getElementById("root");ci.createRoot(cl).render((0,o.jsx)(()=>{let e=!!("https:"===window.location.protocol&&window.location.href.indexOf("ide-proxy")>0),[t,s]=(0,w.useState)(cn.Success),[n,r]=(0,w.useState)({...rx.viewMode}),[i,l]=(0,w.useState)(),[a,d]=(0,w.useState)(rx.theme);return t===h.Fail?(0,o.jsxs)(sN.A,{direction:"vertical",style:{padding:14},children:[(0,o.jsx)(rT.A.Text,{strong:!0,style:{fontSize:16},children:"load json file of Rsdoctor failed."}),(0,o.jsxs)(rT.A.Text,{children:["try to use ",(0,o.jsx)(rT.A.Text,{keyboard:!0,children:"command + r"})," to refresh page."]}),null,(0,o.jsx)(r5.A,{}),(0,o.jsx)(sN.A,{direction:"vertical",style:{width:"100%"},children:(0,o.jsxs)(rT.A.Text,{style:{fontSize:16},children:["you can",(0,o.jsx)(rT.A.Text,{strong:!0,style:{fontSize:"inherit"},children:"upload a file"}),"in the area below to analyze your project."]})}),(0,o.jsx)(r5.A,{}),null]}):(0,o.jsx)(ct.I9,{children:(0,o.jsx)(rg.Provider,{value:{...rx,theme:a,setTheme:e=>{d(e),A("THEME",e)},pageState:t,json:i,viewMode:n,setManifest:l,setPageState:s,setViewMode(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],s={...n,...e};r(s),t&&A("VIEWMODE",JSON.stringify(s))}},children:(0,o.jsx)(rg.Consumer,{children:s=>(0,o.jsx)(iU.Ay,{locale:nl(s.locale),theme:{algorithm:a===cr.Dark?sO.A.darkAlgorithm:sO.A.defaultAlgorithm,token:{padding:16,colorText:"rgba(0, 0, 0, 0.85)",fontFamily:"var(--font-family-code)"}},children:(0,o.jsx)(d9,{children:(0,o.jsxs)(o.Fragment,{children:[e&&(0,o.jsx)(is.A,{message:"Warning",description:(0,o.jsx)("a",{href:window.location.href.replace(/https/,"http"),children:`Please jump to\u{FF1A}${window.location.href.replace(/https/,"http")}`}),type:"warning",showIcon:!0,closable:!0}),(0,o.jsx)(ce.tH,{FallbackComponent:e=>{let{error:s,resetErrorBoundary:n}=e;return(0,o.jsx)(d8.Ay,{status:"error",title:"Sorry, something went wrong.",extra:(0,o.jsx)(rH.Ay,{type:"primary",onClick:n,loading:t===cn.Pending,children:"Reload"}),children:(0,o.jsxs)(rT.A.Paragraph,{children:[(0,o.jsx)(rT.A.Title,{level:3,children:"Error Stack"}),(0,o.jsx)("pre",{children:s.stack||s.message})]})})},onReset:()=>{window.location.reload()},children:(0,o.jsx)(cs,{})})]})})})})})})},{}));let ca=document.createElement("link");ca.setAttribute("type","image/x-icon"),ca.setAttribute("rel","icon"),ca.setAttribute("href","https://assets.rspack.rs/rsdoctor/rsdoctor-logo-960x960.png"),document.head.appendChild(ca)},8769:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},35230:function(e,t){var s,n,r,i,l,a;Object.defineProperty(t,"__esModule",{value:!0}),t.RsdoctorClientDiffState=t.RsdoctorClientRoutes=t.RsdoctorClientUrlQuery=void 0,(i=s||(t.RsdoctorClientUrlQuery=s={})).BundleDiffFiles="__bundle_files__",i.ManifestFile="manifest",i.EnableRoutes="enableRoutes",(l=n||(t.RsdoctorClientRoutes=n={})).Home="/",l.Overall="/overall",l.WebpackLoaderOverall="/webpack/loaders/overall",l.WebpackLoaderAnalysis="/webpack/loaders/analysis",l.ModuleResolve="/module/resolve",l.WebpackPlugins="/webpack/plugins",l.BundleSize="/bundle/size",l.ModuleAnalyze="/module/analyze",l.TreeShaking="/treeshaking",l.BundleDiff="/resources/bundle/diff",l.RuleIndex="/resources/rules",l.Uploader="/resources/uploader",l.EmoCheck="/emo/check",(a=r||(t.RsdoctorClientDiffState=r={})).Equal="-",a.Up="UP",a.Down="DOWN"},39076:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},68583:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},79452:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.WINDOW_RSDOCTOR_TAG=t.RsdoctorClientUrl=t.RsdoctorProcessEnvDebugKey=t.RsdoctorMonitorDocBId=t.RsdoctorMonitorWebBId=t.RsdoctorMonitorNodeBId=t.StatsFilePath=t.RsdoctorOutputManifestPath=t.RsdoctorOutputManifest=t.RsdoctorOutputFolder=t.MapExtensions=t.FontExtensions=t.MediaExtensions=t.ImgExtensions=t.HtmlExtension=t.CSSExtension=t.JSExtension=void 0,t.JSExtension=".js",t.CSSExtension=".css",t.HtmlExtension=".html",t.ImgExtensions=[".png",".jpg",".svg",".webp",".jpeg",".gif",".bmp"],t.MediaExtensions=[".mp3",".mp4",".avi",".wav",".flv",".mov",".mpg",".mpeg"],t.FontExtensions=[".ttf",".fnt",".fon",".otf",".woff",".woff2"],t.MapExtensions=[".js.map",".css.map",".ts.map",".LICENSE.txt"],t.RsdoctorOutputFolder=".rsdoctor",t.RsdoctorOutputManifest="manifest.json",t.RsdoctorOutputManifestPath=`${t.RsdoctorOutputFolder}/${t.RsdoctorOutputManifest}`,t.StatsFilePath="dist/stats.json",t.RsdoctorMonitorNodeBId="Rsdoctor",t.RsdoctorMonitorWebBId="Rsdoctor-Client",t.RsdoctorMonitorDocBId="Rsdoctor-Doc",t.RsdoctorProcessEnvDebugKey="rsdoctor",t.RsdoctorClientUrl="",t.WINDOW_RSDOCTOR_TAG="__RSDOCTOR__"},5263:function(e,t){var s,n;Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorLevel=void 0,(n=s||(t.ErrorLevel=s={}))[n.Ignore=0]="Ignore",n[n.Warn=1]="Warn",n[n.Error=2]="Error"},40209:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},83397:function(e,t,s){var n,r=this&&this.__createBinding||(Object.create?function(e,t,s,n){void 0===n&&(n=s);var r=Object.getOwnPropertyDescriptor(t,s);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,n,r)}:function(e,t,s,n){void 0===n&&(n=s),e[n]=t[s]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||(n=function(e){return(n=Object.getOwnPropertyNames||function(e){var t=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[t.length]=s);return t})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s=n(e),l=0;l<s.length;l++)"default"!==s[l]&&r(t,e,s[l]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.Config=t.Plugin=t.Constants=t.Client=t.Thirdparty=t.Rule=t.Linter=t.Modules=t.SDK=t.Logger=t.Err=t.Common=t.Babel=t.Esbuild=t.Manifest=void 0,t.Manifest=l(s(97260)),t.Esbuild=l(s(40209)),t.Babel=l(s(8769)),t.Common=l(s(39076)),t.Err=l(s(5263)),t.Logger=l(s(56157)),t.SDK=l(s(79338)),t.Modules=l(s(75960)),t.Linter=l(s(8220)),t.Rule=l(s(2616)),t.Thirdparty=l(s(14442)),t.Client=l(s(35230)),t.Constants=l(s(79452)),t.Plugin=l(s(90558)),t.Config=l(s(68583))},21957:function(e,t,s){Object.defineProperty(t,"__esModule",{value:!0}),t.Severity=void 0;var n=s(5263);Object.defineProperty(t,"Severity",{enumerable:!0,get:function(){return n.ErrorLevel}})},8220:function(e,t,s){var n=this&&this.__createBinding||(Object.create?function(e,t,s,n){void 0===n&&(n=s);var r=Object.getOwnPropertyDescriptor(t,s);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,n,r)}:function(e,t,s,n){void 0===n&&(n=s),e[n]=t[s]}),r=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||n(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(s(21957),t),r(s(37060),t)},37060:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},56157:function(e,t){var s,n;Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevel=void 0,(n=s||(t.LogLevel=s={}))[n.Silent=0]="Silent",n[n.Error=1]="Error",n[n.Warning=2]="Warning",n[n.Info=3]="Info",n[n.Debug=4]="Debug",n[n.Verbose=5]="Verbose"},97260:function(e,t){var s,n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.RsdoctorManifestClientConstant=t.RsdoctorManifestClientRoutes=void 0,(r=s||(t.RsdoctorManifestClientRoutes=s={})).Overall="Overall",r.WebpackLoaders="Compile.WebpackLoaders",r.ModuleResolve="Compile.ModuleResolve",r.WebpackPlugins="Compile.WebpackPlugins",r.BundleSize="Bundle.BundleSize",r.ModuleGraph="Bundle.ModuleGraph",r.TreeShaking="Bundle.TreeShaking",(n||(t.RsdoctorManifestClientConstant=n={})).WindowPropertyForManifestUrl="__DEVTOOLS_MANIFEST_URL__"},75960:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},64141:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},37115:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},76469:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},90558:function(e,t,s){var n=this&&this.__createBinding||(Object.create?function(e,t,s,n){void 0===n&&(n=s);var r=Object.getOwnPropertyDescriptor(t,s);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,n,r)}:function(e,t,s,n){void 0===n&&(n=s),e[n]=t[s]}),r=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||n(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(s(64141),t),r(s(76469),t),r(s(32814),t),r(s(37115),t),r(s(53035),t),r(s(24570),t),r(s(94110),t)},24570:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},32814:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},53035:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},94110:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},83085:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.message=t.code=void 0,t.code="E1001",t.message={code:t.code,title:"Duplicate Packages",type:"markdown",category:"bundle",description:`
#### Description

There is a same name package which is bundled in multiple versions in your application.

This negatively impacts the bundle size of your application.

#### General Solution

Add an entry in \`resolve.alias\` to configure Webpack to route any package references to a single specified path.

For example, if \`lodash\` is duplicated in your bundle, the following configuration would make all Lodash imports refer to the \`lodash\` instance found at \`./node_modules/lodash\`:

\`\`\`js
{
  alias: {
    lodash: path.resolve(__dirname, 'node_modules/lodash')
  }
}
\`\`\`
`}},35204:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.message=t.code=void 0,t.code="E1002",t.message={code:t.code,title:"Cross Chunks Packages",type:"markdown",category:"bundle",description:`
#### Description

There is a package with the same version that is duplicated across different chunks in your application. This redundancy increases the overall bundle size, which is not optimal for performance.

#### General Solution

To address this issue, you can use Rspack's **SplitChunksPlugin** to extract common dependencies into a separate chunk. This ensures that the same package is not duplicated across multiple chunks, thereby reducing the bundle size.

For example, if **lodash** is being duplicated across different chunks, you can configure the **optimization.splitChunks** option in your Webpack configuration to extract **lodash** into a separate chunk:

\`\`\`
module.exports = {
  optimization: {
    splitChunks: {
      cacheGroups: {
        commons: {
          test: /[\\/]node_modules[\\/]lodash[\\/]/,
          name: 'lodash',
          chunks: 'all',
        },
      },
    },
  },
};
\`\`\`

This configuration will automatically split out common dependencies (including those from \`node_modules\`) into separate chunks, ensuring that no package is duplicated across different chunks.
`}},57227:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.message=t.code=void 0,t.code="E1003",t.message={code:t.code,title:"Loader Performance Optimization",type:"markdown",category:"compile",description:`
#### Description

Usually the slow compile of most projects is due to the slow execution of the loaders.

And the loaders always pre-process many unnecessary files, such as \`node_modules files\` and \`already compiled files\`.

#### General Solution

Set \`exclude\` to the \`module.rules\` of webpack configuration for target loader.

For example, if \`node_modules/lodash\` is processed by the \`babel-loader\` that make the compile slowly:

\`\`\`
{
  module: {
    rules: [
      {
        test: /\\.js$/,
        use: 'babel-loader',
        exclude: [
          /node_modules\\/lodash/
        ]
      }
    ]
  }
}
\`\`\`
`}},97442:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.message=t.code=void 0,t.code="E1004",t.message={code:t.code,title:"ECMA Version Check",type:"markdown",category:"bundle",description:`
#### Description

Detect if there is a newer version of ECMA syntax in the js bundle file
`}},65329:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.message=t.code=void 0,t.code="E1005",t.message={code:t.code,title:"Default Import Check",type:"markdown",category:"compile",description:`
#### Description

Usually webpack will automatically compatible different modules that has different types, but in a special case, the operation of compatibility will fail.
That is, when you use \`Default Import\` to import a cjs module, and this cjs module do not have the compatible statement, such as \`exports.default = \`.

#### General Solution

1. for cjs module, write a \`exports.default = \` statement for default export.
2. use \`Namespace Import\` for import the cjs module.

For example, for the package \`htmlparser2@7.2.0\`:

\`\`\`ts
// you should use this
import * as Parser from 'htmlparser2';

// can not use this
import Parser from 'htmlparser2';
\`\`\`
`}},17620:function(e,t,s){var n,r,i=this&&this.__createBinding||(Object.create?function(e,t,s,n){void 0===n&&(n=s);var r=Object.getOwnPropertyDescriptor(t,s);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,n,r)}:function(e,t,s,n){void 0===n&&(n=s),e[n]=t[s]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(n=function(e){return(n=Object.getOwnPropertyNames||function(e){var t=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[t.length]=s);return t})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s=n(e),r=0;r<s.length;r++)"default"!==s[r]&&i(t,e,s[r]);return l(t,e),t}),o=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||i(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),t.RsdoctorRuleClientConstant=t.RuleErrorMap=void 0;let d=a(s(83085)),c=a(s(35204)),u=a(s(57227)),h=a(s(97442)),p=a(s(65329));t.RuleErrorMap={[d.code]:d.message,[c.code]:c.message,[u.code]:u.message,[h.code]:h.message,[p.code]:p.message},(r||(t.RsdoctorRuleClientConstant=r={})).UrlQueryForErrorCode="code",o(s(56018),t)},56018:function(e,t){var s,n,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.RuleMessageCategory=t.RuleMessageCodeEnumerated=void 0,(r=s||(t.RuleMessageCodeEnumerated=s={})).Extend="EXTEND",r.Overlay="OVERLAY",(i=n||(t.RuleMessageCategory=n={})).Compile="compile",i.Bundle="bundle",i.EMO="emo"},27246:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},2616:function(e,t,s){var n=this&&this.__createBinding||(Object.create?function(e,t,s,n){void 0===n&&(n=s);var r=Object.getOwnPropertyDescriptor(t,s);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,n,r)}:function(e,t,s,n){void 0===n&&(n=s),e[n]=t[s]}),r=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||n(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(s(17620),t),r(s(27246),t)},16719:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},15490:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},45717:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},55441:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},97486:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},79338:function(e,t,s){var n=this&&this.__createBinding||(Object.create?function(e,t,s,n){void 0===n&&(n=s);var r=Object.getOwnPropertyDescriptor(t,s);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,n,r)}:function(e,t,s,n){void 0===n&&(n=s),e[n]=t[s]}),r=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||n(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(s(76855),t),r(s(1326),t),r(s(47295),t),r(s(92628),t),r(s(16719),t),r(s(78533),t),r(s(44566),t),r(s(55834),t),r(s(45717),t),r(s(15490),t),r(s(45592),t),r(s(63711),t),r(s(96139),t),r(s(55441),t),r(s(79319),t),r(s(97486),t)},79319:function(e,t){var s,n;Object.defineProperty(t,"__esModule",{value:!0}),t.IMode=void 0,(n=s||(t.IMode=s={})).brief="brief",n.lite="lite",n.normal="normal"},76855:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},92628:function(e,t){var s,n,r,i,l,a;Object.defineProperty(t,"__esModule",{value:!0}),t.ToDataType=t.ModuleKind=t.DependencyKind=void 0,(i=s||(t.DependencyKind=s={}))[i.Unknown=0]="Unknown",i[i.ImportStatement=1]="ImportStatement",i[i.DynamicImport=2]="DynamicImport",i[i.RequireCall=3]="RequireCall",i[i.AMDRequire=4]="AMDRequire",(l=n||(t.ModuleKind=n={}))[l.Normal=0]="Normal",l[l.Concatenation=1]="Concatenation",(a=r||(t.ToDataType=r={}))[a.NoCode=0]="NoCode",a[a.Normal=1]="Normal",a[a.NoSource=2]="NoSource",a[a.NoSourceAndAssets=3]="NoSourceAndAssets",a[a.All=4]="All"},55834:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},47295:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},1326:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},78533:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},62244:function(e,t,s){var n,r,i,l=this&&this.__createBinding||(Object.create?function(e,t,s,n){void 0===n&&(n=s);var r=Object.getOwnPropertyDescriptor(t,s);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,n,r)}:function(e,t,s,n){void 0===n&&(n=s),e[n]=t[s]}),a=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||l(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),t.APIExtends=t.API=void 0,a(s(82294),t),(n=r||(t.API=r={})).ApplyErrorFix="/api/apply/error/fix",n.Env="/api/env",n.EntryHtml="/index.html",n.Manifest="/api/manifest.json",n.LoadDataByKey="/api/data/key",n.SendAPIDataToClient="/api/socket/send",n.GetProjectInfo="/api/project/info",n.GetClientRoutes="/api/routes",n.ReportLoader="/api/loader/report",n.GetLoaderNames="/api/loader/names",n.GetLoaderChartData="/api/loader/chart/data",n.GetLoaderFileTree="/api/loader/filetree",n.GetLoaderFileDetails="/api/loader/file",n.GetLoaderFolderStatistics="/api/loader/folder/statics",n.GetLoaderFileFirstInput="/api/loader/input",n.GetLoaderFileInputAndOutput="/api/loader/inputandoutput",n.GetDirectoriesLoaders="/api/loader/directories",n.ReportSourceMap="/api/sourcemap/report",n.GetResolverFileTree="/api/resolver/filetree",n.GetResolverFileDetails="/api/resolver/file",n.GetPluginSummary="/api/plugins/summary",n.GetPluginData="/api/plugins/data",n.GetSummaryBundles="/api/graph/bundles/summary",n.GetChunkGraph="/api/graph/chunks/graph",n.GetAssetsSummary="/api/graph/assets/summary",n.GetAssetDetails="/api/graph/asset/details",n.GetChunksByModuleId="/api/graph/chunk/module",n.GetModuleDetails="/api/graph/module/details",n.GetModulesByModuleIds="/api/graph/modules/ids",n.GetEntryPoints="/api/graph/entrypoints",n.GetModuleCodeByModuleId="/api/graph/module/code",n.GetModuleCodeByModuleIds="/api/graph/module/codes",n.GetAllModuleGraph="/api/graph/module/all",n.GetAllChunkGraph="/api/graph/chunk/all",n.GetLayers="/api/graph/layers",n.GetSearchModules="/api/search/modules",n.GetSearchModuleInChunk="/api/search/chunk/modules",n.GetAllModuleGraphFilter="/api/graph/module/filter",n.GetModuleByName="/api/graph/module/name",n.GetModuleIssuerPath="/api/graph/module/issuer_path",n.GetPackageInfo="/api/package/info",n.GetPackageDependency="/api/package/dependency",n.GetPackageRelationAlertDetails="/api/alerts/details/package/relation",n.GetOverlayAlerts="/api/alerts/overlay",n.BundleDiffManifest="/api/bundle_diff/manifest.json",n.GetBundleDiffSummary="/api/bundle_diff/summary",n.GetChunkGraphAI="/api/graph/chunks/graph/ai",n.GetChunkByIdAI="/api/graph/chunk/id/ai",(i||(t.APIExtends=i={})).GetCompileProgress="/api/progress"},82294:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},45592:function(e,t,s){var n,r=this&&this.__createBinding||(Object.create?function(e,t,s,n){void 0===n&&(n=s);var r=Object.getOwnPropertyDescriptor(t,s);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,n,r)}:function(e,t,s,n){void 0===n&&(n=s),e[n]=t[s]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||(n=function(e){return(n=Object.getOwnPropertyNames||function(e){var t=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[t.length]=s);return t})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s=n(e),l=0;l<s.length;l++)"default"!==s[l]&&r(t,e,s[l]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.ServerAPI=void 0,t.ServerAPI=l(s(62244))},63711:function(e,t){var s,n;Object.defineProperty(t,"__esModule",{value:!0}),t.StatementKind=void 0,(n=s||(t.StatementKind=s={}))[n.ImportDefault=100]="ImportDefault",n[n.ImportNamed=101]="ImportNamed",n[n.ImportDefaultWithNamed=102]="ImportDefaultWithNamed",n[n.ImportDefaultWithNamespace=103]="ImportDefaultWithNamespace",n[n.ImportNamespace=104]="ImportNamespace",n[n.ImportSideEffect=105]="ImportSideEffect",n[n.ImportDynamic=106]="ImportDynamic",n[n.ExportDeclaration=200]="ExportDeclaration",n[n.ExportList=201]="ExportList",n[n.ExportDefault=202]="ExportDefault",n[n.ExportAggregating=203]="ExportAggregating",n[n.ExportNamespace=204]="ExportNamespace",n[n.RequireCall=300]="RequireCall",n[n.RequireName=301]="RequireName",n[n.RequireExports=302]="RequireExports",n[n.RequireExportAggregating=303]="RequireExportAggregating",n[n.RequireExportName=304]="RequireExportName",n[n.Unknown=999]="Unknown"},44566:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},96139:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},14442:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},20352:function(){},49132:function(){},4678:function(){}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,s),i.loaded=!0,i.exports}s.m=e,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;s.t=function(n,r){if(1&r&&(n=this(n)),8&r||"object"==typeof n&&n&&(4&r&&n.__esModule||16&r&&"function"==typeof n.then))return n;var i=Object.create(null);s.r(i);var l={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>{l[e]=()=>n[e]});return l.default=()=>n,s.d(i,l),i}})(),s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e=[];s.O=(t,n,r,i)=>{if(n){i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[n,r,i];return}for(var a=1/0,l=0;l<e.length;l++){for(var[n,r,i]=e[l],o=!0,d=0;d<n.length;d++)(!1&i||a>=i)&&Object.keys(s.O).every(e=>s.O[e](n[d]))?n.splice(d--,1):(o=!1,i<a&&(a=i));if(o){e.splice(l--,1);var c=r();void 0!==c&&(t=c)}}return t}})(),(()=>{var e={410:0};s.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[l,a,o]=n,d=0;if(l.some(t=>0!==e[t])){for(r in a)s.o(a,r)&&(s.m[r]=a[r]);if(o)var c=o(s)}for(t&&t(n);d<l.length;d++)i=l[d],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(c)},n=self.webpackChunk_rsdoctor_client=self.webpackChunk_rsdoctor_client||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=s.O(void 0,["85","286","637","767","576","25","66","195","485","416","301"],function(){return s(90086)});n=s.O(n)})();